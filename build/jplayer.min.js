/*
    * JPlayer 1.9.20 
    * 2024-06-21 
    * Copyright Radosław Włodkowski <radoslaw@wlodkowski.net> 
    * All rights reserved 
    *
    * based on: 
    * projekktor 
    * http://www.projekktor.com 
    * Copyright 2010-2014, Sascha Kluger, Spinning Airwhale Media, http://www.spinningairwhale.com
    * under GNU General Public License
    *
    */
var projekktorConfig,projekktorPersistentStorage,projekktorPluginInterface,projekktorMessages,playerModel;"undefined"!=typeof window&&"undefined"!=typeof document&&(window.projekktor=window.$p=function(window,document,$){var projekktors=[];function Iterator(t){this.length=t.length,this.each=function(e){$.each(t,e)},this.size=function(){return t.length}}function PPlayer(srcNode,cfg,onReady){this.config=new projekktorConfig,this.storage=new projekktorPersistentStorage(this),this.env={muted:!1,volume:1,playerDom:null,mediaContainer:null,mouseIsOver:!1,loading:!1,className:"",onReady:onReady},this.media=[],this._plugins=[],this._pluginCache={},this._queue=[],this._cuePoints={},this.listeners=[],this.playerModel={},this._isReady=!1,this._isLive=!1,this._isFullViewport=!1,this._maxElapsed=0,this._playlistServer="",this._id="",this._parsers={},this.itemRules=[function(){return null!=arguments[0].id},function(){return!1!==arguments[0].config.active},function(){return null==arguments[0].config.maxviews||arguments[0].viewcount<arguments[0].config.maxviews}],this.addItems=function(e,t,i){var s={added:[],removed:[],indexes:[],currentItemAffected:!1},n,r,a,o,l=[],c=this.getItem();if(i=!!i||!1,t=(t=(t="number"!=typeof t?this.media.length:t)>this.media.length?this.media.length:t)<0?0:t,!$.isEmptyObject(e)){for(e===this.media&&(e=e.slice()),n=0,r=(e=$.isArray(e)?e:[e]).length;n<r;n++)a=e[n],o=[],$.each(a,function(e,t){$.isNumeric(e)&&o.push(t)}),!0!==a.processed&&(a=this._processItem({file:o,config:a.config||{}})),-1<$.inArray(a.id,l)&&(a.id=a.id+"_"+$p.utils.randomId(8)),this.getItemById(a.id)&&((a=$.extend(!0,{},a)).id=$p.utils.randomId(8)),a.hasOwnProperty("cuepoints")&&a.cuepoints&&this.setCuePoints(a.cuepoints,a.id,!0),l.push(a.id),e[n]=a;s.added=e,s.removed=Array.prototype.splice.apply(this.media,[t,!0===i?e.length:0].concat(e)),s.indexes=[t],s.currentItemAffected=-1<$.inArray(c,s.removed),this._promote("scheduleModified",s)}return s},this.removeItemAtIndex=function(i){var e={added:[],removed:[],indexes:[],currentItemAffected:!1},t;return e="number"!=typeof i||0===this.media.length||i>this.media.length-1||i<0?e:this.removeItems(function(e,t){return t===i})},this.removeItemById=function(i){var e={added:[],removed:[],indexes:[],currentItemAffected:!1},t;return e="string"==typeof i&&0!==this.media.length?this.removeItems(function(e,t){return e.id===i}):e},this.removeItemsCategory=function(i){var e={added:[],removed:[],indexes:[],currentItemAffected:!1},t;return e="string"==typeof i&&0!==this.media.length?this.removeItems(function(e,t){return e.cat===i}):e},this.removeItems=function(e){var t={added:[],removed:[],indexes:[],currentItemAffected:!1},i=this.getItem(),s,n=[],r,a;if(void 0===e)e=function(e,t){return!0};else if(!$.isFunction(e))return t;if(0!==this.media.length){for(r=0,a=(s=$.grep(this.media,e)).length;r<a;r++)n.push($.inArray(s[r],this.media));for(r=0,a=n.length;r<a;r++)t.removed.push(this.media.splice(n[r]-r,1)[0]);t.indexes=n,t.currentItemAffected=-1<$.inArray(i,t.removed),this._promote("scheduleModified",t)}return t},this.getItemById=function(t){return this.media.find(function(e){return t===e.id})||null},this.getItemsByCatName=function(t){return this.media.filter(function(e){return t===e.cat})||[]},this._canPlayOnPlatforms=function(t){var i=new Set,e;return($p.cache.modelsILove||[]).forEach(function(e){e.type===t&&e.platform.forEach(function(e){i.add(e)})}),i},this._canPlay=function(e,t){var i=this.getSupportedPlatforms(),t="string"==typeof t?t.toLowerCase():"browser",e="string"==typeof e?e.toLowerCase():void 0;return void 0!==e&&!!i.has(t)&&i.get(t).has(e)},this._processItem=function(e){var t=e.file||[],e=e.config||{},t={id:e.id||$p.utils.randomId(8),cat:e.cat||"clip",file:[],availableFiles:t,platform:"browser",qualities:[],model:"NA",errorCode:void 0,viewcount:0,processed:!1,config:e,cuepoints:[]},e=$.extend({},t);return(e=this._filterSupportedItemFiles(e)).file.length&&(e=this._getBestModelForItem(e),e=this._filterFiles(e,function(e,t,i){return e.type===i[0].type}),e=this._filterQualities(e)),e.processed=!0,e},this._processItemFile=function(e){var t,i={src:$p.utils.toAbsoluteURL(e.src),type:"none/none",originalType:e.type,drm:e.drm||[],codecs:void 0,quality:e.quality||"auto",headers:e.headers};return e.type?(t=$p.utils.parseMimeType(e.type),i.type=t.type+"/"+t.subtype,i.codecs=t.parameters.codecs):i.type=ref._getTypeFromFileExtension(e.src),i},this._filterSupportedItemFiles=function(s){var n=this,e=s.availableFiles||[],r=[];return e.forEach(function(e){var e=n._processItemFile(e),t=e.type,i=e.drm;n.getCanPlay(t)?!i.length||i.some(function(e){return n.getCanPlayWithDrm(e,t)})?r.push(e):s.errorCode=300:s.errorCode=5}),r.length&&(s.errorCode=void 0),s.file=r,s},this._getBestModelForItem=function(e){var s=this,t=e.file,i,n=(e.config||{}).prioritizeBy||this.getConfig("prioritizeBy"),r=Array.from(this.getSupportedPlatforms().keys()),a=[],o,l=e.model,c=e.platform;return"sourcesOrder"===n?o=t[0]:r.some(function(i){return c=i,void 0!==(o=t.find(function(t){return t.drm.length?t.drm.some(function(e){return s.getCanPlayWithDrm(e,t.type,[i])}):s.getCanPlay(t.type,[i])}))}),a=this._filterModelILoves(o.type,o.drm),r.some(function(t){return c=t,void 0!==(l=a.find(function(e){return-1<e.platform.indexOf(t)}))}),e.file=t.splice(t.indexOf(o),1).concat(t),e.model=l.model,e.platform=c,e},this._filterModelILoves=function(t,e){var i=$p.cache.modelsILoveSupported,s=e||[];return i.filter(function(e){return e.type===t&&(!s.length||e.drm&&$p.utils.intersect(e.drm,s).length)})},this._filterQualities=function(e){var i=e.file,t=e.config.playbackQualities||this.getConfig("playbackQualities")||[],s=[],t=t.map(function(e){return e.key}),n=[];return t.push("auto"),i.forEach(function(e){s.push(e.quality)}),s=$p.utils.unique(s),1<(s=$p.utils.intersect(s,t)).length&&s.forEach(function(t){n.push(i.find(function(e){return e.quality===t}))}),0===n.length&&(i[0].quality="auto",n.push(i[0])),e.file=n,e.qualities=s,e},this._filterFiles=function(e,t){var i=e.file||[];return e.file=i.filter(t),e},this.displayReadyHandler=function(){this._syncPlugins("displayready")},this.modelReadyHandler=function(){this._maxElapsed=0,this._promote("item",this.getItemIdx())},this.pluginsReadyHandler=function(e){switch(e.callee){case"parserscollected":var t=this.getParser(e.data[2]);this.setPlaylist(t(e.data)),this.getItemCount()<1&&this.setPlaylist();break;case"reelupdate":this._promote("playlistLoaded",this.getPlaylist()),this.setActiveItem(0);break;case"displayready":this._addGUIListeners(),this._promote("synchronized"),this.getState("AWAKENING")&&this.playerModel.start(),this._isReady||this._promote("ready");break;case"awakening":this.getState("AWAKENING")&&this.playerModel.displayItem(!0)}},this.synchronizedHandler=function(e){this._isReady&&this.playerModel.init&&(!0===this.playerModel._ap||!0===e)&&this.getState("IDLE")&&this.setPlay()},this.scheduleModifiedHandler=function(e){e.currentItemAffected&&this.setActiveItem("next")},this.readyHandler=function(){this._isReady=!0,"function"==typeof onReady&&onReady(this),this.synchronizedHandler(this.getConfig("autoplay"))},this.stateHandler=function(e){var t=this;var i=$.map(this.getDC().attr("class").split(" "),function(e){return-1===e.indexOf(t.getConfig("ns")+"state")?e:null});switch(i.push(this.getConfig("ns")+"state"+e.toLowerCase()),this.getDC().attr("class",i.join(" ")),e){case"STARTING":this.getItem().viewcount++;break;case"AWAKENING":this._syncPlugins("awakening");break;case"ERROR":this._addGUIListeners(),this.getConfig("skipTestcard")&&this.setActiveItem("next");break;case"COMPLETED":this.setActiveItem("next");break;case"IDLE":this.getConfig("leaveFullscreen")&&this.setFullscreen(!1)}},this.volumeHandler=function(e){var t;(t=e<=0)!==this.env.muted&&(this.env.muted=t,this.storage.save("muted",t),this._promote("muted",t)),this.storage.save("volume",e),this.env.volume=e},this.playlistHandler=function(e){this.setFile(e.file,e.type)},this.cuepointsAddHandler=function(e){this._cuepointsChangeEventHandler(e)},this.cuepointsRemoveHandler=function(e){this._cuepointsChangeEventHandler(e)},this.fullscreenHandler=function(e){!0===e?(this._requestFullscreen(),this.getDC().addClass(this.getNS()+"fullscreen")):(this._exitFullscreen(),this.getDC().removeClass(this.getNS()+"fullscreen"))},this.configHandler=function(e){this.setConfig(e)},this.timeHandler=function(e){var t,i;this._maxElapsed<e&&(i=!1,25<(t=(t=Math.round(100*e/this.getDuration()))<25?25:t)&&t<50&&(i="firstquartile",t=50),50<t&&t<75&&(i="midpoint",t=75),75<t&&t<100&&(i="thirdquartile",t=100),!1!==i&&this._promote(i,e),this._maxElapsed=this.getDuration()*t/100)},this.availableQualitiesChangeHandler=function(e){this.getItem().qualities=e},this.qualityChangeHandler=function(e){this.setConfig({playbackQuality:e})},this.streamTypeChangeHandler=function(e){switch(this._isLive="dvr"===e||"live"===e,e){case"dvr":this.getDC().addClass(this.getNS()+"dvr"),this.getDC().addClass(this.getNS()+"live");break;case"live":this.getDC().removeClass(this.getNS()+"dvr"),this.getDC().addClass(this.getNS()+"live");break;default:this.getDC().removeClass(this.getNS()+"dvr"),this.getDC().removeClass(this.getNS()+"live")}},this.doneHandler=function(){this.setActiveItem(0,!1),this.getNextItem()},this._syncPlugins=function(t,i){var s=this,n=function(){try{if(0<s._plugins.length)for(var e=0;e<s._plugins.length;e++)if(!s._plugins[e].isReady())return void setTimeout(n,50);s._promote("pluginsReady",{callee:t,data:i})}catch(e){}};setTimeout(n,50)},this._addGUIListeners=function(){var i=this;this._removeGUIListeners(),this.getDC().on("mousedown mousemove mouseenter mouseleave focus blur",function e(t){i._playerFocusListener(t)}),$(window).on("resize.projekktor"+this.getId(),function(){i.setSize()}).on("touchstart.projekktor"+this.getId(),function(e){i._windowTouchListener(e)}),!0===this.config.enableKeyboard&&($(document).off("keydown.pp"+this._id),$(document).on("keydown.pp"+this._id,function(e){i._keyListener(e)}))},this._removeGUIListeners=function(){$("#"+this.getId()).off(),this.getDC().off(),$(window).off("touchstart.projekktor"+this.getId()),$(window).off("resize.projekktor"+this.getId())},this._registerPlugins=function(){var e=$.merge($.merge([],this.config._plugins),this.config._addplugins),t="",i="projekktor",s=null,n=$p.plugins,r;if(!(0<this._plugins.length||0===e.length))for(r=0;r<e.length;r++)if("function"!=typeof n[t=i+e[r].charAt(0).toUpperCase()+e[r].slice(1)])$p.utils.log("Projekktor Error: Plugin '"+e[r]+"' malicious or not available.");else{for(var a in(s=$.extend(!0,{},new projekktorPluginInterface,n[t].prototype)).name=e[r].toLowerCase(),s.pp=this,s.playerDom=this.env.playerDom,s._init(this.config["plugin_"+e[r].toLowerCase()]||{}),null==this.config["plugin_"+s.name]&&(this.config["plugin_"+s.name]={}),this.config["plugin_"+s.name]=$.extend(!0,{},s.config||{}),s)1<a.indexOf("Handler")&&(this._pluginCache.hasOwnProperty(a)||(this._pluginCache[a]=[]),this._pluginCache[a].push(s));this._plugins.push(s)}},this.removePlugins=function(e){if(0!==this._plugins.length){var t=e||$.merge($.merge([],this.config._plugins),this.config._addplugins),i=this._plugins.length;for(var s=0;s<t.length;s++)for(var n=0;n<i;n++)if(void 0!==this._plugins[n]&&this._plugins[n].name===t[s].toLowerCase())for(var r in this._plugins[n].deconstruct(),this._plugins.splice(n,1),this._pluginCache)if(this._pluginCache.hasOwnProperty(event))for(var a=0;a<this._pluginCache[r].length;a++)this._pluginCache[r][a].name===t[s].toLowerCase()&&this._pluginCache[r].splice(a,1)}},this.getPlugins=function(){var e=[];return $.each(this._plugins,function(){e.push({name:this.name,ver:this.version||"unknown"})}),e},this._modelUpdateListener=function(e,t){this.playerModel.init&&this._promote(e,t)},this._promote=function(e,t){var i=this;this._enqueue(function(){try{i.__promote(e,t)}catch(e){}})},this.__promote=function(e,t){var i=this,s=e,n=this._pluginCache,r=this.listeners||[],a;if("object"==typeof s){if(!s._plugin)return;s="plugin_"+s._plugin+$p.utils.ucfirst(s._event.toLowerCase())}if("time"!==s&&"progress"!==s&&"mousemove"!==s&&$p.utils.log("Event: ["+s+"]",t,r),(a=n[s+"Handler"]||[]).forEach(function(e){try{e[s+"Handler"](t,i)}catch(e){$p.utils.log(e)}}),(a=n.eventHandler||[]).forEach(function(e){try{e.eventHandler(s,t,i)}catch(e){$p.utils.log(e)}}),r.forEach(function(e){if(e.event===s||"*"===e.event)try{e.callback(t,i)}catch(e){$p.utils.log(e)}}),i.hasOwnProperty(s+"Handler"))try{i[e+"Handler"](t)}catch(e){$p.utils.log(e)}},this._detachplayerModel=function(){this._removeGUIListeners();try{this.playerModel.destroy(),this._promote("detach",{})}catch(e){}},this._windowTouchListener=function(e){e.touches&&0<e.touches.length&&(-1<($(document.elementFromPoint(e.touches[0].clientX,e.touches[0].clientY)).attr("id")||"").indexOf(this.getDC().attr("id"))?(!1===this.env.mouseIsOver&&this._promote("mouseenter",{}),this.env.mouseIsOver=!0,this._promote("mousemove",{}),e.stopPropagation()):this.env.mouseIsOver&&(this._promote("mouseleave",{}),this.env.mouseIsOver=!1))},this._playerFocusListener=function(e){var t=e.type.toLowerCase();switch(t){case"mousedown":if(!1!==this.env.mouseIsOver){if(-1<"|TEXTAREA|INPUT".indexOf("|"+e.target.tagName.toUpperCase()))return;if(3===e.which){if($(e.target).hasClass("context"))break;$(document).on("contextmenu",function(e){return $(document).off("contextmenu"),!1})}}break;case"mousemove":if(this.env.mouseX!==e.clientX&&this.env.mouseY!==e.clientY&&(this.env.mouseIsOver=!0),this.env.clientX===e.clientX&&this.env.clientY===e.clientY)return;this.env.clientX=e.clientX,this.env.clientY=e.clientY;break;case"focus":case"mouseenter":this.env.mouseIsOver=!0;break;case"blur":case"mouseleave":this.env.mouseIsOver=!1}this._promote(t,e)},this._keyListener=function(e){var t,i;!this.env.mouseIsOver||-1<"|TEXTAREA|INPUT".indexOf("|"+e.target.tagName.toUpperCase())||(i=0<(t=this).getConfig("keys").length?this.getConfig("keys"):[{13:function(e){e.setFullscreen(!e.getIsFullscreen())},32:function(e,t){e.setPlayPause(),t.preventDefault()},39:function(e,t){e.setPlayhead("+5"),t.preventDefault()},37:function(e,t){e.setPlayhead("-5"),t.preventDefault()},38:function(e,t){e.setVolume("+0.05"),t.preventDefault()},40:function(e,t){e.setVolume("-0.05"),t.preventDefault()},68:function(e){e.setDebug()},67:function(e){$p.utils.log("Config Dump",e.config)},80:function(e){$p.utils.log("Schedule Dump",e.media)},84:function(e){$p.utils.log("Cuepoints Dump",e.getCuePoints())}}],this._promote("key",e),$.each(i||[],function(){try{this[e.keyCode](t,e)}catch(e){}try{this["*"](t)}catch(e){}}))},this._expandView=function(e,t,i){var s=$(e[0].document).find("body"),n=s.css("overflow"),r=e[0]===window.self,a=t.attr("width")||"",o=t.attr("height")||"";return t.data("fsdata",{scrollTop:e.scrollTop()||0,scrollLeft:e.scrollLeft()||0,targetStyle:t.attr("style")||"",targetWidth:t.width(),targetHeight:t.height(),bodyOverflow:"visible"===n?"auto":n,bodyOverflowX:s.css("overflow-x"),bodyOverflowY:s.css("overflow-y"),iframeWidth:-1<a.indexOf("%")?a:parseInt(a)||0,iframeHeight:-1<o.indexOf("%")?o:parseInt(o)||0}).removeAttr("width").removeAttr("height").css({position:r&&!i?"absolute":"fixed",display:"block",top:0,left:0,width:"100%",height:"100%",zIndex:9999999,margin:0,padding:0}),!r&&i&&"BODY"!==i[0].tagName&&i.data("fsdata",{overflow:i.css("overflow"),overflowX:i.css("overflow-x"),overflowY:i.css("overflow-y"),styles:i.attr("style")}).attr("style",(i.attr("style")?i.attr("style")+"; ":"")+"overflow: visible!important;"),e.scrollTop(0).scrollLeft(0),s.css({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"}),!0},this._collapseView=function(e,t,i){var s=e[0]===window.self,n=t?t.data("fsdata"):null,r=i?i.data("fsdata"):null;return null!==n&&($(e[0].document.body).css({overflow:n.bodyOverflow,overflowX:n.bodyOverflowX,overflowY:n.bodyOverflowY}),0<n.iframeWidth&&!s?t.attr("width",n.iframeWidth).attr("height",n.iframeHeight):t.width(n.targetWidth).height(n.targetHeight),t.attr("style",null==n.targetStyle?"":n.targetStyle).data("fsdata",null),!s&&r&&i.attr("style",r.styles||"").data("fsdata",null),e.scrollTop(n.scrollTop).scrollLeft(n.scrollLeft),!0)},this._enterFullViewport=function(){var e=this.getConfig("iframe"),t=e&&this.getIframeParent()||$(window),e=e&&this.getIframe()||this.getDC(),i=e.parent()||null,s=$(t[0].document);return this._isFullViewport=!0,s.find("body").addClass(this.getNS()+"fullviewport"),$(document).on("touchmove.fullviewport",function(e){e.preventDefault()}),this._expandView(t,e,i),!0},this._exitFullViewport=function(){var e=this.getConfig("iframe"),t=e&&this.getIframeParent()||$(window),e=e&&this.getIframe()||this.getDC(),i=e.parent()||null,s=$(t[0].document);return this._isFullViewport=!1,s.find("body").removeClass(this.getNS()+"fullviewport"),$(document).off(".fullviewport"),this._collapseView(t,e,i),!0},this.pluginAPI=function(){var e=Array.prototype.slice.call(arguments)||null,t=e.shift(),i=e.shift();if(null!=t&&null!=i)for(var s=0;s<this._plugins.length;s++)if(this._plugins[s].name===t)return void this._plugins[s][i](e[0])},this.getVersion=function(){return this.config._version},this.getIsLastItem=function(){return!1!==this.getNextItem()},this.getIsFirstItem=function(){return!1!==this.getPreviousItem()},this.getConfig=function(){var e=this.getItemIdx(),t=null,i=!1;if("string"==typeof arguments[0]?i=null!=this.config["_"+(t=arguments[0])]?this.config["_"+t]:this.config[t]:"number"==typeof arguments[0]&&(e=arguments[0]),null==t)return this.media[e].config;if(null==this.config["_"+t])try{void 0!==this.media[e].config[t]&&(i=this.media[e].config[t])}catch(e){}if(-1<t.indexOf("plugin_"))try{this.media[e].config[t]&&(i=$.extend(!0,{},this.config[t],this.media[e].config[t]))}catch(e){}if(null==i)return null;if("object"==typeof i&&null===i.length?i=$.extend(!0,{},i||{}):"object"==typeof i&&(i=$.extend(!0,[],i||[])),"string"==typeof i)switch(i){case"true":i=!0;break;case"false":i=!1;break;case"NaN":case"undefined":case"null":i=null}return i},this.getDC=function(){return this.env.playerDom},this.getState=function(e){var t="IDLE";try{t=this.playerModel.getState()}catch(e){}return e?t===e.toUpperCase():t},this.getLoadProgress=function(){try{return this.playerModel.getLoadProgress()}catch(e){return 0}},this._testItem=function(e){for(var t=0;t<this.itemRules.length;t++)if(!this.itemRules[t](e))return!1;return!0},this.getItemAtIdx=function(e){var t=this,i,s=!1;return $.each(this.media.slice(e||0),function(){return!t._testItem(this)||(s=this,!1)}),s},this.getNextItem=function(){var e=this,t=this.getItemIdx(),i=!1;return $.each(this.media.slice(t+1),function(){return!e._testItem(this)||(i=this,!1)}),this.getConfig("loop")&&!1===i&&$.each(this.media.slice(),function(){return!e._testItem(this)||(i=this,!1)}),i},this.getPreviousItem=function(){var e=this,t=this.getItemIdx(),i=!1;return $.each(this.media.slice(0,t).reverse(),function(){return!e._testItem(this)||(i=this,!1)}),this.getConfig("loop")&&!1===i&&$.each(this.media.slice().reverse(),function(){return!e._testItem(this)||(i=this,!1)}),i},this.getItemCount=function(){return 1===this.media.length&&"NA"===this.media[0].model?0:this.media.length},this.getItemId=function(t){try{return this.playerModel.getId()}catch(e){return this.getItemAtIdx(t).id}},this.getItemIdx=function(e){var t,i=(e||{id:!1}).id||this.getItemId();return this.media.indexOf(this.media.find(function(e){return e.id===i}))},this.getCurrentItem=function(){var t=this;return $.grep(this.media,function(e){return t.getItemId()===e.id})[0]||!1},this.getPlaylist=function(){return this.getItem("*")},this.getItem=function(e){if(1===this.media.length&&"NA"===this.media[0].model)return!1;switch(e||"current"){case"next":return this.getNextItem();case"prev":return this.getPreviousItem();case"current":return this.getCurrentItem();case"*":return this.media;default:return this.getItemAtIdx(e)}},this.getVolume=function(){var e="getIsReady"in this.playerModel&&this.playerModel.getIsReady()?this.playerModel.getVolume():this.env.volume,t=this.getConfig("fixedVolume"),i=this.getMuted();return!0===t&&(e=this.getConfig("volume")),e=i?0:e},this.getMuted=function(){return this.env.muted},this.getTrackId=function(){return this.getConfig("trackId")?this.config.trackId:null!=this._playlistServer?"pl"+this._currentItem:null},this.getLoadPlaybackProgress=function(){try{return this.playerModel.getLoadPlaybackProgress()}catch(e){return 0}},this.getSource=function(){try{return this.playerModel.getSource()[0].src}catch(e){return!1}},this.getDuration=function(){try{return this.playerModel.getDuration()}catch(e){return 0}},this.getIsLiveOrDvr=function(){try{return this._isLive||this.playerModel._isDVR||this.playerModel._isLive}catch(e){return!1}},this.getPosition=function(){try{return this.playerModel.getPosition()||0}catch(e){return 0}},this.getMaxPosition=function(){try{return this.playerModel.getMaxPosition()||0}catch(e){return 0}},this.getFrame=function(){try{return this.playerModel.getFrame()}catch(e){return 0}},this.getTimeLeft=function(){try{return this.playerModel.getDuration()-this.playerModel.getPosition()}catch(e){return this.getItem().duration}},this.getFullscreenType=function(){var e=this.getConfig("fullscreen")||[],t=this.getPlatform(),t=this.config._platformsFullscreenConfig[t]||[],i,s=[],n=[],r="none",a;switch($p.fullscreenApi.type){case"full":s=["full","mediaonly"];break;case"mediaonly":s=["mediaonly"]}for($p.features.inlinevideo&&s.push("viewport"),n=$p.utils.intersect($p.utils.intersect(e,t),s),a=0;a<e.length;a++)if(-1<n.indexOf(e[a])){r=e[a];break}return r},this.getFullscreenEnabled=function(){var e=this.getFullscreenType(),t=$p.fullscreenApi.type,i=!1;switch(e){case"full":i=this._getFullscreenEnabledApi();break;case"mediaonly":i=(!this.getConfig("iframe")||this.config._isCrossDomain||this.getIframeAllowFullscreen())&&this._getFullscreenEnabledApi(t);break;case"viewport":i=!(this.getConfig("iframe")&&!this.config._isCrossDomain)||this.getIframeAllowFullscreen();break;case"none":i=!1}return i},this._getFullscreenEnabledApi=function(e){var e=e||$p.fullscreenApi.type,t=$p.fullscreenApi[e].fullscreenEnabled||!1,i=$p.fullscreenApi[e].supportsFullscreen||!1,s=!1;switch(e){case"full":s=document[t];break;case"mediaonly":this.playerModel.mediaElement&&(s=this.playerModel.mediaElement[0][i])}return s},this.getIsFullscreen=function(){var e=this.getFullscreenType(),t=$p.fullscreenApi.type,i=!1;switch(e){case"full":i=this._getIsFullscreenApi();break;case"mediaonly":i=this._getIsFullscreenApi(t);break;case"viewport":i=this._isFullViewport;break;case"none":i=!1}return i},this._getIsFullscreenApi=function(e){var e=e||$p.fullscreenApi.type,t=$p.fullscreenApi[e].fullscreenElement||!1,i=$p.fullscreenApi[e].isFullscreen||!1,s=$p.fullscreenApi[e].isFullscreen||!1,n=!1;switch(e){case"full":n=document[i]||!!document[t];break;case"mediaonly":n=this.playerModel.mediaElement&&s?this.playerModel.mediaElement[0][s]:this.getDC().hasClass("fullscreen")}return n},this.getMediaContainer=function(){return this.env.mediaContainer||(this.env.mediaContainer=$("#"+this.getMediaId())),0!==this.env.mediaContainer.length&&$.contains(document.body,this.env.mediaContainer[0])||(0<this.env.playerDom.find("."+this.getNS()+"display").length?this.env.mediaContainer=$(document.createElement("div")).attr({id:this.getId()+"_media"}).css({overflow:"hidden",height:"100%",width:"100%",top:0,left:0,padding:0,margin:0,display:"block"}).appendTo(this.env.playerDom.find("."+this.getNS()+"display")):this.env.mediaContainer=$(document.createElement("div")).attr({id:this.getMediaId()}).css({width:"1px",height:"1px"}).appendTo($(document.body))),this.env.mediaContainer},this.getMediaId=function(){return this.getId()+"_media"},this.getMediaType=function(){return"getSrc"in this.playerModel?this._getTypeFromFileExtension(this.playerModel.getSrc()):"none/none"},this.getModel=function(){try{return this.getItem().model}catch(e){return"NA"}},this.getIframeParent=function(){try{var e;return!1!==(parent.location.host||!1)&&$(parent.window)}catch(e){return!1}},this.getIframe=function(){try{var e=[];return 0!==(e=this.config._iframe?window.$(frameElement)||[]:e).length&&e}catch(e){return!1}},this.getIframeAllowFullscreen=function(){var t=!1;try{t=window.frameElement.attributes.allowFullscreen||window.frameElement.attributes.mozallowFullscreen||window.frameElement.attributes.webkitallowFullscreen||!1}catch(e){t=!1}return t},this.getPlaybackQuality=function(){var e="auto";try{e=this.playerModel.getPlaybackQuality()}catch(e){}return"auto"!==(e="auto"===e?this.getConfig("playbackQuality"):e)&&-1!==$.inArray(e,this.getPlaybackQualities())||(e=this.getAppropriateQuality()),e=-1===$.inArray(e,this.getPlaybackQualities())?"auto":e},this.getPlaybackQualities=function(){try{return $.extend(!0,[],this.getItem().qualities||[])}catch(e){}return[]},this.getCanPlay=function(t,e){var i=this,s;return(void 0===e?Array.from(this.getSupportedPlatforms().keys()):e).some(function(e){return i._canPlay(t,e)})},this.getCanPlayOnPlatforms=function(e){return this._canPlayOnPlatforms(e)},this.getIsDrmSystemSupported=function(e){return-1<$p.drm.supportedDrmSystems.indexOf(e)},this.getPlatform=function(e){var e;return(e=e||this.getItem()).platform||"browser"},this.getId=function(){return this._id},this.getHasGUI=function(){try{return this.playerModel.getHasGUI()}catch(e){return!1}},this.getCssPrefix=this.getNS=function(){return this.config._cssClassPrefix||this.config._ns||"pp"},this.getPlayerDimensions=function(){return{width:this.getDC().width(),height:this.getDC().height()}},this.getMediaDimensions=function(){return this.playerModel.getMediaDimensions()||{width:0,height:0}},this.getAppropriateQuality=function(e){var t=e||this.getPlaybackQualities()||[];var i,s,n,r;return 0===t.length?[]:(i=this.env.playerDom.width(),s=this.env.playerDom.height(),n=$p.utils.roundNumber(i/s,2),r={},$.each(this.getConfig("playbackQualities")||[],function(){if(!($.inArray(this.key,t)<0||(this.minHeight||0)>s&&r.minHeight<=s||(r.minHeight||0)>this.minHeight))if("number"==typeof this.minWidth){if(0===this.minWidth&&this.minHeight>s)return!0;if(this.minWidth>i)return!0;r=this}else{var e;"object"==typeof this.minWidth&&$.each((e=this).minWidth,function(){return(this.ratio||100)>n||this.minWidth>i||(r=e),!0})}return!0}),!(-1<$.inArray("auto",this.getPlaybackQualities()))&&r.key||"auto")},this.getFromUrl=function(e,i,s,n,r){var a=null;"_"!==s.substr(0,1)&&(window[s]=function(e){try{delete window[s]}catch(e){}i[s](e)});var e={url:e,complete:function(e,t){if(null==n)try{-1<e.getResponseHeader("Content-Type").indexOf("xml")&&(n="xml"),-1<e.getResponseHeader("Content-Type").indexOf("json")&&(n="json"),-1<e.getResponseHeader("Content-Type").indexOf("html")&&(n="html")}catch(e){}if(a=$p.utils.cleanResponse(e.responseText,n),"error"!==t)try{i[s](a,e.responseText,r)}catch(e){}},error:function(e){i[s]&&i[s](!1)},cache:!0,dataType:n=n&&(-1<n.indexOf("/")?n.split("/")[1]:n)};return e.xhrFields={withCredentials:!1},e.beforeSend=function(e){e.withCredentials=!1},$.support.cors=!0,$.ajax(e),this},this.setActiveItem=function(e,t){var i=this.getItem(),s=null,n=this.config._autoplay,r;if("string"==typeof e)switch(e){case"previous":s=this.getPreviousItem();break;case"next":s=this.getNextItem()}else{if("number"!=typeof e)return this;s=this.getItemAtIdx(e)}var e,i;return!1===s?this.getNextItem()||this._promote("done"):s.id!==i.id&&!0===this.getConfig("disallowSkip")&&-1==="COMPLETED|IDLE|ERROR".indexOf(this.getState())||(this.getState("IDLE")||(n=s.config.hasOwnProperty("continuous")?s.config.continuous:this.config._continuous),this._detachplayerModel(),e=this.getIsFullscreen(),this.getDC().attr("class",this.env.className),e&&this.getDC().addClass("fullscreen"),i=s.model,$p.models.has(i)||(s.model=i="NA",s.errorCode=8),this.playerModel=new playerModel,r=$p.models.get(i),$.extend(this.playerModel,new r),this.__promote("synchronizing","display"),this.initPlayerModel({media:$.extend(!0,{},s),model:i,pp:this,environment:$.extend(!0,{},this.env),autoplay:"boolean"==typeof t?t:n,quality:this.getPlaybackQuality(),fullscreen:e}),this.syncCuePoints()),this},this.initPlayerModel=function(e){this.playerModel._init(e),null!=this.getConfig("className",null)&&this.getDC().addClass(this.getNS()+this.getConfig("className")),this.getDC().addClass(this.getNS()+(this.getConfig("streamType")||"http")),(-1<this.getConfig("streamType").indexOf("dvr")||-1<this.getConfig("streamType").indexOf("live"))&&(this.getDC().addClass(this.getNS()+"live"),this._isLive=!0),$p.features.csstransitions||this.getDC().addClass("notransitions"),$p.userAgent.isMobile&&this.getDC().addClass(this.getNS()+"mobile"),$p.features.volumecontrol||this.getDC().addClass(this.getNS()+"novolumecontrol")},this.setPlay=function(){var e=this;return this.getConfig("thereCanBeOnlyOne")&&projekktor("*").each(function(){this.getId()!==e.getId()&&this.setStop()}),this._enqueue("play",!1),this},this.setPause=function(){return this._enqueue("pause",!1),this},this.setStop=function(e){var t=this;return this.getState("IDLE")||(e?this._enqueue(function(){t.setActiveItem(0)}):this._enqueue("stop",!1)),this},this.setPlayPause=function(){return this.getState("PLAYING")?this.setPause():this.setPlay(),this},this.setVolume=function(e,t){var i=this.getVolume();if(!0!==this.getConfig("fixedVolume")){switch(typeof e){case"string":var s=e.substr(0,1);switch(e=parseFloat(e.substr(1)),s){case"+":e=this.getVolume()+e;break;case"-":e=this.getVolume()-e;break;default:e=this.getVolume()}break;case"number":e=(e=1<(e=parseFloat(e))?1:e)<0?0:e;break;default:return this}if(i<e&&t){if(.03<e-i){for(var n=i;n<=e;n+=.03)this._enqueue("volume",n,t);return this._enqueue("volume",e,t),this}}else if(e<i&&t&&.03<i-e){for(var n=i;e<=n;n-=.03)this._enqueue("volume",n,t);return this._enqueue("volume",e,t),this}this._enqueue("volume",e)}return this},this.setMuted=function(e){var e=void 0===e?!this.env.muted:e,t=this.getVolume(),i;return $p.features.volumecontrol?e&&0<t?(this.env.lastVolume=t,this.setVolume(0)):(this.setVolume("number"==typeof this.env.lastVolume?this.env.lastVolume:t),this.env.lastVolume=null):e?this.setVolume(0):this.setVolume(1),this},this.setPlayhead=this.setSeek=function(e){var t;return!0!==this.getConfig("disallowSkip")&&("string"==typeof e&&(t=e.substr(0,1),e=parseFloat(e.substr(1)),e="+"===t?this.getPosition()+e:"-"===t?this.getPosition()-e:this.getPosition()),"number"==typeof e)&&this._enqueue("seek",Math.round(100*e)/100),this},this.setFrame=function(e){var t;return null!=this.getConfig("fps")&&!0!==this.getConfig("disallowSkip")&&("string"==typeof e&&(t=e.substr(0,1),e=parseFloat(e.substr(1)),e="+"===t?this.getFrame()+e:"-"===t?this.getFrame()-e:this.getFrame()),"number"==typeof e)&&this._enqueue("frame",e),this},this.setPlayerPoster=function(e){var t=this;return this._enqueue(function(){t.setConfig({poster:e},0)}),this._enqueue(function(){t.playerModel.setPosterLive()}),this},this.setConfig=function(){var e=this,t=arguments;return this._enqueue(function(){e._setConfig(t[0]||null,t[1])}),this},this._setConfig=function(){if(arguments.length){var confObj=arguments[0],dest="*",value=!1;if("object"==typeof confObj)for(var i in dest="string"==typeof arguments[1]||"number"==typeof arguments[1]?arguments[1]:this.getItemIdx(),confObj)if(null==this.config["_"+i]){try{value=eval(confObj[i])}catch(e){value=confObj[i]}if("*"===dest)$.each(this.media,function(){null==this.config&&(this.config={}),this.config[i]=value});else{if(null==this.media[dest])return this;null==this.media[dest].config&&(this.media[dest].config={}),this.media[dest].config[i]=value}}return this}},this.setFullscreen=function(e){var e=void 0===e?!this.getIsFullscreen():e;return this.playerModel.applyCommand("fullscreen",e),this},this._requestFullscreen=function(){var e=this.getFullscreenType(),t=$p.fullscreenApi.type,i=!1;switch(e){case"full":case"mediaonly":i=this._requestFullscreenApi(t,e);break;case"viewport":i=this._enterFullViewport();break;case"none":i=!1}return i},this._requestFullscreenApi=function(e,t){var e=e||$p.fullscreenApi.type,i,s=$p.fullscreenApi[e].requestFullscreen||!1,n=$p.fullscreenApi[e].enterFullscreen||!1,r=!!$p.fullscreenApi[e].fullscreenchange&&$p.fullscreenApi[e].fullscreenchange.substr(2),a=!!$p.fullscreenApi[e].fullscreenerror&&$p.fullscreenApi[e].fullscreenerror.substr(2),o="."+this.getNS()+"fullscreen",l=!1,c=this;switch(e){case"full":if("full"===t)i=this.getDC();else if("mediaonly"===t){if(!this.playerModel.mediaElement)return!1;(i=this.playerModel.mediaElement).attr("controls",!0),l=!0}$(document).off(o),r?$(document).on(r+o,function(e){c.getIsFullscreen()||("mediaonly"===t&&i.attr("controls",!1),c.setFullscreen(!1),$(document).off(o))}):$p.utils.log("No fullscreenchange event defined."),a?$(document).on(a+o,function(e){$p.utils.log("fullscreenerror",e),c.setFullscreen(!1),$(document).off(o)}):$p.utils.log("No fullscreenerror event defined."),i[0][s](),l=!0;break;case"mediaonly":l=!!this.playerModel.mediaElement&&((i=this.playerModel.mediaElement)[0][n](),!0)}return l},this._exitFullscreen=function(){var e=this.getFullscreenType(),t=$p.fullscreenApi.type,i=!1;switch(e){case"full":i=this._exitFullscreenApi();break;case"mediaonly":i=this._exitFullscreenApi(t);break;case"viewport":i=this._exitFullViewport();break;case"none":i=!1}return i},this._exitFullscreenApi=function(){var e=$p.fullscreenApi.type,t,i=$p.fullscreenApi[e].exitFullscreen||!1,s=!1;switch(e){case"full":t=document,this.getIsFullscreen()&&t[i](),s=!0;break;case"mediaonly":s=!!this.playerModel.mediaElement&&((t=this.playerModel.mediaElement[0])[i](),!0)}return s},this.setSize=function(e){var t=this.getIframe()||this.getDC(),i=t.data("fsdata")||null,s=e&&null!=e.width?e.width:null!=this.getConfig("width")&&this.getConfig("width"),e=e&&null!=e.height?e.height:null==this.getConfig("height")&&this.getConfig("ratio")?Math.round((s||this.getDC().width())/this.getConfig("ratio")):null!=this.getConfig("height")&&this.getConfig("height");this.getIsFullscreen()&&null!=i?(i.targetWidth=s,i.targetHeight=e,t.data("fsdata",i)):(s&&t.css({width:s+"px"}),e&&t.css({height:e+"px"}));try{this.playerModel.applyCommand("resize",{width:s,height:e})}catch(e){}},this.setLoop=function(e){return this.config._loop=e||!this.config._loop,this},this.setDebug=function(e){return $p.utils.logging=void 0!==e?e:!$p.utils.logging,$p.utils.logging&&$p.utils.log("DEBUG MODE #"+this.getId()+" Level: "+this.getConfig("debugLevel")),this},this.addListener=function(e,t){var i=this;return this._enqueue(function(){i._addListener(e,t)}),this},this._addListener=function(e,t){var e=-1<e.indexOf(".")?e.split("."):[e,"default"];return this.listeners.push({event:e[0],ns:e[1],callback:t}),this},this.removeListener=function(e,t){var i=this.listeners.length,s=-1<e.indexOf(".")?e.split("."):[e,"*"],n=[];for(var r=0;r<i;r++)void 0===this.listeners[r]||this.listeners[r].event!=s[0]&&"*"!==s[0]||this.listeners[r].ns!=s[1]&&"*"!==s[1]||this.listeners[r].callback!==t&&null!=t||n.push(r);for(var r=0,a=n.length;r<a;r++)this.listeners.splice(n[r]-r,1);return this},this.setItem=function(e,t,i){return null===e?this.removeItemAtIndex(t):this.addItems(e,t,i),this},this.setFile=function(){var e=arguments[0]||"",t=arguments[1]||this._getTypeFromFileExtension(e),i=arguments[2]||null,t=[{file:{src:e,type:t,parser:i}}];return this._clearqueue(),this._detachplayerModel(),"object"==typeof e?($p.utils.log("Applying incoming JS Object",e),this.setPlaylist(e)):-1<t[0].file.type.indexOf("/xml")||-1<t[0].file.type.indexOf("/json")?($p.utils.log("Loading playlist data from "+t[0].file.src+" supposed to be "+t[0].file.type),this._promote("scheduleLoading",1+this.getItemCount()),this._playlistServer=t[0].file.src,this.getFromUrl(t[0].file.src,this,"_collectParsers",t[0].file.type,i)):($p.utils.log("Applying single resource:"+t[0].file.src,t),this.setPlaylist(t)),this},this._collectParsers=function(){this._syncPlugins("parserscollected",arguments),this._promote("scheduleLoaded",arguments)},this.addParser=function(e,t){"string"==typeof e&&"function"==typeof t?this._parsers[e.toUpperCase()]=t:$p.utils.log("Failed to set improperly defined parser.")},this.getParser=function(e){return"string"==typeof e?this._parsers[e.toUpperCase()]:function(e){return e}},this.setPlaylist=this.destroy=function(obj){var data=obj||[{file:{src:"",type:"none/none"}}],files=data.playlist||data;this.media=[];try{for(var props in data.config)!data.config.hasOwnProperty(props)||-1<typeof data.config[props].indexOf("objectfunction")||(this.config[props]=eval(data.config[props]));null!=data.config&&($p.utils.log("Updated config var: "+props+" to "+this.config[props]),this._promote("configModified"),delete data.config)}catch(e){}this.addItems(files,0,!0),this._syncPlugins("reelupdate")},this.setPlaybackQuality=function(e){var e=e||this.getAppropriateQuality();return-1<$.inArray(e,this.getItem().qualities||[])&&(this.playerModel.applyCommand("quality",e),this.setConfig({playbackQuality:e})),this},this.openUrl=function(e){return""!==(e=e||{url:"",target:"",pause:!1}).url&&(!0===e.pause&&this.setPause(),window.open(e.url,e.target).focus()),this},this.selfDestruct=this.destroy=function(){var e=this;return this._enqueue(function(){e._destroy()}),this},this._destroy=function(){var t=this;return $(this).off(),this.removePlugins(),this.playerModel.destroy(),this._removeGUIListeners(),$.each(projekktors,function(e){try{this.getId()!==t.getId()&&this.getId()!==t.getId()&&this.getParent()!==t.getId()||projekktors.splice(e,1)}catch(e){}}),this.env.playerDom.replaceWith(this.env.srcNode),this._promote("destroyed"),this.removeListener("*"),this},this.reset=function(t){var i=this;try{this.addListener("fullscreen.reset",function(){i.removeListener("fullscreen.reset"),i._clearqueue(),i._enqueue(function(){i._reset(t)})}),this.setFullscreen(!1)}catch(e){i.removeListener("fullscreen.reset"),i._clearqueue(),i._enqueue(function(){i._reset(t)})}return this},this._reset=function(e){var t={};for(var i in $(this).off(),$(this.getIframe()?parent.window.document:document).off(".projekktor"),$(window).off(".projekktor"+this.getId()),this.playerModel.destroy(),this.playerModel={},this._parsers={},this.removePlugins(),this._removeGUIListeners(),this.env.mediaContainer=null,this.config)this.config.hasOwnProperty(i)&&(t["_"===i.substr(0,1)?i.substr(1):i]=this.config[i]);return t.autoplay=t.loop||e,this},this.setCuePoint=function(e,t,i){var s=void 0!==e.item?e.item:this.getItemId(),t=$.extend(!0,{offset:0},t),i=i||!1,t={id:e.id||$p.utils.randomId(8),group:e.group||"default",item:s,on:($p.utils.toSeconds(e.on)||0)+t.offset,off:($p.utils.toSeconds(e.off)||$p.utils.toSeconds(e.on)||0)+t.offset,value:e.value||null,callback:e.callback||function(){},precision:null==e.precision?1:e.precision,title:null==e.title?"":e.title,once:e.once||!1,blipEvents:e.blipEvents||[],_listeners:[],_unlocked:!1,_active:!1,_lastTime:0,isAvailable:function(){return this._unlocked},_stateListener:function(e,t){if(-1<"STOPPED|COMPLETED|DESTROYING".indexOf(e)){if(this._active)try{this.callback(!1,this,t)}catch(e){}this._active=!1,this._lastTime=-1,this._unlocked=!1}},_timeListener:function(e,t){if(!(t.getItemId()!==this.item&&"*"!==this.item||t.getItemId()!==this.item&&"*"!==this.item)){var e=0===this.precision?Math.round(e):$p.utils.roundNumber(e,this.precision),i=this;if(!1===this._unlocked){var s=t.getDuration()*t.getLoadProgress()/100;if(!(this.on<=s||this.on<=e))return;$.each(this._listeners.unlock||[],function(){this(i,t)}),this._unlocked=!0}if(this._lastTime!==e){var s=e-this._lastTime<=1&&0<e-this._lastTime;if((e>=this.on&&e<=this.off||e>=this.on&&this.on===this.off&&e<=this.on+1)&&!0!==this._active){this._active=!0,$p.utils.log("Cue Point: [ON "+this.on+"] at "+e,this);var n=$.extend(this,{enabled:!0,seeked:!s,player:t});t._promote("cuepoint",n);try{this.callback(n)}catch(e){}this.once&&t.removeCuePointById(this.id,this.item)}else if((e<this.on||e>this.off)&&this.off!==this.on&&!0===this._active){this._active=!1,$p.utils.log("Cue Point: [OFF "+this.off+"] at "+e,this);var n=$.extend(this,{enabled:!1,seeked:!s,player:t});t._promote("cuepoint",n);try{this.callback(n)}catch(e){}this.once&&t.removeCuePointById(this.id,this.item)}this.off===this.on&&this._active&&1<=Number(e-this.on).toPrecision(this.precision)&&(this._active=!1),this._lastTime=e}}},addListener:function(e,t){null==this._listeners[e]&&(this._listeners[e]=[]),this._listeners[e].push(t||function(){})}};return null!=e.unlockCallback&&t.addListener("unlock",e.unlockCallback),this._cuePoints.hasOwnProperty(s)||(this._cuePoints[s]=[]),this._cuePoints[s].push(t),i||this._promote("cuepointsAdd",[t]),this._cuePoints[s]},this.setCuePoints=function(e,t,i,s){var e=e||[],n=t||this.getItemId(),r=i||!1,a=this;return $.each(e,function(){this.item=!r&&this.item||n,a.setCuePoint(this,s,!0)}),e.length&&this._promote("cuepointsAdd",e),this._cuePoints},this.setGotoCuePoint=function(e,t){var i=this.getItemId(),t=t||i;return t===i&&this.setPlayhead(this.getCuePointById(e,t).on),this},this.getCuePoints=function(e,t,i){var e=e||this.getItemId(),s=t&&"*"!==e?$.merge($.merge([],this._cuePoints[e]||[]),this._cuePoints["*"]||[]):this._cuePoints[e]||[],n=[];if(!i||$.isEmptyObject(s))return s;for(var r=0;r<s.length;r++)-1<$.inArray(s[r].group,i)&&n.push(s[r]);return n},this.getCuePointById=function(e,t){var i=!1,t=t||this.getItemId(),s=this.getCuePoints(t);for(var n=0;n<s.length;n++)if(s[n].id===e){i=s[n];break}return i},this.removeCuePoints=function(e,t,i){var s=e||this.getItemId(),n=this._cuePoints,r={},a=[],o=[],l=[];for(var r in n)if(n.hasOwnProperty(r)&&(r===s||t&&"*"===r)){for(var c=0,u=(a=n[r]).length;c<u;c++)(void 0===i||-1<$.inArray(a[c].group,i))&&(this.removeListener("time",a[c].timeEventHandler),this.removeListener("state",a[c].stateEventHandler),o.push(c));for(var d=0,h=o.length;d<h;d++)l.push(a.splice(o[d]-d,1)[0]);a.length||delete n[r],o=[]}return l.length&&this._promote("cuepointsRemove",l),l},this.removeCuePointById=function(e,t){if("string"!=typeof e)return[];var t=t||this.getItemId(),i=this.getCuePoints(t),s=[];for(var n=0;n<i.length;n++)if(i[n].id===e){this.removeListener("time",i[n].timeEventHandler),this.removeListener("state",i[n].stateEventHandler),s=i.splice(n,1);break}return s.length&&this._promote("cuepointsRemove",s),s},this.syncCuePoints=function(){var e=this;return this._enqueue(function(){try{e._applyCuePoints()}catch(e){}}),this},this._cuepointsChangeEventHandler=function(e){var t=this;this._enqueue(function(){try{t._applyCuePoints()}catch(e){}})},this._applyCuePoints=function(){var t=this,e=this.getCuePoints(this.getItemId(),!0)||[];t.removeListener("*.cuepoint"),$.each(e,function(e,i){i.timeEventHandler=function(e,t){try{i._timeListener(e,t)}catch(e){}},i.stateEventHandler=function(e,t){try{i._stateListener(e,t)}catch(e){}},t.addListener("time.cuepoint",i.timeEventHandler),t.addListener("state.cuepoint",i.stateEventHandler)}),this._promote("cuepointsSync",e)},this._enqueue=function(e,t,i){null!=e&&(this._queue.push({command:e,params:t,delay:i}),this._processQueue())},this._clearqueue=function(e,t){!0===this._isReady&&(this._queue=[])},this._processQueue=function(){var i=this;!0!==this._processing&&(this._processing=!0,function e(){try{var t=i._queue.shift();null!=t&&("string"==typeof t.command?0<t.delay?setTimeout(function(){i.playerModel.applyCommand(t.command,t.params)},t.delay):i.playerModel.applyCommand(t.command,t.params):t.command(i))}catch(e){$p.utils.log("ERROR:",e)}0===i._queue.length?i._processing=!1:e()}())},this._getTypeFromFileExtension=function(e){var t=$p.cache.fileExtensionsRegExp,i=$p.cache.fileExtensionMimeTypeMap,e,s="na";var n;return t||(n=[],i.forEach(function(e,t){n.push("\\."+t)}),t=new RegExp("("+n.join("|")+")(?!"+n.join("|")+")(?:[?/#&]{1}.*|$)","i"),$p.cache.fileExtensionsRegExp=t),"string"==typeof e&&(e=e.match(t))&&(s=e[1].replace(".","")),Array.from(i.get(s))[0]},this._getSupportedPlatforms=function(e){var t=$p.cache.platformMimeTypeMap,i=new Map,s;return function(){return e?t:(i.size||(-1===(s=this.getConfig("platforms")||["browser"]).indexOf("browser")&&s.unshift("browser"),s.forEach(function(e){t.has(e)&&i.set(e,t.get(e))})),i)}},this.getSupportedPlatforms=this._getSupportedPlatforms(),this.getSupportedPlatformsGlobal=this._getSupportedPlatforms(!0),this.getPriorityForPlatform=function(){var t;return function(e){return(t=t||Array.from(this.getSupportedPlatforms())).indexOf(e)}}.call(this),this.getCanPlayWithDrm=function(t,i,e){var s,n=$p.drm.supportedDrmSystems,r=$p.cache.modelsILoveSupported,a=Array.from(this.getSupportedPlatforms().keys()),o=Array.isArray(e)?$p.utils.intersect(a,e):a;return-1<n.indexOf(t)&&r.some(function(e){return e.drm&&-1<e.drm.indexOf(t)&&e.type===i&&$p.utils.intersect(e.platform,o).length})},this._readMediaTag=function(e){var t={},i="",s=[],n=this;if(-1==="VIDEOAUDIO".indexOf(e[0].tagName.toUpperCase()))return!1;this.getConfig("ignoreAttributes")||(t={autoplay:(void 0!==e.attr("autoplay")||void 0!==e.prop("autoplay"))&&!1!==e.prop("autoplay"),controls:(void 0!==e.attr("controls")||void 0!==e.prop("controls"))&&!1!==e.prop("controls"),muted:(void 0!==e.attr("muted")||void 0!==e.prop("muted"))&&!1!==e.prop("muted"),loop:(void 0!==e.attr("autoplay")||void 0!==e.prop("loop"))&&!1!==e.prop("loop"),title:void 0!==e.attr("title")&&!1!==e.attr("title")?e.attr("title"):"",poster:void 0!==e.attr("poster")&&!1!==e.attr("poster")?e.attr("poster"):"",width:void 0!==e.attr("width")&&!1!==e.attr("width")?e.attr("width"):null,height:void 0!==e.attr("height")&&!1!==e.attr("height")?e.attr("height"):null}),i=$($("<div></div>").html($(e).clone())).html(),s=["autoplay","controls","loop","muted"];for(var r=0;r<s.length;r++)-1!==i.indexOf(s[r])&&(t[s[r]]=!0);if(t.playlist=[],t.playlist[0]=[],t.playlist[0].config={tracks:[]},e.attr("src")&&t.playlist[0].push({src:e.attr("src"),type:e.attr("type")||this._getTypeFromFileExtension(e.attr("src"))}),!$("<video/>").get(0).canPlayType){var a=e;do{if((a=a.next("source,track")).attr("src"))switch(a.get(0).tagName.toUpperCase()){case"SOURCE":t.playlist[0].push({src:a.attr("src"),type:a.attr("type")||this._getTypeFromFileExtension(a.attr("src")),quality:a.attr("data-quality")||""});break;case"TRACK":$(this).attr("src")&&t.playlist[0].config.tracks.push({src:a.attr("src"),kind:a.attr("kind")||"subtitle",lang:a.attr("srclang")||null,label:a.attr("label")||null})}}while(a.attr("src"))}return 0===t.playlist[0].length&&e.children("source,track").each(function(){if($(this).attr("src"))switch($(this).get(0).tagName.toUpperCase()){case"SOURCE":t.playlist[0].push({src:$(this).attr("src"),type:$(this).attr("type")||n._getTypeFromFileExtension($(this).attr("src")),quality:$(this).attr("data-quality")||""});break;case"TRACK":t.playlist[0].config.tracks.push({src:$(this).attr("src"),kind:$(this).attr("kind")||"subtitle",lang:$(this).attr("srclang")||null,label:$(this).attr("label")||null})}}),t},this._init=function(e,t){var e=e||srcNode,i=t||cfg,t=this._readMediaTag(e),s=this,n=this.getIframeParent();if(this.env.srcNode=e.wrap("<div></div>").parent().html(),e.unwrap(),this.env.className=e.attr("class")||"",this._id=e[0].id||$p.utils.randomId(8),!1!==t){this.env.playerDom=$("<div/>").attr({class:e[0].className,style:e.attr("style")}),e.replaceWith(this.env.playerDom),e.empty().removeAttr("type").removeAttr("src");try{e.get(0).pause(),e.get(0).load()}catch(e){}$("<div/>").append(e).get(0).innerHTML="",e=null}else this.env.playerDom=e;for(var r in i=$.extend(!0,{},t,i))null!=this.config["_"+r]?this.config["_"+r]=i[r]:-1<r.indexOf("plugin_")?this.config[r]=$.extend(this.config[r],i[r]):this.config[r]=i[r];for(var r in this.setDebug(this.getConfig("debug")),$.isArray(this.config._platforms)||($p.utils.log("ERROR: platforms config must be an array. Reset platforms config to the defaults."),this.config._platforms=Object.getPrototypeOf(this.config)._platforms||[]),-1===$.inArray("browser",this.config._platforms)&&($p.utils.log('ERROR: "browser" platform not present in platforms config. Adding it.'),this.config._platforms.unshift("browser")),this.setSize(),this.getConfig("forceMuted")?this.env.muted=!0:this.env.muted=null!==this.storage.restore("muted")?this.storage.restore("muted"):this.env.muted,this.env.muted?this.env.volume=0:this.env.volume=null!==this.storage.restore("volume")?this.storage.restore("volume"):this.getConfig("volume"),this.env.playerDom.attr("id",this._id),this._registerPlugins(),!0===this.config._iframe&&(n?n.ready(function(){s._expandView($(window),s.getDC())}):s._expandView($(window),s.getDC())),!1===n&&(this.config._isCrossDomain=!0),this.config._playlist[0])if(this.config._playlist[0][r].type&&(-1<this.config._playlist[0][r].type.indexOf("/json")||-1<this.config._playlist[0][r].type.indexOf("/xml")))return this.setFile(this.config._playlist[0][r].src,this.config._playlist[0][r].type,this.config._playlist[0][r].parser),this;return this.setFile(this.config._playlist),this};var ref=this;0<$p.initPromises.length?Promise.all($p.initPromises).then(function(e){return $p.initPromises.length=0,ref._init()},function(e){$p.utils.log("initPromises failed: "+e)}):ref._init()}function Projekktor(){var e=arguments[0],t=[];if($p.testMediaSupport(),!arguments.length)return projekktors[0]||null;if("number"==typeof e)return projekktors[e];if("string"==typeof e){if("*"===e)return new Iterator(projekktors);for(var i=0;i<projekktors.length;i++){try{if(projekktors[i].getId()==e.id){t.push(projekktors[i]);continue}}catch(e){}try{for(var s=0;s<$(e).length;s++)projekktors[i].env.playerDom.get(0)==$(e).get(s)&&t.push(projekktors[i])}catch(e){}try{if(projekktors[i].getParent()==e){t.push(projekktors[i]);continue}}catch(e){}try{projekktors[i].getId()==e&&t.push(projekktors[i])}catch(e){}}if(0<t.length)return 1==t.length?t[0]:new Iterator(t)}var n,r,a,o;return 0===t.length?(n=arguments[1]||{},r=arguments[2]||{},a=0,"string"==typeof e?($.each($(e),function(){o=new PPlayer($(this),n,r),projekktors.push(o),a++}),1<a?new Iterator(projekktors):o):e?(projekktors.push(new PPlayer(e,n,r)),new Iterator(projekktors)):void 0):void 0}return Object.defineProperties(Projekktor,{initPromises:{value:[]},cache:{value:{modelsILove:[],modelsILoveSupported:void 0,platformMimeTypeMap:void 0,fileExtensionMimeTypeMap:void 0}},models:{value:new Map},newModel:{value:function(e,t){var i=this.models,s=this.cache.modelsILove,n=e.modelId,t=i.has(t)?i.get(t).prototype:{},r;return!i.has(n)&&((r=function(){}).prototype=$.extend({},t,e),i.set(n,r),e.iLove.forEach(function(e){e.model=n,s.push(e)}),!0)}},plugins:{value:{}},testMediaSupport:{value:function(){var r,a,o,e;$p.cache.platformMimeTypeMap||$p.cache.fileExtensionMimeTypeMap||(r=new Map,a=new Map,o=[],(e=$p.cache.modelsILove||[]).forEach(function(i){var e=i.platform||[],s=i.model,n=i.type,t=i.ext;r.has(t)||r.set(t,new Set),r.get(t).add(n),e.forEach(function(e){var t;$p.platforms.hasOwnProperty(e)&&(t=String($p.models.get(s).prototype[e+"Version"]),$p.utils.versionCompare($p.platforms[e](n),t))&&(a.has(e)||a.set(e,new Set),a.get(e).add(n),o.push(i))})}),$p.cache.fileExtensionMimeTypeMap=r,$p.cache.platformMimeTypeMap=a,$p.cache.modelsILoveSupported=o)}}}),Projekktor}(window,document,jQuery),projekktorConfig=function(e,t,i,s){function n(){this._version="1.9.20"}return n}(window,document,jQuery,projekktor),function(e,t,i,s,n){n.prototype={_playerName:"JPlayer",_playerHome:"",_plugins:["display","overlay","ads","controlbar","tracking","settings"],_addplugins:[],_reelParser:null,_ns:"pp",_platforms:["browser","android","ios","native","mse","videojs"],_platformsConfig:{mse:{hlsjs:{src:"",initVars:{}},dashjs:{src:"",initVars:{}}},videojs:{src:""}},_platformsFullscreenConfig:{browser:["full","viewport"],native:["full","mediaonly","viewport"],android:["full","mediaonly","viewport"],ios:["full","mediaonly","viewport"],mse:["full","viewport"],videojs:["full","viewport"]},_iframe:!1,_ignoreAttributes:!1,_loop:!1,_autoplay:!1,_continuous:!0,_thereCanBeOnlyOne:!1,_playlist:[],_debug:!1,debugLevel:"plugins,events,",_width:null,_height:null,_ratio:!1,_keys:[{27:function(e){e.setFullscreen(!1)},32:function(e,t){e.setPlayPause(),t.preventDefault()},70:function(e){e.setFullscreen(!0)},39:function(e,t){e.setPlayhead("+5"),t.preventDefault()},37:function(e,t){e.setPlayhead("-5"),t.preventDefault()},38:function(e,t){e.setVolume("+0.05"),t.preventDefault()},40:function(e,t){e.setVolume("-0.05"),t.preventDefault()},68:function(e){e.setDebug()},67:function(e){s.utils.log("Config Dump",e.config)},88:function(e){s.utils.log("Playlist Dump",e.getItem())},89:function(e){s.utils.log("Current Quality",e.getAppropriateQuality())}}],_isCrossDomain:!1,_leaveFullscreen:!0,_fullscreen:["full","mediaonly","viewport"],id:null,title:null,cat:"clip",prioritizeBy:"sourcesOrder",poster:null,controls:!0,start:!1,stop:!1,volume:.8,cover:"",disablePause:!1,disallowSkip:!1,fixedVolume:!1,forceMuted:!1,imageScaling:"aspectratio",videoScaling:"aspectratio",streamType:"http",streamServer:"",rtmpUrlIncludesApplicationInstance:!1,useYTIframeAPI:!0,enableKeyboard:!0,playbackQuality:"auto",_playbackQualities:[{key:"small",minHeight:240,minWidth:240},{key:"medium",minHeight:360,minWidth:[{ratio:1.77,minWidth:640},{ratio:1.33,minWidth:480}]},{key:"large",minHeight:480,minWidth:[{ratio:1.77,minWidth:853},{ratio:1.33,minWidth:640}]},{key:"hd1080",minHeight:1080,minWidth:[{ratio:1.77,minWidth:1920},{ratio:1.33,minWidth:1440}]},{key:"hd720",minHeight:720,minWidth:[{ratio:1.77,minWidth:1280},{ratio:1.33,minWidth:960}]},{key:"highres",minHeight:1081,minWidth:0}],dynamicStreamQualityKeyFormatAudioVideo:"%{height}p | %{bitrate}%{bitrateunit}",dynamicStreamQualityKeyFormatAudioOnly:"audio | %{bitrate}%{bitrateunit}",dynamicStreamQualityKeyBitrateRoundingDecimalPlacesCount:1,dynamicStreamShowAudioOnlyQualities:!1,enableTestcard:!0,skipTestcard:!1,duration:0,className:"",plugin_ads:{},plugin_controlbar:{showCuePoints:!0,showCuePointsImmediately:!0,showCuePointGroups:["midroll"],showOnIdle:!0,showOnStart:!1,onPrevClick:null,onNextClick:null,controlsTemplate:'<ul class="left"><li><div %{play}></div><div %{pause}></div></li></ul><ul class="right"><li><div %{logo}></div></li><li><div %{fsexit}></div><div %{fsenter}></div></li><li><div %{settingsbtn}></div></li><li><div %{subtitlesbtn}></div></li><li><div %{vmax}></div></li><li><div %{vslider}><div %{vmarker}></div><div %{vknob}></div></div></li><li><div %{mute}></div></li><li><div %{timeleft}>%{hr_elp}:%{min_elp}:%{sec_elp} | %{hr_dur}:%{min_dur}:%{sec_dur}</div></li><li><div %{golive}></div></li></ul><ul class="bottom"><li><div %{scrubber}><div %{loaded}></div><div %{playhead}></div><div %{scrubberknob}></div><div %{scrubberdrag}></div></div></li></ul><div %{scrubbertip}>%{hr_tip}:%{min_tip}:%{sec_tip}</div>'},plugin_settings:{settingsMenu:'<ul data-id="quality" class="ppsettingslist active"><li class="first label">%{quality}</li></ul><div class="ppclear"></div>',versionTpl:'<div data-pp-settings-func="toolwindow_version"><p>JPlayer V%{version}</p><p><a class="btn cancel" href="#">%{ok}</a></p></div>',debugTpl:'<div data-pp-settings-func="toolwindow_debug"><div class="wizzard inactive" data-id="debug_1"><p><b>%{report}</b></p><p><textarea data-id="message">%{please}</textarea></p><p><a class="btn cancel" href="#">%{cancel}</a><a class="btn next" data-step="2" href="#">%{continue}</a></p></div><div class="wizzard inactive" data-id="debug_2"><p><b>%{sendto}</b></p><p><textarea data-id="result">%{please}</textarea></p><p><a class="btn next" href="#" data-step="3">%{ok}</a></p></div><div class="wizzard inactive" data-id="debug_3"><p>%{thanks}</p><p><a class="btn cancel" href="#">%{ok}</a></p></div></div><div data-pp-settings-func="toolwindow_error"><div class="wizzard inactive" data-id="error_1"><p><b>%{error}<br/> %{sendto}</b></p><p><textarea data-id="errortxt"></textarea></p><p><a class="btn next" href="#" data-step="3">%{ok}</a></p></div><div class="wizzard inactive" data-id="error_2"><p>%{thanks}</p><p><a class="btn cancel" href="#">%{ok}</a></p></div></div>',helpTpl:'<div data-pp-settings-func="toolwindow_help"><p><b>%{keyboard assignments}</b></p><p class="key">%{help1}</p><p class="key">%{help2}</p><p class="key">%{help3}</p><p>%{help4}</p><p><a class="btn cancel" href="#">%{ok}</a></p></div>'}}}(window,document,jQuery,projekktor,projekktorConfig),function(a,s,g,m){m.utils={imageDummy:function(){return"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABBJREFUeNpi/v//PwNAgAEACQsDAUdpTjcAAAAASUVORK5CYII="},videoDummy:function(e){return"data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAABfttZGF0AAACoAYF//+c3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0OCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTYgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0xIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDM6MHgxMTMgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTEgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz00IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MyBiX3B5cmFtaWQ9MiBiX2FkYXB0PTEgYl9iaWFzPTAgZGlyZWN0PTEgd2VpZ2h0Yj0xIG9wZW5fZ29wPTAgd2VpZ2h0cD0yIGtleWludD0yNTAga2V5aW50X21pbj0yNSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmNfbG9va2FoZWFkPTQwIHJjPWNyZiBtYnRyZWU9MSBjcmY9MjMuMCBxY29tcD0wLjYwIHFwbWluPTAgcXBtYXg9NjkgcXBzdGVwPTQgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADRliIQAN//+9vD+BTZWBFCXEc3onTMfvxW4ujQ3vdAiDuN5tmMABMa1jgAAAwNyBesyMBavAAAADEGaJGxDf/6nhAAwIAAAAAlBnkJ4hX8AJuHeAgBMYXZjNTcuNjQuMTAxAEIgCMEYOCEQBGCMHAAAAAkBnmF0Qn8AMqAhEARgjBwhEARgjBwAAAAJAZ5jakJ/ADKhIRAEYIwcAAAAEkGaaEmoQWiZTAhv//6nhAAwISEQBGCMHCEQBGCMHAAAAAtBnoZFESwr/wAm4SEQBGCMHAAAAAkBnqV0Qn8AMqEhEARgjBwhEARgjBwAAAAJAZ6nakJ/ADKgIRAEYIwcAAAAEkGarEmoQWyZTAhv//6nhAAwICEQBGCMHCEQBGCMHAAAAAtBnspFFSwr/wAm4SEQBGCMHCEQBGCMHAAAAAkBnul0Qn8AMqAhEARgjBwAAAAJAZ7rakJ/ADKgIRAEYIwcIRAEYIwcAAAAEkGa8EmoQWyZTAhv//6nhAAwISEQBGCMHAAAAAtBnw5FFSwr/wAm4SEQBGCMHCEQBGCMHAAAAAkBny10Qn8AMqEhEARgjBwAAAAJAZ8vakJ/ADKgIRAEYIwcIRAEYIwcAAAAEkGbNEmoQWyZTAhv//6nhAAwICEQBGCMHCEQBGCMHAAAAAtBn1JFFSwr/wAm4SEQBGCMHAAAAAkBn3F0Qn8AMqAhEARgjBwhEARgjBwAAAAJAZ9zakJ/ADKgIRAEYIwcAAAAEkGbeEmoQWyZTAhn//6eEAC7gSEQBGCMHCEQBGCMHAAAAAtBn5ZFFSwr/wAm4CEQBGCMHAAAAAkBn7V0Qn8AMqEhEARgjBwhEARgjBwAAAAJAZ+3akJ/ADKhIRAEYIwcAAAAEkGbvEmoQWyZTAhf//6MsAC8gCEQBGCMHCEQBGCMHAAAAAtBn9pFFSwr/wAm4SEQBGCMHCEQBGCMHAAAAAkBn/l0Qn8AMqAhEARgjBwAAAAJAZ/7akJ/ADKhIRAEYIwcIRAEYIwcAAAAEkGb/kmoQWyZTBRMJ//98QAG9SEQBGCMHAAAAAkBnh1qQn8AMqAhEARgjBwhEARgjBwhEARgjBwhEARgjBwhEARgjBwhEARgjBwhEARgjBwAAAlUbW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABEAAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAABDt0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAABAsAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAQAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQLAAAH0gABAAAAAAOzbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAeTdVxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAADXm1pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAx5zdGJsAAAApnN0c2QAAAAAAAAAAQAAAJZhdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAQAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAAMGF2Y0MBZAAM/+EAF2dkAAys2UEBOwEQAAA+kAAOpgDxQplgAQAGaOvjyyLAAAAAEHBhc3AAAAABAAAAAQAAABhzdHRzAAAAAAAAAAEAAAAfAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAABCGN0dHMAAAAAAAAAHwAAAAEAAAfSAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAATjQAAAAEAAAfSAAAAAQAAAAAAAAABAAAD6QAAAAEAABONAAAAAQAAB9IAAAABAAAAAAAAAAEAAAPpAAAAAQAAE40AAAABAAAH0gAAAAEAAAAAAAAAAQAAA+kAAAABAAALuwAAAAEAAAPpAAAAKHN0c2MAAAAAAAAAAgAAAAEAAAADAAAAAQAAAAIAAAABAAAAAQAAAJBzdHN6AAAAAAAAAAAAAAAfAAAC3AAAABAAAAANAAAADQAAAA0AAAAWAAAADwAAAA0AAAANAAAAFgAAAA8AAAANAAAADQAAABYAAAAPAAAADQAAAA0AAAAWAAAADwAAAA0AAAANAAAAFgAAAA8AAAANAAAADQAAABYAAAAPAAAADQAAAA0AAAAWAAAADQAAAIRzdGNvAAAAAAAAAB0AAAAwAAADRgAAA18AAANyAAADlAAAA6kAAAPCAAAD1QAAA/cAAAQSAAAEJQAABD4AAARaAAAEdQAABIgAAAShAAAEwwAABNgAAATxAAAFBAAABSYAAAU7AAAFVAAABWcAAAWJAAAFpAAABbcAAAXQAAAF7AAABEN0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABEAAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAARAAAAAAAABAAAAAAO7bWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAzABVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADZm1pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADKnN0YmwAAABqc3RzZAAAAAAAAAABAAAAWm1wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAANmVzZHMAAAAAA4CAgCUAAgAEgICAF0AVAAAAAAH0AAAACUcFgICABRGQVuUABoCAgAECAAAAGHN0dHMAAAAAAAAAAQAAADMAAAQAAAABPHN0c2MAAAAAAAAAGQAAAAEAAAACAAAAAQAAAAMAAAABAAAAAQAAAAQAAAACAAAAAQAAAAUAAAABAAAAAQAAAAYAAAACAAAAAQAAAAcAAAABAAAAAQAAAAgAAAACAAAAAQAAAAoAAAABAAAAAQAAAAsAAAACAAAAAQAAAAwAAAABAAAAAQAAAA0AAAACAAAAAQAAAA4AAAABAAAAAQAAAA8AAAACAAAAAQAAABEAAAABAAAAAQAAABIAAAACAAAAAQAAABMAAAABAAAAAQAAABQAAAACAAAAAQAAABUAAAABAAAAAQAAABYAAAACAAAAAQAAABcAAAABAAAAAQAAABgAAAACAAAAAQAAABoAAAABAAAAAQAAABsAAAACAAAAAQAAABwAAAABAAAAAQAAAB0AAAAHAAAAAQAAAOBzdHN6AAAAAAAAAAAAAAAzAAAAFwAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAAhHN0Y28AAAAAAAAAHQAAAykAAANTAAADbAAAA4gAAAOjAAADtgAAA88AAAPrAAAEBgAABB8AAAQyAAAEVAAABGkAAASCAAAElQAABLcAAATSAAAE5QAABP4AAAUaAAAFNQAABUgAAAVhAAAFfQAABZgAAAWxAAAFxAAABeYAAAX5AAAAYnVkdGEAAABabWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAtaWxzdAAAACWpdG9vAAAAHWRhdGEAAAABAAAAAExhdmY1Ny41Ni4xMDE="},blockSelection:function(e){return e&&e.css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),e},unique:function(e){return Array.from(new Set(e))},intersect:function(e,t){var e=Array.from(new Set(e)),i=new Set(t),t=new Set(e.filter(function(e){return i.has(e)}));return Array.from(t)},roundNumber:function(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)},randomId:function(e){var t="abcdefghiklmnopqrstuvwxyz",i=t.length,s=e||8,n="",r,a;for(a=0;a<s;a++)r=Math.floor(Math.random()*i),n+=t.substr(r,1);return n},toAbsoluteURL:function(e){var t=location,i,s,t,n;if(null==e||""==e)return"";if(/^\w+:/.test(e))return e;if(i=t.protocol+"//"+t.host,0===e.indexOf("/"))return i+e;if(s=t.pathname.replace(/\/[^\/]*$/,""),t=e.match(/\.\.\//g))for(e=e.substring(3*t.length),n=t.length;n--;)s=s.substring(0,s.lastIndexOf("/"));return i+s+"/"+e},strip:function(e){return e.replace(/^\s+|\s+$/g,"")},toSeconds:function(e){var t=0;if("string"!=typeof e)return e;if(e){var i=e.split(":");3<i.length&&(i=i.slice(0,3));for(var s=0;s<i.length;s++)t=60*t+parseFloat(i[s].replace(",","."))}return parseFloat(t)},toTimeObject:function(e){var t,i=e%3600,s,n,r;return{h:Math.floor(e/3600),m:Math.floor(i/60),s:Math.floor(i%60)}},toTimeString:function(e,t){var e=this.toTimeObject(e),i=e.h,s=e.m,e=e.s;return i<10&&(i="0"+i),s<10&&(s="0"+s),e<10&&(e="0"+e),!0===t?i+":"+s:i+":"+s+":"+e},getScript:function(e,t){return t=g.extend(t||{},{dataType:"script",url:e}),jQuery.ajax(t)},getCss:function(e,t){var i=g("<link>",{rel:"stylesheet",type:"text/css",href:e});"function"==typeof callback&&i.on("load",t),e&&i.appendTo("head")},stretch:function(e,t,i,s,n,r){var a="%",o=i,l=s;if(!t)return!1;(t=t instanceof g==!1?g(t):t).attr("data-od-width")||t.attr("data-od-width",t.width()),t.attr("data-od-height")||t.attr("data-od-height",t.height());var c=void 0!==n?n:t.attr("data-od-width"),u=void 0!==r?r:t.attr("data-od-height"),d=o/c,h=l/u,p=o,f=l;switch(e){case"none":o=c,l=u,a="px";break;case"fill":h<d?(p=c*d,f=u*d):d<h&&(p=c*h,f=u*h),o=m.utils.roundNumber(p/o*100,0),l=m.utils.roundNumber(f/l*100,0),a="%";break;default:h<d?(p=c*h,f=u*h):d<h&&(p=c*d,f=u*d),o=m.utils.roundNumber(p/o*100,0),l=m.utils.roundNumber(f/l*100,0),a="%"}return 0!==o&&0!==l&&(t.css({margin:0,padding:0,width:o+a,height:l+a,left:(("%"===a?100:i)-o)/2+a,top:(("%"===a?100:s)-l)/2+a}),t.attr("data-od-width")!=t.width()||t.attr("data-od-height")!=t.height())},parseUri:function(e){var s={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},t=s.parser[s.strictMode?"strict":"loose"].exec(e),n={},i=14;while(i--)n[s.key[i]]=t[i]||"";return n[s.q.name]={},n[s.key[12]].replace(s.q.parser,function(e,t,i){t&&(n[s.q.name][t]=i)}),n},log:function(){!1!==this.logging&&(this.history=this.history||[],this.history.push(arguments),a.console)&&console.log(Array.prototype.slice.call(arguments))},copyToClipboard:function(e){var t=s.createElement("textarea"),i=!1;t.value=e,s.body.appendChild(t),t.focus(),t.setSelectionRange(0,t.value.length);try{i=s.execCommand("copy")}catch(e){}return s.body.removeChild(t),i},cleanResponse:function(e,t){var i=!1;switch(t){case"html":case"xml":i=(i=new DOMParser).parseFromString(e,"text/xml");break;case"json":"string"==typeof(i=e)&&(i=JSON.parse(i));break;default:i=e}return i},versionCompare:function(e,t){var i=String(e).split(".").map(Number),s=String(t).split(".").map(Number),n,r;if(i.some(isNaN)||s.some(isNaN))return!1;for(var a=0;a<3;a++){if((r=s[a])<(n=void 0===i[a]?0:i[a]))return!0;if(n<r)return!1}return!0},parseTemplate:function(e,t,i){var s=e,n;if(void 0!==t&&0!=t.length&&"object"==typeof t){for(n in t)t.hasOwnProperty(n)&&(s=s.replace(new RegExp("%{"+this.regExpEsc(n)+"}","gi"),!0===i?a.encodeURIComponent(t[n]):t[n]));s=s.replace(/%{(.*?)}/gi,"")}return s},i18n:function(e,t){var i=/%{([^}]+)}/g,s=g.extend({},projekktorMessages,t),n,r="";while(n=i.exec(e))r=s.hasOwnProperty(n[1])?s[n[1]]:n[1],e=e.replace(new RegExp("%{"+m.utils.regExpEsc(n[1])+"}","gi"),r);return e},errorMessage:function(e,t){var t={title:t.getConfig("title"),version:t.getVersion()};return this.i18n("%{error"+e+"}",t)},regExpEsc:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},parseMimeType:function(e){var t,i,s,n,r=/^[!#$%&'*+\-.^_`|~0-9A-Za-z]+$/,a=/^(.*?)\/(.*?)([\t ]*;.*)?$/,o=/; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *("(?:[\u000b\u0020\u0021\u0023-\u005b\u005d-\u007e\u0080-\u00ff]|\\[\u000b\u0020-\u00ff])*"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g,l=/"(?:[\t \x21\x23-\x5B\x5D-\x7E\x80-\xFF]|(?:\\[\t \x21-\x7E\x80-\xFF]))*"/,c=/\\([\u000b\u0020-\u00ff])/g,a,u,d,u;if(e&&(a=a.exec(e))&&(t=a[1],i=a[2],s=a[3],r.test(t))&&r.test(i)){n={};while(u=o.exec(s))d=u[1],u=u[2],l.test(u)&&(u=u.substr(1,u.length-2).replace(c,"$1")),d&&(n[d.toLowerCase()]=u);return{type:t,subtype:i,parameters:n}}return null},stringify:function(e){if("JSON"in a)return JSON.stringify(e);var t=typeof e;if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var i,s,n=[],r=e&&e.constructor==Array;for(i in e)e.hasOwnProperty(i)&&(t=typeof(s=e[i]),e.hasOwnProperty(i))&&("string"==t?s='"'+s+'"':"object"==t&&null!==s&&(s=m.utils.stringify(s)),n.push((r?"":'"'+i+'":')+String(s)));return(r?"[":"{")+String(n)+(r?"]":"}")},hasProp:function(e,t,i,s){if(this.is(i,"string")&&(t=this.addPrefix(t,i,!1,!0)),this.is(t,"string")){if(t in e&&(!s||e.hasOwnProperty(t)))return t}else if(g.isArray(t))for(var n=0;n<t.length;n++)if(t[n]in e&&(!s||e.hasOwnProperty(t[n])))return t[n];return!1},addPrefix:function(e,t,i,s){if(this.is(e,"string")&&this.is(t,"string"))return i?t+(s?this.ucfirst(e):e):[e,t+(s?this.ucfirst(e):e)];if(g.isArray(e)&&this.is(t,"string")){var n=e.length;for(var r=0;r<n;r++)i?e[r]=t+(s?this.ucfirst(e[r]):e[r]):e.push(t+(s?this.ucfirst(e[r]):e[r]))}return e},is:function(e,t){return typeof e===t},contains:function(e,t){return!!~(""+e).indexOf(t)},ucfirst:function(e){return!!this.is(e,"string")&&e[0].toUpperCase()+e.substr(1)},logging:!1}}(window,document,jQuery,projekktor),function(i,s,e,n){function t(){return-1<navigator.userAgent.search(/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i)}function r(){var e=i.getComputedStyle(s.documentElement,""),e=(Array.prototype.slice.call(e).join("").match(/-(moz|webkit|ms)-/)||""===e.OLink&&["","o"])[1],t;return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1],lowercase:e,css:"-"+e+"-",js:n.utils.ucfirst(e)}}var a;n.userAgent={browser:(a=new function(n,d){var e,t="",r="?",h="function",p="undefined",f="object",i="string",s="major",a="model",o="name",l="type",c="vendor",u="version",g="architecture",m="console",A="mobile",v="tablet",y="smarttv",_="wearable",w="embedded";var b={extend:function(e,t){for(var i in t)-1!=="browser cpu device engine os".indexOf(i)&&t[i].length%2==0&&(e[i]=t[i].concat(e[i]));return e},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return typeof e==i?e.split(".")[0]:d}};var k={rgx:function(){var e,t=0,i,s,n,r,a,o,l=arguments;while(t<l.length&&!a){var c=l[t],u=l[t+1];if(typeof e==p)for(n in e={},u)typeof(r=u[n])==f?e[r[0]]=d:e[r]=d;i=s=0;while(i<c.length&&!a)if(a=c[i++].exec(this.getUA()))for(n=0;n<u.length;n++)o=a[++s],typeof(r=u[n])==f&&0<r.length?2==r.length?typeof r[1]==h?e[r[0]]=r[1].call(this,o):e[r[0]]=r[1]:3==r.length?typeof r[1]!=h||r[1].exec&&r[1].test?e[r[0]]=o?o.replace(r[1],r[2]):d:e[r[0]]=o?r[1].call(this,o,r[2]):d:4==r.length&&(e[r[0]]=o?r[3].call(this,o.replace(r[1],r[2])):d):e[r]=o||d;t+=2}return e},str:function(e,t){for(var i in t)if(typeof t[i]==f&&0<t[i].length){for(var s=0;s<t[i].length;s++)if(b.has(t[i][s],e))return i===r?d:i}else if(b.has(t[i],e))return i===r?d:i;return e}};var C={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}};var E={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[o,u],[/\s(opr)\/([\w\.]+)/i],[[o,"Opera"],u],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium)\/([\w\.-]+)/i],[o,u],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[o,"IE"],u],[/(edge)\/((\d+)?[\w\.]+)/i],[o,u],[/(yabrowser)\/([\w\.]+)/i],[[o,"Yandex"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[o,/_/g," "],u],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[o,u],[/(uc\s?browser)[\/\s]?([\w\.]+)/i,/ucweb.+(ucbrowser)[\/\s]?([\w\.]+)/i,/JUC.+(ucweb)[\/\s]?([\w\.]+)/i],[[o,"UCBrowser"],u],[/(dolfin)\/([\w\.]+)/i],[[o,"Dolphin"],u],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[o,"Chrome"],u],[/XiaoMi\/MiuiBrowser\/([\w\.]+)/i],[u,[o,"MIUI Browser"]],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[u,[o,"Android Browser"]],[/FBAV\/([\w\.]+);/i],[u,[o,"Facebook"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[u,[o,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[u,o],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[o,[u,k.str,C.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[o,u],[/(navigator|netscape)\/([\w\.-]+)/i],[[o,"Netscape"],u],[/fxios\/([\w\.-]+)/i],[u,[o,"Firefox"]],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[o,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,b.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[g,/ower/,"",b.lowerize]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[g,b.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[a,c,[l,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[a,[c,"Apple"],[l,v]],[/(apple\s{0,1}tv)/i],[[a,"Apple TV"],[c,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[c,a,[l,v]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[a,[c,"Amazon"],[l,v]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[a,k.str,C.device.amazon.model],[c,"Amazon"],[l,A]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[a,c,[l,A]],[/\((ip[honed|\s\w*]+);/i],[a,[c,"Apple"],[l,A]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[c,a,[l,A]],[/\(bb10;\s(\w+)/i],[a,[c,"BlackBerry"],[l,A]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7)/i],[a,[c,"Asus"],[l,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[c,"Sony"],[a,"Xperia Tablet"],[l,v]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[c,"Sony"],[a,"Xperia Phone"],[l,A]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[c,a,[l,m]],[/android.+;\s(shield)\sbuild/i],[a,[c,"Nvidia"],[l,m]],[/(playstation\s[3portablevi]+)/i],[a,[c,"Sony"],[l,m]],[/(sprint\s(\w+))/i],[[c,k.str,C.device.sprint.vendor],[a,k.str,C.device.sprint.model],[l,A]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[c,a,[l,v]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[c,[a,/_/g," "],[l,A]],[/(nexus\s9)/i],[a,[c,"HTC"],[l,v]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[a,[c,"Microsoft"],[l,m]],[/(kin\.[onetw]{3})/i],[[a,/\./g," "],[c,"Microsoft"],[l,A]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i],[a,[c,"Motorola"],[l,A]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[a,[c,"Motorola"],[l,v]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[c,"Samsung"],a,[l,v]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[c,"Samsung"],a,[l,A]],[/(samsung);smarttv/i],[c,a,[l,y]],[/\(dtv[\);].+(aquos)/i],[a,[c,"Sharp"],[l,y]],[/sie-(\w+)*/i],[a,[c,"Siemens"],[l,A]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[c,"Nokia"],a,[l,A]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[a,[c,"Acer"],[l,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[c,"LG"],a,[l,v]],[/(lg) netcast\.tv/i],[c,a,[l,y]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[a,[c,"LG"],[l,A]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[a,[c,"Lenovo"],[l,v]],[/linux;.+((jolla));/i],[c,a,[l,A]],[/((pebble))app\/[\d\.]+\s/i],[c,a,[l,_]],[/android.+;\s(glass)\s\d/i],[a,[c,"Google"],[l,_]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus)?[\s_]*(?:\d\w)?)\s+build/i],[[a,/_/g," "],[c,"Xiaomi"],[l,A]],[/(mobile|tablet);.+rv\:.+gecko\//i],[[l,b.lowerize],c,a]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[u,[o,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[o,u],[/rv\:([\w\.]+).*(gecko)/i],[u,o]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[o,u],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[o,[u,k.str,C.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[o,"Windows"],[u,k.str,C.os.windows.version]],[/\((bb)(10);/i],[[o,"BlackBerry"],u],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[o,u],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[o,"Symbian"],u],[/\((series40);/i],[o],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[o,"Firefox OS"],u],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[o,u],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[o,"Chromium OS"],u],[/(sunos)\s?([\w\.]+\d)*/i],[[o,"Solaris"],u],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[o,u],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[o,"iOS"],[u,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[o,"Mac OS"],[u,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[o,u]]};var I=function(e,t){var i,s;return this instanceof I?(i=e||(n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),s=t?b.extend(E,t):E,this.getBrowser=function(){var e=k.rgx.apply(this,s.browser);return e.major=b.major(e.version),e},this.getCPU=function(){return k.rgx.apply(this,s.cpu)},this.getDevice=function(){return k.rgx.apply(this,s.device)},this.getEngine=function(){return k.rgx.apply(this,s.engine)},this.getOS=function(){return k.rgx.apply(this,s.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i),this):new I(e,t).getResult()};return I.VERSION="0.7.9",I.BROWSER={NAME:o,MAJOR:s,VERSION:u},I.CPU={ARCHITECTURE:g},I.DEVICE={MODEL:a,VENDOR:c,TYPE:l,CONSOLE:m,MOBILE:A,SMARTTV:y,TABLET:v,WEARABLE:_,EMBEDDED:w},I.ENGINE={NAME:o,VERSION:u},I.OS={NAME:o,VERSION:u},I}(i)()).browser,cpu:a.cpu,device:a.device,engine:a.engine,os:a.os,string:navigator.userAgent,prefix:r(),isMobile:t()}}(window,document,jQuery,projekktor),function(O,L,e,j){j.features=function(){var e={},t={},u=L.documentElement,d="modernizr",i,s=(i=L.createElement(d)).style,n,r={}.toString,a=" -webkit- -moz- -o- -ms- ".split(" "),o="Webkit Moz O ms",l=o.split(" "),c=o.toLowerCase().split(" "),h,p="http://www.w3.org/2000/svg",f={},g={},m={},A=[],v=A.slice,y,_=function(e,t,i,s){var n,n,r,a,o=L.createElement("div"),l=L.body,c=l||L.createElement("body");if(parseInt(i,10))while(i--)(r=L.createElement("div")).id=s?s[i]:d+(i+1),o.appendChild(r);return n=["&#173;",'<style id="s',d,'">',e,"</style>"].join(""),o.id=d,(l?o:c).innerHTML+=n,c.appendChild(o),l||(c.style.background="",c.style.overflow="hidden",a=u.style.overflow,u.style.overflow="hidden",u.appendChild(c)),n=t(o,e),l?o.parentNode.removeChild(o):(c.parentNode.removeChild(c),u.style.overflow=a),!!n},o=(C={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"},k),w={}.hasOwnProperty,b;function k(e,t){t=t||L.createElement(C[e]||"div");var i=(e="on"+e)in t;return i||(t=t.setAttribute?t:L.createElement("div")).setAttribute&&t.removeAttribute&&(t.setAttribute(e,""),i=P(t[e],"function"),void 0!==t[e]&&(t[e]=void 0),t.removeAttribute(e)),t=null,i}var C;function E(e){s.cssText=e}function I(e,t){E(a.join(e+";")+(t||""))}function P(e,t){return typeof e===t}function S(e,t){return~(""+e).indexOf(t)}function T(e,t){for(var i in e){var i=e[i];if(!S(i,"-")&&void 0!==s[i])return"pfx"!=t||i}return!1}function x(e,t,i){for(var s in e){var n=t[e[s]];if(void 0!==n)return!1===i?e[s]:P(n,"function")?n.bind(i||t):n}return!1}function M(e,t,i){var s=e.charAt(0).toUpperCase()+e.slice(1),n=(e+" "+l.join(s+" ")+s).split(" ");return P(t,"string")||void 0===t?T(n,t):x(n=(e+" "+c.join(s+" ")+s).split(" "),t,i)}for(var D in e._prefixes=a,e._domPrefixes=c,e._cssomPrefixes=l,e.hasEvent=o,e.testProp=function(e){return T([e])},e.testAllProps=M,e.testStyles=_,e.prefixed=function(e,t,i){return t?M(e,t,i):M(e,"pfx")},b=void 0!==w&&void 0!==w.call?function(e,t){return w.call(e,t)}:function(e,t){return t in e&&void 0===e.constructor.prototype[t]},Function.prototype.bind||(Function.prototype.bind=function e(i){var s=this;if("function"!=typeof s)throw new TypeError;var n=v.call(arguments,1),r=function(){var e,e,t;return this instanceof r?((e=function(){}).prototype=s.prototype,e=new e,t=s.apply(e,n.concat(v.call(arguments))),Object(t)===t?t:e):s.apply(i,n.concat(v.call(arguments)))};return r}),f.canvas=function(){var e=L.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},f.canvastext=function(){return!(!e.canvas||!P(L.createElement("canvas").getContext("2d").fillText,"function"))},f.csstransitions=function(){return M("transition")},f.touch=function(){var t;return"ontouchstart"in O||O.DocumentTouch&&L instanceof DocumentTouch?t=!0:_(["@media (",a.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){t=9===e.offsetTop}),t},f.svg=function(){return!!L.createElementNS&&!!L.createElementNS(p,"svg").createSVGRect},f.inlinesvg=function(){var e=L.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==p},f.inlinevideo=function(){var e="iPhone"===j.userAgent.device.model,t="Windows Phone"===j.userAgent.os.name,i="Android"===j.userAgent.os.name,s="IEMobile"===j.userAgent.browser.name?parseInt(j.userAgent.browser.major):0,n=parseFloat(j.userAgent.os.version);return(!e||10<=n)&&(!t||8.1<=n&&11<=s)&&(!i||3<=n)},f.localstorage=function(){var e="modernizr";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(e){return!1}},f.mse=function(){return!(!O.MediaSource&&!O.WebKitMediaSource)},f.eme=function(){var e=!1,t=L.createElement("video");return O.navigator.requestMediaKeySystemAccess?"function"==typeof O.navigator.requestMediaKeySystemAccess&&(e=!0):O.MSMediaKeys?"function"==typeof O.MSMediaKeys&&(e=!0):t.webkitGenerateKeyRequest&&"function"==typeof t.webkitGenerateKeyRequest&&(e=!0),e},f.hlsjs=function(){return O.MediaSource=O.MediaSource||O.WebKitMediaSource,O.MediaSource&&"function"==typeof O.MediaSource.isTypeSupported&&O.MediaSource.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"')},f.volumecontrol=function(){var e=!1,t=L.createElement("video"),i=.4;return(t.volume=.4)===t.volume},f)b(f,D)&&(t[y=D.toLowerCase()]=f[D](),A.push((t[y]?"":"no-")+y));return E(""),i=n=null,t}()}(window,document,jQuery,projekktor),function(e,n,t,r){r.fullscreenApi=function(){var e=n.createElement("video"),t={mediaonly:{enterFullscreen:["enterFullscreen","enterFullScreen"],exitFullscreen:["exitFullscreen","exitFullScreen","cancelFullScreen","cancelFullscreen"],supportsFullscreen:["supportsFullscreen","supportsFullScreen"],displayingFullscreen:["displayingFullscreen","fullScreen","isFullScreen","isFullscreen"],beginfullscreen:"webkitbeginfullscreen",endfullscreen:"webkitendfullscreen"},full:{requestFullscreen:["requestFullscreen","requestFullScreen","enterFullscreen","enterFullScreen"],exitFullscreen:["exitFullscreen","exitFullScreen","cancelFullScreen","cancelFullscreen"],fullscreenEnabled:["fullscreenEnabled","fullScreenEnabled","supportsFullscreen","supportsFullScreen"],fullscreenElement:["fullscreenElement","fullScreenElement","currentFullScreenElement"],isFullscreen:["fullScreen","isFullScreen","isFullscreen","displayingFullscreen","displayingFullScreen"],fullscreenchange:["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"],fullscreenerror:["fullscreenerror","webkitfullscreenerror","mozfullscreenerror"]}},i={type:"none",mediaonly:{enterFullscreen:"",exitFullscreen:"",supportsFullscreen:"",displayingFullscreen:"",beginfullscreen:t.mediaonly.beginfullscreen,endfullscreen:t.mediaonly.endfullscreen},full:{requestFullscreen:"",exitFullscreen:"",fullscreenEnabled:"",fullscreenElement:"",isFullscreen:"",fullscreenchange:"",fullscreenerror:""}},s=r.userAgent.prefix.lowercase;switch(i.mediaonly.enterFullscreen=r.utils.hasProp(e,t.mediaonly.enterFullscreen.slice(),s),i.full.exitFullscreen=r.utils.hasProp(n,t.full.exitFullscreen.slice(),s),i.full.exitFullscreen?i.type="full":i.mediaonly.enterFullscreen&&(i.type="mediaonly"),i.type){case"mediaonly":i.mediaonly.exitFullscreen=r.utils.hasProp(e,t.mediaonly.exitFullscreen.slice(),s),i.mediaonly.supportsFullscreen=r.utils.hasProp(e,t.mediaonly.supportsFullscreen.slice(),s),i.mediaonly.displayingFullscreen=r.utils.hasProp(e,t.mediaonly.displayingFullscreen.slice(),s);break;case"full":i.full.requestFullscreen=r.utils.hasProp(e,t.full.requestFullscreen.slice(),s),i.full.fullscreenEnabled=r.utils.hasProp(n,t.full.fullscreenEnabled.slice(),s),i.full.fullscreenElement=r.utils.hasProp(n,t.full.fullscreenElement.slice(),s),i.full.isFullscreen=r.utils.hasProp(n,t.full.isFullscreen.slice(),s),"ms"===s?(i.full.fullscreenchange="onMSFullscreenChange",i.full.fullscreenerror="onMSFullscreenError"):(i.full.fullscreenchange=r.utils.hasProp(n,t.full.fullscreenchange.slice()),i.full.fullscreenerror=r.utils.hasProp(n,t.full.fullscreenerror.slice()))}return i}()}(window,document,jQuery,projekktor),projekktorPersistentStorage=function(n,e,t,i){function s(e){this.pp=e}var r;return s.prototype={save:function(e,t){var i,e=this.pp.getNS()+"_"+e;if(n.$p.features.localstorage)try{return n.localStorage.setItem(e,JSON.stringify(t)),!0}catch(e){return!1}},restore:function(e){var t,e=this.pp.getNS()+"_"+e;if(n.$p.features.localstorage)try{return JSON.parse(n.localStorage.getItem(e))}catch(e){}},remove:function(e){var t,e=this.pp.getNS()+"_"+e;if(n.$p.features.localstorage)try{n.localStorage.removeItem(e)}catch(e){}},list:function(){var e=this.pp.getNS()+"_",t=new RegExp("^"+e),i={},s;if(n.$p.features.localstorage)try{for(s in n.localStorage)t.test(s)&&(i[s]=n.localStorage.getItem(s))}catch(e){}return i},clear:function(){var e=this.pp.getNS()+"_",t=new RegExp("^"+e),i;if(n.$p.features.localstorage)try{for(i in n.localStorage)t.test(i)&&n.localStorage.removeItem(i)}catch(e){}}},s}(window,document,jQuery,projekktor),function(e,t,i,s){var n=t.createElement("video");s.platforms={videojs:function(){return"1"},mse:function(){return s.features.mse?"1":"0"},android:function(){return"Android"===s.userAgent.os.name&&s.userAgent.os.version||"0"},ios:function(){return"iOS"===s.userAgent.os.name&&s.userAgent.os.version||"0"},native:function(e){switch(n.canPlayType(e)){case null:case"no":case"":return"0";default:return"1"}},browser:function(){return"1"}}}(window,document,jQuery,projekktor),function(r,e,t,i){var a={widevine:["com.widevine.alpha"],playready:["com.microsoft.playready","com.youtube.playready"],clearkey:["webkit-org.w3.clearkey","org.w3.clearkey"],primetime:["com.adobe.primetime","com.adobe.access"],fairplay:["com.apple.fairplay"]},o=[],l=s(),c=[{initDataTypes:["cenc","webm"],sessionTypes:["temporary"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.5"',robustness:"SW_SECURE_CRYPTO"},{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"},{contentType:'audio/webm; codecs="vorbis"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/webm; codecs="vp9"',robustness:"HW_SECURE_ALL"},{contentType:'video/webm; codecs="vp9"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"HW_SECURE_ALL"},{contentType:'video/mp4; codecs="avc1.640028"',robustness:"SW_SECURE_DECODE"},{contentType:'video/mp4; codecs="avc1.4d401e"',robustness:"HW_SECURE_ALL"},{contentType:'video/mp4; codecs="avc1.4d401e"',robustness:"SW_SECURE_DECODE"}]}];function s(){return navigator.requestMediaKeySystemAccess&&MediaKeySystemAccess.prototype.getConfiguration?"eme":HTMLMediaElement.prototype.webkitGenerateKeyRequest?"webkit":HTMLMediaElement.prototype.generateKeyRequest?"oldunprefixed":r.MSMediaKeys?"ms":"none"}function u(s){return new Promise(function(e,t){var i;if(!r.MSMediaKeys.isTypeSupported||!r.MSMediaKeys.isTypeSupported(s))throw(i=new Error("Unsupported keySystem")).name="NotSupportedError",i.code=DOMException.NOT_SUPPORTED_ERR,t(i),i;e({keySystem:s})})}function n(){var i=this,s,n=[];if("eme"===l)s=r.navigator.requestMediaKeySystemAccess.bind(r.navigator);else{if("ms"!==l)return Promise.resolve();s=u}return Object.keys(a).forEach(function(t){var e;a[t].forEach(function(e){n.push(s(e,c).then(function(e){o.push(t)},function(e){}))},i)}),Promise.all(n)}i.initPromises.push(n().then(function(e){return i.drm={supportedDrmSystems:o,drmSystems:a,emeType:l},Promise.resolve()}))}(window,document,jQuery,projekktor),projekktorPluginInterface=function(e,t,r,i){function s(){}return s.prototype={pluginReady:!1,reqVer:null,name:"",pp:{},config:{},playerDom:null,_appliedDOMObj:[],_pageDOMContainer:{},_childDOMContainer:{},_init:function(e){this.config=r.extend(!0,this.config,e),null==this.reqVer||i.utils.versionCompare(this.pp.getVersion(),this.reqVer)?this.initialize():(alert("Plugin '"+this.name+"' requires Projekktor v"+this.reqVer+" or later! Please visit http://www.projekktor.com and get the most recent version."),this.pluginReady=!0)},getConfig:function(e,t){var i=null,t=t||null;return null==(i=null==(i=null!=this.pp.getConfig("plugin_"+this.name)?this.pp.getConfig("plugin_"+this.name)[e]:i)?this.pp.getConfig(e):i)&&(i=this.config[e]),r.isPlainObject(i)?i=r.extend(!0,{},i,this.config[e]):r.isArray(i)&&(i=r.extend(!0,[],this.config[e]||[],i||[])),null==e?this.pp.getConfig():null==i?t:i},getDA:function(e){return"data-"+this.pp.getNS()+"-"+this.name+"-"+e},getCN:function(e){return this.pp.getNS()+e},sendEvent:function(e,t){this.pp._promote({_plugin:this.name,_event:e},t)},deconstruct:function(){this.pluginReady=!1,r.each(this._appliedDOMObj,function(){r(this).off()})},applyToPlayer:function(e,t,i){if(!e)return null;var s=t||"container",t="",n=this;try{t=e.attr("class")||this.name}catch(e){t=this.name}return this._pageDOMContainer[s]=r("["+this.getDA("host")+"='"+this.pp.getId()+"']["+this.getDA("func")+"='"+s+"']"),this._childDOMContainer[s]=this.playerDom.find("["+this.getDA("func")+"='"+s+"'],."+this.getCN(t)+":not(["+this.getDA("func")+"=''])"),0<this._pageDOMContainer[s].length?(this._pageDOMContainer[s].removeClass("active").addClass("inactive"),r.each(this._pageDOMContainer[s],function(){n._appliedDOMObj.push(r(this))}),this._pageDOMContainer[s]):0==this._childDOMContainer[s].length?(e.removeClass(t).addClass(this.pp.getNS()+t).removeClass("active").addClass("inactive").attr(this.getDA("func"),s).appendTo(this.playerDom),this._childDOMContainer[s]=e,this._appliedDOMObj.push(e),!0===i&&e.addClass("active").removeClass("inactive"),e):(r.each(this._childDOMContainer[s],function(){r(this).attr(n.getDA("func"),s),n._appliedDOMObj.push(r(this))}),!0===i&&this._childDOMContainer[s].addClass("active").removeClass("inactive"),r(this._childDOMContainer[s][0]))},getElement:function(e){return this.pp.env.playerDom.find("."+this.pp.getNS()+e)},setInactive:function(){r(this._pageDOMContainer.container).removeClass("active").addClass("inactive"),r(this._childDOMContainer.container).removeClass("active").addClass("inactive"),this.sendEvent("inactive",r.extend(!0,{},this._pageDOMContainer.container,this._childDOMContainer.container))},setActive:function(e,t){var i="object"==typeof e?e:this.getElement(e);return null==e?(this._pageDOMContainer.container.removeClass("inactive").addClass("active"),this._childDOMContainer.container.removeClass("inactive").addClass("active"),this.sendEvent("active",r.extend(!0,{},this._pageDOMContainer.container,this._childDOMContainer.container))):(0!=t?i.addClass("active").removeClass("inactive"):i.addClass("inactive").removeClass("active"),i.css("display","")),i},getActive:function(e){return r(e).hasClass("active")},initialize:function(){},isReady:function(){return this.pluginReady},clickHandler:function(t){try{this.pp[this.getConfig(t+"Click").callback](this.getConfig(t+"Click").value)}catch(e){try{this.getConfig(t+"Click")(this.getConfig(t+"Click").value)}catch(e){}}return!1},eventHandler:function(){}},s}(window,document,jQuery,projekktor),window,document,jQuery,projekktor,projekktorMessages={play:"odtwarzaj",pause:"pauza",fsexit:"wyłącz widok pełnoekranowy",fsenter:"włącz widok pełnoekranowy",settingsbtn:"ustawienia",vmax:"maksymalna głośność",vslider:"głośność",vmarker:"głośność",vknob:"głośność",mute:"wycisz",timeleft:"czas materiału",golive:"na żywo",scrubberdrag:"przewiń",subtitlesbtn:"napisy",prevC:"poprzedni",nextC:"następny",help:"pomoc:","keyboard controls":"klawiatura",debug:"debug","player info":"info",platform:"platforma",platform_flash:"Flash",platform_native:"HTML5",platform_mse:"MSE",auto:"auto",quality:"jakość",high:"wysoka",medium:"średnia",low:"niska",ok:"OK",report:"Zgłoś błąd",cancel:"anuluj",continue:"dalej",sendto:"Wyślij informację do administratora strony.",please:"Opisz błąd, który wystąpił na tyle dokładnie na ile to możliwe.",thanks:"Dziękujemy.",error:"Wystąpił błąd",help1:"<em>spacja</em> odtwarzanie / pauza",help2:"<em>góra</em><em>dół</em> głośność <em>lewo</em><em>prawo</em> przewijanie",help3:"<em>ENTER</em> pełen ekran",help4:"Aby korzystać ze skrótów klawiaturowych wskaźnik myszy musi być na obszarze odtwarzacza.",error0:"#0 Wystąpił nieznany błąd. Przepraszamy.",error1:"#1 Anulowałeś odtwarzanie.",error2:"#2 Problem sieciowy spowodował przerwanie ściągania pliku.",error3:"#3 Odtwarzanie zostało przerwane ze względu na uszkodzenie pliku. Przepraszamy.",error4:"#4 Wideo (%{title}) nie może zostać załadowane ze względu na problem z siecią bądź serwerem.",error5:"#5 Przepraszamy, ale Twoja przeglądarka nie obsługuje wybranego formatu wideo. Skorzystaj z innej przeglądarki bądź zainstaluj plugin Adobe Flash.",error6:"#6 Twoja przeglądarka nie posiada obsługi pluginu Flash w wersji %{flashver} bądź wyższej.",error7:"#7 Brak plików do odtworzenia.",error8:"#8 ! Skonfigurowano błędny model odtwarzania !",error9:"#9 Plik (%{file}) nie został odnaleziony.",error10:"#10 Błędne lub brakujące ustawienia jakości dla %{title}.",error11:"#11 Błędny streamType i/lub streamServer dla %{title}.",error12:"#12 Błędne lub niespójne ustawienia jakości dla %{title}.",error13:"#13 Błędna playlista bądź brakujący/nieprawidłowy parser playlisty. Brak plików do odtworzenia.",error20:"#20 Błędny lub uszkodzony parser.",error80:"#80 Przepraszamy. Wideo nie może zostać odtworzone. Jeśli korzystasz z programów blokujących reklamy i/lub skrypty, wyłącz je, a następnie odśwież stronę i ponów próbę.",error97:"Brak multimediów do odtworzenia.",error98:"Błędne lub niespójne dane playlisty!",error99:"Kliknij ekran aby kontynuować.",error100:"Skróty klawiaturowe",error200:"Upłynął limit czasu żądania",error300:"#300 Brak wsparcia dla systemów DRM użytych do zaszyfrowania tego pliku audio/video.",error301:"#301 System DRM jest wymagadny do odtworzenia tego pliku lecz nie znaleziono konfiguracji dla serwera licencyjnego.",error302:"#302 Licencja DRM nieprawidłowa bądź serwer licencyjny nie jest dostępny.",error500:"To wideo zostało usunięte albo zostało ustawione jako prywatne",error501:"Użytkownik Youtube będący właścicielem tego wideo wyłączył możliwość jego załączania na serwisach zewnętrznych.",error502:"Błędnie ustawione Youtube Video-Id."},playerModel=function(e,t,a,o){function i(){}return i.prototype={modelId:"player",browserVersion:"1.0",iLove:[],platform:["browser"],_currentState:null,_currentBufferState:"EMPTY",_currentSeekState:null,_ap:!1,_volume:1,_fixedVolume:!1,_muted:!1,_quality:"auto",_displayReady:!1,_isPlaying:!1,_isReady:!1,_isDVR:!1,_isLive:!1,_id:null,_KbPerSec:0,_bandWidthTimer:null,_isPoster:!1,_isFullscreen:!1,hasGUI:!1,allowRandomSeek:!1,mediaElement:null,pp:{},media:{duration:0,position:0,maxpos:0,file:!1,poster:"",ended:!1,loadProgress:0,errorCode:0},_init:function(e){this.pp=e.pp||null,this.media=a.extend(!0,{},this.media,e.media),this.mediaId=e.media.id,this._ap=e.autoplay,this._isFullscreen=e.fullscreen,this._id=o.utils.randomId(8),this._quality=e.quality||this._quality,this._volume=e.environment.volume,this._muted=e.environment.muted,this.init()},init:function(e){this.ready()},ready:function(){this.sendUpdate("modelReady"),this._isReady=!0,this._ap?this.displayReady():this.displayItem(!1)},displayItem:function(e){this._displayReady=!1,this._isPoster=!1,this.pp.removeListener("fullscreen.poster"),this.pp.removeListener("resize.poster"),!0!==e||this.getState("STOPPED")?(this._setState("idle"),this.applyImage(this.getPoster(),this.pp.getMediaContainer().html("")),this._isPoster=!0,this.displayReady()):(a("#"+this.pp.getMediaId()+"_image").remove(),this.applyMedia(this.pp.getMediaContainer()))},applyMedia:function(){},sendUpdate:function(e,t){this.pp._modelUpdateListener(e,t),"error"==e&&(this.removeListeners(),this.detachMedia(),this._setState("error"))},displayReady:function(){this._displayReady=!0,this.pp._modelUpdateListener("displayReady")},start:function(){null==this.mediaElement&&"PLAYLIST"!==this.modelId||this.getState("STARTING")||(a.isNumeric(this.media.config.start)&&this.setSeek(this.media.config.start),this._setState("STARTING"),this.getState("STOPPED")||this.addListeners(),this.applyCommand("volume",this.pp.getVolume()),this.setPlay())},addListeners:function(){},removeListeners:function(){try{this.mediaElement.off(".projekktor"+this.pp.getId())}catch(e){}},detachMedia:function(){},destroy:function(){this.removeListeners(),this.getState("IDLE")||this._setState("destroying"),this.detachMedia();try{a("#"+this.mediaElement.id).empty()}catch(e){}this.mediaElement=null,this.media.loadProgress=0,this.media.playProgress=0,this.media.frame=0,this.media.position=0,this.media.duration=0},applyCommand:function(e,t){switch(e){case"quality":this.setQuality(t);break;case"error":this._setState("error"),this.pp._modelUpdateListener("error",t);break;case"play":this.getState("ERROR")||(this.getState("IDLE")?this._setState("awakening"):this.setPlay());break;case"pause":this.getState("ERROR")||this.setPause();break;case"volume":this.getState("ERROR")||this.setVolume(t);break;case"stop":this.setStop();break;case"frame":this.setFrame(t);break;case"seek":this.getState("ERROR")||this.getSeekState("SEEKING")||this.getState("IDLE")||-1!=this.media.loadProgress&&(this._setSeekState("seeking",t),this.setSeek(t));break;case"fullscreen":t!==this._isFullscreen&&(this._isFullscreen=t,this.setFullscreen());break;case"resize":this.setResize(),this.sendUpdate("resize",t)}},setFrame:function(e){var e=e/this.pp.getConfig("fps")+1e-5;this.setSeek(e)},setSeek:function(e){},setPlay:function(){},setPause:function(){},setStop:function(){this.detachMedia(),this._setState("stopped"),this.displayItem(!1)},setVolume:function(e){this.volumeListener(e)},setMuted:function(e){},setFullscreen:function(e){this.sendUpdate("fullscreen",this._isFullscreen),this.setResize()},setResize:function(){"audio"===this.element||this.getState("ERROR")||this._scaleVideo()},setPosterLive:function(){},setSrc:function(e){try{this.media.file[0].src=e}catch(e){}},setQuality:function(e){if(this._quality!==e){this._quality=e;try{this.applySrc()}catch(e){}this.qualityChangeListener()}},getId:function(){return this.mediaId},getQuality:function(){return this._quality},getVolume:function(){return this._volume},getMuted:function(){return this._muted},getLoadProgress:function(){return this.media.loadProgress||0},getLoadPlaybackProgress:function(){return this.media.playProgress||0},getPosition:function(){return this.media.position||0},getFrame:function(){return this.media.frame||0},getDuration:function(){return this.media.duration||this.pp.getConfig("duration")||0},getMaxPosition:function(){return this.media.maxpos||0},getPlaybackQuality:function(){return-1<a.inArray(this._quality,this.media.qualities)?this._quality:"auto"},getIsFullscreen:function(){return this.pp.getIsFullscreen()},getKbPerSec:function(){return this._KbPerSec},getState:function(e){var t=null==this._currentState?"IDLE":this._currentState;return null!=e?t==e.toUpperCase():t},getBufferState:function(e){var t=this._currentBufferState;return null!=e?t===e.toUpperCase():t},getSeekState:function(e){var t=null==this._currentSeekState?"NONE":this._currentSeekState;return null!=e?t==e.toUpperCase():t},getSrc:function(){try{return this.mediaElement.get(0).currentSrc}catch(e){}try{return this.media.file[0].src}catch(e){}try{return this.getPoster()}catch(e){}return null},getModelName:function(){return this.modelId||null},getMediaElementId:function(){try{return this.pp.getMediaId()+"_"+this.getModelName().toLowerCase()}catch(e){return""}},getHasGUI:function(){return this.hasGUI&&!this._isPoster},getIsReady:function(){return this._isReady},getPoster:function(e){var e=e||"poster",t=null,i=this.pp.getConfig(e),s="default",n=[];if("object"!=typeof i)return i;for(var r in i)i[r].quality&&n.push(i[r].quality);for(var a in s=this.pp.getAppropriateQuality(n),i)null==i[a].src||i[a].quality!=s&&""!=t&&"default"!=s||(t=i[a].src);return t},getMediaElement:function(){return this.mediaElement||a("<video/>")},getMediaDimensions:function(){return{width:this.media.videoWidth||0,height:this.media.videoHeight||0}},getSource:function(){var e=[],t=this;return a.each(this.media.file||[],function(){return t._quality!==this.quality&&null!==t._quality||e.push(this),!0}),0===e.length?this.media.file:e},timeListener:function(e){var t,i;"object"==typeof e&&null!==e&&(t=parseFloat((e.position||e.currentTime||this.media.position||0).toFixed(2)),i=null,e.duration===Number.POSITIVE_INFINITY&&e.seekable&&e.seekable.length?e.seekable.end(0)===Number.POSITIVE_INFINITY?this._isLive||(this._isLive=!0,this._isDVR=!1,this.sendUpdate("streamTypeChange","live")):(this._isDVR||this._isLive||(this._isLive=!0,this._isDVR=!0,this.sendUpdate("streamTypeChange","dvr")),t=(t=(i=0<e.seekable.start(0)?parseFloat((e.seekable.end(0)-e.seekable.start(0)).toFixed(2)):0<e.seekable.end(0)&&0===this.media.duration?parseFloat(e.seekable.end(0).toFixed(2)):this.media.duration)-(e.seekable.end(0)-e.currentTime))<0?0:parseFloat(t.toFixed(2))):isNaN(e.duration)||(i=e.duration>t?parseFloat((e.duration||0).toFixed(2)):0),null!==i&&i!==this.media.duration&&(this.media.duration=i,this.sendUpdate("durationChange",i)),this.media.position=t,this.media.maxpos=Math.max(this.media.maxpos||0,this.media.position||0),this.media.playProgress=parseFloat(0<this.media.position&&0<this.media.duration?100*this.media.position/this.media.duration:0),this.media.frame=this.media.position*this.pp.getConfig("fps"),this.sendUpdate("time",this.media.position),this.loadProgressUpdate())},loadProgressUpdate:function(){var e=this.mediaElement.get(0),t=0;0===this.media.duration||"object"!=typeof e.buffered||0===e.buffered.length&&0===e.seekable.length||100===this.media.loadProgress||(t=e.seekable&&0<e.seekable.length?Math.round(100*e.seekable.end(0)/this.media.duration):Math.round(100*e.buffered.end(e.buffered.length-1))/this.media.duration,this.media.loadProgress>t)||(this.media.loadProgress=!0===this.allowRandomSeek?100:-1,this.media.loadProgress=this.media.loadProgress<100||void 0===this.media.loadProgress?t:100,this.sendUpdate("progress",this.media.loadProgress))},progressListener:function(t,e){if(this.mediaElement instanceof jQuery&&"object"==typeof this.mediaElement.get(0).buffered&&0<this.mediaElement.get(0).buffered.length)this.mediaElement.off("progress");else{null==this._bandWidthTimer&&(this._bandWidthTimer=(new Date).getTime());var i=0,s=0;try{isNaN(e.loaded/e.total)?e.originalEvent&&!isNaN(e.originalEvent.loaded/e.originalEvent.total)&&(i=e.originalEvent.loaded,s=e.originalEvent.total):(i=e.loaded,s=e.total)}catch(e){t&&!isNaN(t.loaded/t.total)&&(i=t.loaded,s=t.total)}var e=0<i&&0<s?100*i/s:0;Math.round(e)>Math.round(this.media.loadProgress)&&(this._KbPerSec=i/1024/(((new Date).getTime()-this._bandWidthTimer)/1e3)),e=100!==this.media.loadProgress?e:100,e=!0===this.allowRandomSeek?100:5*Math.round(e/5),this.media.loadProgress!=e&&(this.media.loadProgress=e,this.sendUpdate("progress",e)),100<=this.media.loadProgress&&!1===this.allowRandomSeek&&this._setBufferState("FULL")}},qualityChangeListener:function(){this.sendUpdate("qualityChange",this._quality)},endedListener:function(e){null===this.mediaElement||this.media.maxpos<=0||"STARTING"!==this.getState()&&this._setState("completed")},waitingListener:function(e){this._setBufferState("EMPTY")},canplayListener:function(e){this._setBufferState("FULL")},canplaythroughListener:function(e){this._setBufferState("FULL")},playingListener:function(e){this._setState("playing")},pauseListener:function(e){this._setState("paused")},fullscreenchangeListener:function(e){this.applyCommand("fullscreen",e)},resizeListener:function(e){try{this.media.videoWidth===e.videoWidth&&this.media.videoHeight===e.videoHeight||(this.media.videoWidth=e.videoWidth,this.media.videoHeight=e.videoHeight,this._scaleVideo())}catch(e){o.log("resizeListener error",e)}},seekedListener:function(e){this._setSeekState("SEEKED",e||this.media.position)},volumeListener:function(e){var e=void 0!==e.volume?parseFloat(e.volume):parseFloat(e);e!==this._volume&&(this._volume=e,this.setMuted(0===this._volume),this.sendUpdate("volume",e))},errorListener:function(e,t){},nullListener:function(e){},applySrc:function(){},applyImage:function(e,i){var s=a("<img/>").hide(),n=a("."+this.pp.getMediaId()+"_image"),r=this;if(o.utils.blockSelection(s),null==e||!1===e)return n.remove(),a("<img/>").attr({id:this.pp.getMediaId()+"_image",src:o.utils.imageDummy()}).appendTo(i);if(a(n[0]).attr("src")!=e)return s.on("load",function(e){var e=a(e.currentTarget),t;if(s.attr("data-od-width")||s.attr("data-od-width",e[0].naturalWidth),s.attr("data-od-height")||s.attr("data-od-height",e[0].naturalHeight),n.remove(),s.attr("id",r.pp.getMediaId()+"_image"),s.show(),o.utils.stretch(r.pp.getConfig("imageScaling"),e,i.width(),i.height()))try{r.sendUpdate("scaled",{originalWidth:t._originalDimensions.width,originalHeight:t._originalDimensions.height,scaledWidth:r.mediaElement.width(),scaledHeight:r.mediaElement.height(),displayWidth:i.width(),displayHeight:i.height()})}catch(e){}}),s.removeData("od"),this.pp.removeListener("fullscreen.poster"),this.pp.removeListener("resize.poster"),this.pp.addListener("fullscreen.poster",function(){r.applyImage(r.getPoster(),i)}),this.pp.addListener("resize.poster",function(){r.applyImage(r.getPoster(),i)}),s.appendTo(i).attr({alt:this.pp.getConfig("title")||""}).css({position:"absolute"}).addClass(this.pp.getMediaId()+"_image"),s.attr("src",e),s.on("error",function(e){a(this).remove(),n.show()}),s;if(o.utils.stretch(r.pp.getConfig("imageScaling"),a(n[0]),i.width(),i.height()))try{r.sendUpdate("scaled",{originalWidth:n._originalDimensions.width,originalHeight:n._originalDimensions.height,scaledWidth:r.mediaElement.width(),scaledHeight:r.mediaElement.height(),displayWidth:i.width(),displayHeight:i.height()})}catch(e){}return a(n[0])},_setState:function(e){var t=this,e=e.toUpperCase(),i=this._currentState;this._currentState=e.toUpperCase(),i!==e&&"ERROR"!==i&&("PAUSED"===i&&"PLAYING"===e&&(this.sendUpdate("resume",this.media),this._isPlaying=!0),"IDLE"!==i&&"STARTING"!==i||"PLAYING"!==e||(this.sendUpdate("start",this.media),this._isPlaying=!0),"PAUSED"===e&&(this._isPlaying=!1,this._setBufferState("FULL")),"ERROR"===e&&(this.setPlay=this.setPause=function(){t.sendUpdate("start")}),this.sendUpdate("state",this._currentState))},_setBufferState:function(e){this._currentBufferState!==e.toUpperCase()&&(this._currentBufferState=e.toUpperCase(),this.sendUpdate("buffer",this._currentBufferState))},_setSeekState:function(e,t){this._currentSeekState!==e.toUpperCase()&&(this._currentSeekState=e.toUpperCase(),this.sendUpdate("seek",this._currentSeekState,t))},_scaleVideo:function(){var e=this.pp.getMediaContainer(),t,i,s,n;try{t=e.width(),i=e.height(),s=this.media.videoWidth,n=this.media.videoHeight,this.mediaElement.attr("data-od-width")!=s&&this.mediaElement.attr("data-od-width",s),this.mediaElement.attr("data-od-height")!=n&&this.mediaElement.attr("data-od-height",n),o.utils.stretch(this.pp.getConfig("videoScaling"),this.mediaElement,t,i)&&this.sendUpdate("scaled",{originalWidth:s,originalHeight:n,scaledWidth:this.mediaElement.width(),scaledHeight:this.mediaElement.height(),displayWidth:t,displayHeight:i})}catch(e){o.utils.log("_scaleVideo error",e)}}},i}(window,document,jQuery,projekktor),function(t,e,i,s){s.newModel({modelId:"NA",browserVersion:"1.0",iLove:[{ext:"na",type:"none/none",platform:["browser"]}],hasGUI:!0,applyMedia:function(e){e.html(""),this.displayReady(),this.sendUpdate("error",this.media.errorCode),this.pp.getConfig("enableTestcard")||this.media.file.length&&this.media.file[0].src&&(t.location.href=this.media.file[0].src)}})}(window,document,jQuery,projekktor),function(e,t,r,l){l.newModel({modelId:"VIDEO",androidVersion:"4.0",iosVersion:"5.0",nativeVersion:"1.0",iLove:[{ext:"mp4",type:"video/mp4",platform:["ios","android","native"]},{ext:"m4v",type:"video/mp4",platform:["ios","android","native"]},{ext:"ogv",type:"video/ogg",platform:["native"]},{ext:"webm",type:"video/webm",platform:["native"]},{ext:"ogg",type:"video/ogg",platform:["native"]},{ext:"anx",type:"video/ogg",platform:["native"]}],_eventMap:{pause:"pauseListener",play:"playingListener",volumechange:"volumeListener",progress:"progressListener",timeupdate:"_timeupdate",ended:"_ended",waiting:"waitingListener",canplaythrough:"canplayListener",canplay:"canplayListener",error:"errorListener",emptied:"emptiedListener",stalled:"stalledListener",seeked:"seekedListener",loadedmetadata:"resizeListener",loadeddata:"resizeListener",resize:"resizeListener",webkitbeginfullscreen:"webkitBeginFullscreenListener",webkitendfullscreen:"webkitEndFullscreenListener"},_eventsBinded:[],allowRandomSeek:!1,videoWidth:0,videoHeight:0,wasPersistent:!0,endedTimeout:0,displayingFullscreen:!1,_lastPosition:null,init:function(){this._lastPosition=null,this._eventsBinded=[],this.ready()},applyMedia:function(e){0===r("#"+this.pp.getMediaId()+"_html").length&&(this.wasPersistent=!1,e.html("").append(r("<video/>").attr({id:this.pp.getMediaId()+"_html",loop:!1,autoplay:!1,preload:"none","x-webkit-airplay":"allow",playsinline:""}).prop({controls:!1,volume:this.getVolume(),muted:this.getMuted()}).css({width:"100%",height:"100%",position:"absolute",top:0,left:0}))),this.mediaElement=r("#"+this.pp.getMediaId()+"_html"),this.addListeners(),this.applySrc()},applySrc:function(){var t=this,e=this.getSource(),i=t.getState("AWAKENING");this.mediaElement.attr("src",e[0].src),this.mediaElement.attr("type",e[0].type),this.mediaElement.on("mousedown.projekktorqs"+this.pp.getId(),this.disableDefaultVideoElementActions),this.mediaElement.on("click.projekktorqs"+this.pp.getId(),this.disableDefaultVideoElementActions);var e=function(e){t.mediaElement.off("loadstart.projekktorqs"+t.pp.getId()),t.mediaElement.off("loadeddata.projekktorqs"+t.pp.getId()),t.mediaElement.off("canplay.projekktorqs"+t.pp.getId()),t.mediaElement=r("#"+t.pp.getMediaId()+"_html"),i?t.displayReady():t.getSeekState("SEEKING")?(t._isPlaying&&t.setPlay(),t.seekedListener()):(t.setSeek(t.media.position||0),t._isPlaying&&t.setPlay())};this.mediaElement.on("loadstart.projekktorqs"+this.pp.getId(),e),this.mediaElement.on("loadeddata.projekktorqs"+this.pp.getId(),e),this.mediaElement.on("canplay.projekktorqs"+this.pp.getId(),e),this.mediaElement[0].load()},detachMedia:function(){try{this.mediaElement.off(".projekktorqs"+this.pp.getId()),this.mediaElement[0].pause()}catch(e){}},addListeners:function(e,t){var i,s,n;null!=this.mediaElement&&(i=null!=t?".projekktor"+t+this.pp.getId():".projekktor"+this.pp.getId(),n=null==e?"*":e,r.each((s=this)._eventMap,function(e,t){e!=n&&"*"!=n||null==t||-1!==s._eventsBinded.indexOf(e)||(s.mediaElement.on(e+i,function(e){s[t](this,e)}),s._eventsBinded.push(e))}))},removeListeners:function(i,e){var s,n;null!=this.mediaElement&&(i=void 0===i?"*":i,s=null!=e?".projekktor"+e+this.pp.getId():".projekktor"+this.pp.getId(),r.each((n=this)._eventMap,function(e,t){var e;e!==i&&"*"!==i||(n.mediaElement.off(e+s),-1<(e=n._eventsBinded.indexOf(e))&&n._eventsBinded.splice(e,1))}))},_timeupdate:function(e,t){var i=this;e.duration-e.currentTime<1&&(this.endedTimeout=setTimeout(function(){clearTimeout(i.endedTimeout),e.paused||0!==Math.round(e.duration-e.currentTime)||(l.utils.log("VIDEO model: ended event forced"),i._ended())},1e3)),this.resizeListener(e),e.currentTime!==this._lastPosition?(null!==this._lastPosition&&this._setBufferState("FULL"),this._lastPosition=e.currentTime,this.timeListener.apply(this,arguments)):this._setBufferState("EMPTY")},_ended:function(){var e,t,e;clearTimeout(this.endedTimeout),this.mediaElement?(e=this.mediaElement[0].duration,t=Math.round(this.media.position)===Math.round(e),e=e-this.media.maxpos<2&&0===this.media.position||!1,t||e?this.endedListener(this):this.pauseListener(this)):this.emptiedListener(this)},playingListener:function(e){var t=this;!function e(){try{0===t.getDuration()&&(""!==t.mediaElement.get(0).currentSrc&&t.mediaElement.get(0).networkState==t.mediaElement.get(0).NETWORK_NO_SOURCE?t.sendUpdate("error",80):setTimeout(e,500))}catch(e){}}(),this._setState("playing")},errorListener:function(e,t){try{switch(t.target.error.code){case t.target.error.MEDIA_ERR_ABORTED:this.sendUpdate("error",1);break;case t.target.error.MEDIA_ERR_NETWORK:this.sendUpdate("error",2);break;case t.target.error.MEDIA_ERR_DECODE:this.sendUpdate("error",3);break;case t.target.error.MEDIA_ERR_SRC_NOT_SUPPORTED:this.sendUpdate("error",4);break;default:this.sendUpdate("error",5)}}catch(e){}},emptiedListener:function(e){this._setBufferState("EMPTY")},stalledListener:function(e){this._setBufferState("EMPTY")},canplayListener:function(e){this._setBufferState("FULL")},webkitBeginFullscreenListener:function(e){this.displayingFullscreen=!0,this.fullscreenchangeListener(this.displayingFullscreen)},webkitEndFullscreenListener:function(e){this.displayingFullscreen=!1,this.fullscreenchangeListener(this.displayingFullscreen)},disableDefaultVideoElementActions:function(e){e.preventDefault()},getMediaStatus:function(e){var t,i,s,n,r,a,o,t;l.utils.logging&&(i=(t=this.mediaElement[0]).networkState,s=t.readyState,n=t.error,r=t.currentTime,a=t.duration,o=t.buffered,t=t.seekable,l.utils.log("| "+e+" |"),l.utils.log("| networkState: ",this._getNetworkStateName(i),"readyState: ",this._getReadyStateName(s),"error: ",this._getErrorName(n)),l.utils.log("| duration: ",a,"currentTime: ",r),l.utils.log("| buffered: ",this._loopThroughTimeRanges(o)),l.utils.log("| seekable: ",this._loopThroughTimeRanges(t)))},_getNetworkStateName:function(e){var t=e+" - ";switch(e){case 0:t+="NETWORK_EMPTY";break;case 1:t+="NETWORK_IDLE";break;case 2:t+="NETWORK_LOADING";break;case 3:t+="NETWORK_NO_SOURCE"}return t},_getReadyStateName:function(e){var t=e+" - ";switch(e){case 0:t+="HAVE_NOTHING";break;case 1:t+="HAVE_METADATA";break;case 2:t+="HAVE_CURRENT_DATA";break;case 3:t+="HAVE_FUTURE_DATA";break;case 4:t+="HAVE_ENOUGH_DATA"}return t},_getErrorName:function(e){var t=e+" - ";switch(e){case 1:t+="MEDIA_ERR_ABORTED";break;case 2:t+="MEDIA_ERR_NETWORK";break;case 3:t+="MEDIA_ERR_DECODE";break;case 4:t+="MEDIA_ERR_SRC_NOT_SUPPORTED"}return t},_loopThroughTimeRanges:function(e){var t=0,i=e.length,s="length: "+i+"; ";for(;t<i;t++)s=(s=(s+="#"+t+" - ")+"start: "+e.start(t)+", ")+"end: "+e.end(t)+"; ";return s},setPlay:function(){var t=this,e;try{void 0!==(e=this.mediaElement[0].play())&&e.catch(function(e){t.pp.setActiveItem(0,!1)})}catch(e){}},setPause:function(){try{this.mediaElement[0].pause()}catch(e){}},setVolume:function(e){null!==this.mediaElement&&l.features.volumecontrol?this.mediaElement.prop("volume",e):this.volumeListener(e)},setMuted:function(e){null===this.mediaElement?this.volumeListener(0):this.mediaElement.prop("muted",e)},setSeek:function(e){var i=this,s=e,n=!0;!function t(){try{i._isDVR&&(n=0<i.mediaElement[0].seekable.start(0),s=e<0?n?i.mediaElement[0].seekable.end(0)-2:i.media.duration:n?i.mediaElement[0].seekable.end(0)-(i.media.duration-e):e),i.mediaElement[0].currentTime=s,i.timeListener({position:s})}catch(e){null!==i.mediaElement&&setTimeout(t,100)}}()},getVolume:function(){return null===this.mediaElement?this._volume:this.mediaElement.prop("volume")},getMuted:function(){return null===this.mediaElement?0===this._volume:this.mediaElement.prop("muted")}}),l.newModel({modelId:"AUDIO",iLove:[{ext:"ogg",type:"audio/ogg",platform:["native"]},{ext:"oga",type:"audio/ogg",platform:["native"]},{ext:"mp3",type:"audio/mp3",platform:["ios","android","native"]},{ext:"mp3",type:"audio/mpeg",platform:["ios","android","native"]}],imageElement:{},applyMedia:function(e){l.utils.blockSelection(e),0===r("#"+this.pp.getMediaId()+"_html").length&&(this.wasPersistent=!1,e.append(r("<audio/>").attr({id:this.pp.getMediaId()+"_html",poster:l.utils.imageDummy(),loop:!1,autoplay:!1,preload:"none","x-webkit-airplay":"allow",playsinline:""}).prop({controls:!1,volume:this.getVolume()}).css({width:"1px",height:"1px",position:"absolute",top:0,left:0}))),this.imageElement=this.applyImage(this.getPoster("cover")||this.getPoster("poster"),e),this.imageElement.css({border:"0px"}),this.mediaElement=r("#"+this.pp.getMediaId()+"_html"),this.applySrc()},setPosterLive:function(){var e,t;this.imageElement.parent&&(e=this.imageElement.parent(),(t=this).imageElement.attr("src")==this.getPoster("cover")||this.getPoster("poster")||this.imageElement.fadeOut("fast",function(){r(this).remove(),t.imageElement=t.applyImage(t.getPoster("cover")||t.getPoster("poster"),e)}))}},"VIDEO")}(window,document,jQuery,projekktor),function(e,t,i,s){s.newModel({modelId:"VIDEOHLS",androidVersion:"4.1",iosVersion:"5.0",iLove:[{ext:"m3u8",type:"application/vnd.apple.mpegurl",platform:["ios","android","native"]},{ext:"m3u",type:"application/vnd.apple.mpegurl",platform:["ios","android","native"]},{ext:"m3u8",type:"application/x-mpegurl",platform:["ios","android","native"]},{ext:"m3u",type:"application/x-mpegurl",platform:["ios","android","native"]}]},"VIDEO"),s.newModel({modelId:"AUDIOHLS",androidVersion:"4.1",iosVersion:"5.0",iLove:[{ext:"m3u8",type:"application/vnd.apple.mpegurl",platform:["ios","android","native"]},{ext:"m3u",type:"application/vnd.apple.mpegurl",platform:["ios","android","native"]},{ext:"m3u8",type:"application/x-mpegurl",platform:["ios","android","native"]},{ext:"m3u",type:"application/x-mpegurl",platform:["ios","android","native"]},{ext:"m3u8",type:"audio/mpegurl",platform:["ios","android","native"]},{ext:"m3u",type:"audio/mpegurl",platform:["ios","android","native"]},{ext:"m3u8",type:"audio/x-mpegurl",platform:["ios","android","native"]},{ext:"m3u",type:"audio/x-mpegurl",platform:["ios","android","native"]}]},"AUDIO")}(window,document,jQuery,projekktor),function(e,t,i,s){s.newModel({modelId:"PLAYLIST",browserVersion:"1.0",iLove:[{ext:"json",type:"text/json",platform:["browser"]},{ext:"xml",type:"text/xml",platform:["browser"]},{ext:"json",type:"application/json",platform:["browser"]},{ext:"xml",type:"application/xml",platform:["browser"]}],applyMedia:function(e){this.displayReady()},setPlay:function(){this.sendUpdate("playlist",this.media)}})}(window,document,jQuery,projekktor),function(e,i,s,t){t.newModel({modelId:"IMAGE",browserVersion:"1.0",iLove:[{ext:"jpg",type:"image/jpeg",platform:["browser"]},{ext:"gif",type:"image/gif",platform:["browser"]},{ext:"png",type:"image/png",platform:["browser"]}],allowRandomSeek:!0,_position:0,_duration:0,_fixedVolume:!0,applyMedia:function(e){this.mediaElement=this.applyImage(this.media.file[0].src,e.html("")),this._duration=this.pp.getConfig("duration")||1,this._position=-1,this.displayReady(),this._position=-.5},setPlay:function(){var t=this;this._setBufferState("FULL"),this.progressListener(100),this.playingListener(),0==this._duration?t._setState("completed"):function e(){t._position>=t._duration?t._setState("completed"):t.getState("PLAYING")&&(t.timeListener({duration:t._duration,position:t._position}),setTimeout(e,200),t._position+=.2)}()},detachMedia:function(){this.mediaElement.remove()},setPause:function(){this.pauseListener()},setSeek:function(e){e<this._duration&&(this._position=e,this.seekedListener())}}),t.newModel({modelId:"HTML",browserVersion:"1.0",iLove:[{ext:"html",type:"text/html",platform:["browser"]}],applyMedia:function(e){var t=this;this.mediaElement=s(i.createElement("iframe")).attr({id:this.pp.getMediaId()+"_iframe",name:this.pp.getMediaId()+"_iframe",src:this.media.file[0].src,scrolling:"no",frameborder:"0",width:"100%",height:"100%"}).css({overflow:"hidden",border:"0px",width:"100%",height:"100%"}).appendTo(e.html("")),this.mediaElement.load(function(e){t.success()}),this.mediaElement.error(function(e){t.remove()}),this._duration=this.pp.getConfig("duration")},success:function(){this.displayReady()},remove:function(){this.mediaElement.remove()}},"IMAGE")}(window,document,jQuery,projekktor),function(r,e,a,g){function n(e,t){var i=Object.entries(t.headers||{});return 0<i.length&&(e.xhrSetup=function(t,e){i.forEach(function(e){t.setRequestHeader(e[0],e[1])})}),e}g.newModel({modelId:"MSEVIDEOHLS",mseVersion:"1.0",iLove:[{ext:"m3u8",type:"application/x-mpegurl",platform:["mse"]},{ext:"m3u8",type:"application/vnd.apple.mpegurl",platform:["mse"]}],_hlsjs:null,_hlsjsPlatformConfig:{},availableQualities:{},_qualitySwitching:!1,_isDynamicStream:!1,_requestedDynamicStreamIndex:-1,_bufferTime:0,_liveOffset:2,applyMedia:function(e){var s=this,t=function(){0===a("#"+s.pp.getMediaId()+"_html").length&&(s.wasPersistent=!1,e.html("").append(a("<video/>").attr({id:s.pp.getMediaId()+"_html",poster:g.utils.imageDummy(),loop:!1,autoplay:!1,preload:"auto","x-webkit-airplay":"allow",playsinline:""}).prop({controls:!1,volume:s.getVolume()}).css({width:"100%",height:"100%",position:"absolute",top:0,left:0}))),s.mediaElement=a("#"+s.pp.getMediaId()+"_html"),s.addListeners(),s.applySrc()},i=function(e,t,i){s.sendUpdate("error",2)},n=this.pp.getConfig("platformsConfig").mse||{};a.extend(!0,s._hlsjsPlatformConfig,{src:"/MISSING_PATH_TO_HLSJS_LIB/",initVars:{}},n.hlsjs),r.Hls&&"function"==typeof r.Hls.isSupported?t():g.utils.getScript(s._hlsjsPlatformConfig.src,{cache:!0}).done(t).fail(i)},applySrc:function(){var i=this,e=i.getSource(),s=i.getState("AWAKENING"),t=n(i._hlsjsPlatformConfig.initVars,e[0]);i._hlsjs=new Hls(t),i._hlsjs.loadSource(e[0].src),i._hlsjs.attachMedia(i.mediaElement[0]),i._hlsjs.on(Hls.Events.MANIFEST_PARSED,function(e,t){i.updateAvailableDynamicStreamsQualities(t),s?i.displayReady():i.getSeekState("SEEKING")?(i._isPlaying&&i.setPlay(),i.seekedListener()):i._isPlaying&&i.setPlay()}),i._hlsjs.on(Hls.Events.LEVEL_SWITCH,function(e,t){i.qualityChangeListener()}),this.mediaElement.on("mousedown.projekktorqs"+this.pp.getId(),this.disableDefaultVideoElementActions),this.mediaElement.on("click.projekktorqs"+this.pp.getId(),this.disableDefaultVideoElementActions)},detachMedia:function(){try{this._hlsjs.detachMedia(),this._hlsjs.destroy(),this.mediaElement.off(".projekktorqs"+this.pp.getId())}catch(e){}},updateAvailableDynamicStreamsQualities:function(e){var t=e.levels,i=t.length,s="",n=!1,r=this.pp.getConfig("dynamicStreamShowAudioOnlyQualities"),a=this.pp.getConfig("dynamicStreamQualityKeyFormatAudioVideo"),o=this.pp.getConfig("dynamicStreamQualityKeyFormatAudioOnly"),l=this.pp.getConfig("dynamicStreamQualityKeyBitrateRoundingDecimalPlacesCount"),c=0,u=0,d=0,h="kbps",p=[];this.availableQualities={};for(var f=0;f<i;f++)void 0!==t[f].bitrate&&(u=Math.floor(t[f].bitrate/1e3),d=g.utils.roundNumber(u/1e3,l),c=u<1e3?u:d,h=u<1e3?"kbps":"Mbps",0<t[f].height?(n=!1,s=g.utils.parseTemplate(a,{height:t[f].height,width:t[f].width,bitrate:c,bitrateunit:h,bitratekbps:u,bitratembps:d})):(n=!0,r&&(s=g.utils.parseTemplate(o,{bitrate:c,bitrateunit:h,bitratekbps:u,bitratembps:d}))),s.length)&&n===r&&(this.availableQualities[s]=f,p.push(s));return p.push("auto"),this._isDynamicStream=!0,this.sendUpdate("availableQualitiesChange",p),p},switchDynamicStreamIndex:function(e){return!(isNaN(e)||e<0&&this.getAutoDynamicStreamSwitch()||e===this.getCurrentDynamicStreamIndex()&&!this.getAutoDynamicStreamSwitch()||e>this.getMaxAllowedDynamicStreamIndex())&&(this._requestedDynamicStreamIndex=e,this.getDynamicStreamingStatus("before switch"),e<0?this.setAutoDynamicStreamSwitch(!0):(this.setAutoDynamicStreamSwitch(!1),e!==this.getCurrentDynamicStreamIndex()&&(this._hlsjs.currentLevel=e)),this.getDynamicStreamingStatus("after switchDynamicStreamIndexTo"),e)},getStreamItems:function(){return this._hlsjs.levels},getNumDynamicStreams:function(){return this._hlsjs.levels.length},getMaxAllowedDynamicStreamIndex:function(){return this.getAutoDynamicStreamSwitch()&&0<=this._hlsjs.autoLevelCapping?this._hlsjs.autoLevelCapping:this.getNumDynamicStreams()-1},setMaxAllowedDynamicStreamIndex:function(e){!isNaN(e)&&e!==this.getMaxAllowedDynamicStreamIndex()&&0<=e&&e<this.getNumDynamicStreams()?this._hlsjs.autoLevelCapping=e:e<0&&(this._hlsjs.autoLevelCapping=-1)},getCurrentDynamicStreamIndex:function(){return this._hlsjs.currentLevel},getAutoDynamicStreamSwitch:function(){return this._hlsjs.autoLevelEnabled},setAutoDynamicStreamSwitch:function(e){!0===e&&(this._hlsjs.currentLevel=-1,this._hlsjs.nextLevel=-1,this._hlsjs.loadLevel=-1)},getDynamicStreamingStatus:function(e){if(g.utils.logging){g.utils.log("| "+e+" | getDynamicStreamingStatus ==="),g.utils.log("| reqIdx: ",this._requestedDynamicStreamIndex,", current index: ",this.getCurrentDynamicStreamIndex(),", max allowed index: ",this.getMaxAllowedDynamicStreamIndex(),", num streams: ",this.getNumDynamicStreams(),", auto:",this.getAutoDynamicStreamSwitch());var t=this.getStreamItems();for(var i in t)t.hasOwnProperty(i)&&void 0!==t[i].bitrate&&(e=i+" dimensions: "+t[i].width+"x"+t[i].height+" | bitrate: "+t[i].bitrate+" | streamName: "+t[i].streamName,g.utils.log("| "+e));g.utils.log("| ======================================")}},setQuality:function(e){this._quality!=e&&(this._quality=e,!0===this._isDynamicStream)&&this.switchDynamicStreamIndex("auto"==e?-1:this.availableQualities[e])}},"VIDEO"),g.newModel({modelId:"MSEAUDIOHLS",mseVersion:"1.0",platform:"mse",iLove:[{ext:"m3u8",type:"application/vnd.apple.mpegurl",platform:["mse"]},{ext:"m3u",type:"application/vnd.apple.mpegurl",platform:["mse"]},{ext:"m3u8",type:"application/x-mpegurl",platform:["mse"]},{ext:"m3u",type:"application/x-mpegurl",platform:["mse"]},{ext:"m3u8",type:"audio/mpegurl",platform:["mse"]},{ext:"m3u",type:"audio/mpegurl",platform:["mse"]},{ext:"m3u8",type:"audio/x-mpegurl",platform:["mse"]},{ext:"m3u",type:"audio/x-mpegurl",platform:["mse"]}],applyMedia:function(e){var s=this,t=function(){g.utils.blockSelection(e),0===a("#"+s.pp.getMediaId()+"_html").length&&(s.wasPersistent=!1,e.html("").append(a("<audio/>").attr({id:s.pp.getMediaId()+"_html",poster:g.utils.imageDummy(),loop:!1,autoplay:!1,preload:"auto","x-webkit-airplay":"allow",playsinline:""}).prop({controls:!1,volume:s.getVolume()}).css({width:"1px",height:"1px",position:"absolute",top:0,left:0}))),s.imageElement=s.applyImage(s.getPoster("cover")||s.getPoster("poster"),e),s.imageElement.css({border:"0px"}),s.mediaElement=a("#"+s.pp.getMediaId()+"_html"),s.addListeners(),s.applySrc()},i=function(e,t,i){s.sendUpdate("error",2)};r.Hls&&"function"==typeof r.Hls.isSupported?t():g.utils.getScript(s.pp.getConfig("platformsConfig").mse.src,{cache:!0}).done(t).fail(i)}},"MSEVIDEOHLS")}(window,document,jQuery,projekktor),function(r,a,o,p){p.newModel({modelId:"MSEVIDEODASH",mseVersion:"1.0",iLove:[{ext:"ism",type:"application/dash+xml",platform:["mse"],drm:["widevine","playready"]},{ext:"mpd",type:"application/dash+xml",platform:["mse"],drm:["widevine","playready"]}],_dashjs:null,_dashjsPlatformConfig:{},_video:null,_quality:null,_qualityMap:null,_showAudioOnly:null,mediaElement:null,applyMedia:function(t){var i=this;this._showAudioOnly=this.pp.getConfig("dynamicStreamShowAudioOnlyQualities"),this._fetchDashJs(function(e){p.utils.log("dashjs lib successfully loaded"),i._initMedia(t)})},_initMedia:function(e){var i=this,t=i._dashjsPlatformConfig.initVars,s=i.getState("AWAKENING");this._dashjs=r.dashjs.MediaPlayer().create();var n=this.pp.getMediaId()+"_html";this._video=a.getElementById(n),this._video||(this._video=o("<video/>").attr({id:n,poster:p.utils.imageDummy(),loop:!1,autoplay:!1,preload:"none","x-webkit-airplay":"allow",playsinline:""}).prop({controls:!1,volume:this.getVolume()}).css({width:"100%",height:"100%",position:"absolute",top:0,left:0})[0],e.html("").append(this._video)),this.mediaElement=o(this._video);var n=r.dashjs.MediaPlayer.events;this._dashjs.on(n.STREAM_INITIALIZED,function(e){i._setDashJsConfig(t),s?i.displayReady():i.getSeekState("SEEKING")?(i._isPlaying&&i.setPlay(),i.seekedListener()):i._isPlaying&&i.setPlay()}),this._dashjs.on(n.PLAYBACK_METADATA_LOADED,function(){var e=i._getQualityList();null===i._qualityMap&&(i._qualityMap={});for(var t=0;t<e.length;t++)i._qualityMap[e[t]]=t;i.sendUpdate("availableQualitiesChange",e)}),this._dashjs.on(n.QUALITY_CHANGE_REQUESTED,function(){i.qualityChangeListener()}),this._dashjs.on(n.ERROR,function(e){i.sendUpdate("error",4,e)}),this._dashjs.on(n.PLAYBACK_ERROR,function(e){i.sendUpdate("error",5,e)}),this._dashjs.on("public_keyError",function(e){i.sendUpdate("error",302,e)}),this._dashjs.on("public_keySessionClosed",function(e){void 0!==e.error&&i.sendUpdate("error",302,e.error)}),this._dashjs.on("public_licenseRequestComplete",function(e){void 0!==e.error&&i.sendUpdate("error",302,e.error)}),this._setDashJsConfig({debug:!!t.debug}),this.applySrc()},_setDashJsConfig:function(e){var s=this;Object.keys(e).forEach(function(t){var i=e[t];try{switch(t){case"debug":s._dashjs.getDebug().setLogToBrowserConsole(i);break;case"fastSwitchEnabled":s._dashjs.setFastSwitchEnabled(i);break;case"limitBitrateByPortal":s._dashjs.setLimitBitrateByPortal(i);break;case"usePixelRatioInLimitBitrateByPortal":s._dashjs.setUsePixelRatioInLimitBitrateByPortal(i)}}catch(e){p.utils.log("DASHJS config setting failed on: ",t,i,e)}})},detachMedia:function(){this.mediaElement&&(this.mediaElement=null),this._dashjs&&(this._dashjs.isReady()&&this._dashjs.reset(),this._dashjs=null),this._video=null,this._qualityMap=null,this._quality=null},applySrc:function(){var e=this.getSource()[0],i=Object.entries(e.headers||{}),t=Array.isArray(e.drm)?e.drm:[],s=this.pp.getConfig("drm")||{},n=p.utils.intersect(t,Object.keys(s)),r;if(0<t.length){if(!(0<n.length))return void this.sendUpdate("error",301);r={}}n.forEach(function(e){var t=r;switch(e){case"widevine":t["com.widevine.alpha"]={serverURL:s[e]};break;case"playready":t["com.microsoft.playready"]={serverURL:s[e]}}}),void 0!==r&&this._dashjs.setProtectionData(r),0<i.length&&this._dashjs.extend("RequestModifier",function(){return{modifyRequestHeader:function(t){return i.forEach(function(e){t.setRequestHeader(e[0],e[1])}),t},modifyRequestURL:function(e){return e}}}),this._dashjs.initialize(this._video,e.src,!1)},_fetchDashJs:function(e){var t=this,i=this.pp.getConfig("platformsConfig").mse||{};o.extend(!0,t._dashjsPlatformConfig,{src:"/MISSING_PATH_TO_DASHJS_LIB/",initVars:{}},i.dashjs),"object"==typeof r.dashjs?e(r.dashjs):p.utils.getScript(t._dashjsPlatformConfig.src,{cache:!0}).done(function(){"object"==typeof r.dashjs?e(r.dashjs):t.sendUpdate("error",2)}).fail(function(){t.sendUpdate("error",2)})},_getQualityList:function(){var e=this.pp.getConfig("dynamicStreamQualityKeyFormatAudioVideo"),t=this.pp.getConfig("dynamicStreamQualityKeyFormatAudioOnly"),i=this.pp.getConfig("dynamicStreamQualityKeyBitrateRoundingDecimalPlacesCount"),s=0,n=0,r="kbps",a=0,o=null,l=null,c=[],u=null;if(this._showAudioOnly){o=this._dashjs.getBitrateInfoListFor("audio");for(var d=0;d<o.length;d++){var h=o[d];s=Math.floor(h.bitrate/1e3),n=p.utils.roundNumber(s/1e3,i),u=p.utils.parseTemplate(t,{bitrate:a=s<1e3?s:n,bitrateunit:r=s<1e3?"kbps":"Mbps",bitratekbps:s,bitratembps:n}),c.push(""+u)}}else{l=this._dashjs.getBitrateInfoListFor("video");for(var d=0;d<l.length;d++){var h=l[d];s=Math.floor(h.bitrate/1e3),n=p.utils.roundNumber(s/1e3,i),u=p.utils.parseTemplate(e,{height:h.height,width:h.width,bitrate:a=s<1e3?s:n,bitrateunit:r=s<1e3?"kbps":"Mbps",bitratekbps:s,bitratembps:n}),c.push(""+u)}}return c.push("auto"),c},setQuality:function(e){this._quality!==e&&(this._showAudioOnly?"auto"===e?this._dashjs.setAutoSwitchQualityFor("audio",!0):(this._dashjs.setAutoSwitchQualityFor("audio",!1),this._dashjs.setQualityFor("audio",this._qualityMap[e])):"auto"===e?this._dashjs.setAutoSwitchQualityFor("video",!0):(this._dashjs.setAutoSwitchQualityFor("video",!1),this._dashjs.setQualityFor("video",this._qualityMap[e])),this._quality=e)},getQuality:function(){return this._quality}},"VIDEO")}(window,document,jQuery,projekktor),function(n,e,r,a){a.newModel({modelId:"VIDEOJS",videojsVersion:"1.0",iLove:[{ext:"mp4",type:"video/mp4",platform:["videojs"]}],_videojs:null,_eventMap:{pause:"vjsPauseListener",play:"vjsPlayingListener",volumechange:"vjsVolumeListener",progress:"vjsProgressListener",timeupdate:"vjsTimeListener",ended:"vjsEndedListener",waiting:"vjsWaitingListener",canplaythrough:"vjsCanplayListener",canplay:"vjsCanplayListener",error:"vjsErrorListener",emptied:"vjsEmptiedListener",stalled:"vjsStalledListener",seeked:"vjsSeekedListener",loadedmetadata:"vjsResizeListener",loadeddata:"vjsResizeListener",resize:"vjsResizeListener"},applyMedia:function(e){var s=this,t=function(){0===r("#"+s.getMediaElementId()).length&&(s.wasPersistent=!1,e.html("").append(r("<video/>").attr({id:s.getMediaElementId(),poster:a.utils.imageDummy(),src:s.getSource()[0].src,loop:!1,autoplay:!1,preload:"none","x-webkit-airplay":"allow",playsinline:""}).prop({controls:!1,volume:s.getVolume()}).css({width:"100%",height:"100%",position:"absolute",top:0,left:0}))),s.mediaElement=r("#"+s.getMediaElementId()),s.initVideoJs()},i=function(e,t,i){s.sendUpdate("error",2)};n.videojs&&"function"==typeof n.videojs?t():(a.utils.getCss(s.pp.getConfig("platformsConfig").videojs.css),a.utils.getScript(s.pp.getConfig("platformsConfig").videojs.src,{cache:!0}).done(t).fail(i))},initVideoJs:function(){var i=this,s=i.getState("AWAKENING"),e=i.pp.getConfig("platformsConfig").videojs.initVars;i._videojs=n.videojs(i.mediaElement[0],e,function(e,t){i.mediaElement=r(this.contentEl()),i.addVideoJsEventListeners(),s?i.displayReady():i.getSeekState("SEEKING")?(i._isPlaying&&i.setPlay(),i.seekedListener()):i._isPlaying&&i.setPlay()})},detachMedia:function(){try{this._videojs.dispose()}catch(e){}},addVideoJsEventListeners:function(){var i=this;i._videojs._ppModel=i,r.each(this._eventMap,function(e,t){var t=i[t];i._videojs.on(e,t)})},removeVideoJsEventListeners:function(){var i=this;r.each(this._eventMap,function(e,t){var t=i[t];i._videojs.off(e,t)})},vjsPlayingListener:function(e){var t;this._ppModel.playingListener()},vjsPauseListener:function(e){var t;this._ppModel.pauseListener()},vjsVolumeListener:function(e){var t;this._ppModel.volumeListener(this.volume())},vjsProgressListener:function(e){var t;this._ppModel.progressListener(e)},vjsSeekedListener:function(e){var t;this._ppModel.seekedListener(this.currentTime())},vjsTimeListener:function(e){var t=this._ppModel,i={position:this.currentTime(),duration:this.duration()};t.timeListener(i)},vjsEndedListener:function(e){var t=this._ppModel||this;t.removeVideoJsEventListeners(),t.endedListener(e)},vjsResizeListener:function(e){var t=this._ppModel,i={videoWidth:this.videoWidth(),videoHeight:this.videoHeight()};t.resizeListener(i)},vjsWaitingListener:function(e){var t;this._ppModel.waitingListener(e)},vjsCanplayListener:function(e){var t;this._ppModel.canplayListener(e)},vjsEmptiedListener:function(e){var t;this._ppModel._setBufferState("EMPTY")},vjsStalledListener:function(e){var t;this._ppModel._setBufferState("EMPTY")},vjsErrorListener:function(e,t){var i=this._ppModel||this,s,t=(t||this).error()||e.error;try{switch(t.code){case t.MEDIA_ERR_ABORTED:i.sendUpdate("error",1);break;case t.MEDIA_ERR_NETWORK:i.sendUpdate("error",2);break;case t.MEDIA_ERR_DECODE:i.sendUpdate("error",3);break;case t.MEDIA_ERR_SRC_NOT_SUPPORTED:i.sendUpdate("error",4);break;default:i.sendUpdate("error",5)}}catch(e){a.utils.log(t,e)}},setPlay:function(){try{this._videojs.play()}catch(e){}},setPause:function(){try{this._videojs.pause()}catch(e){}},setVolume:function(e){null===this.mediaElement?this.volumeListener(e):this._videojs.volume(e)},setSeek:function(e){var i=this,s=e;!function t(){try{i._videojs.currentTime(s),i.timeListener({position:s})}catch(e){null!==i.mediaElement&&setTimeout(t,100)}}()},getVolume:function(){return null===this.mediaElement?this._volume:this._videojs.volume()}})}(window,document,jQuery,projekktor),function(e,t,i,s){if(void 0===s||!s.hasOwnProperty("plugins"))throw new Error("Projekktor player not found. Please initialize Projekktor before adding any plugins.");function n(){}n.prototype={version:"1.1.2",reqVer:"1.8.0",logo:null,logoIsFading:!1,display:null,displayClicks:0,buffIcn:null,buffIcnSprite:null,buffIcnHangWatcher:null,bufferDelayTimer:null,_controlsDims:null,config:{displayClick:{callback:"setPlayPause",value:null},displayPlayingClick:{callback:"setPlayPause",value:null},displayDblClick:{callback:null,value:null},staticControls:!1,bufferIconDelay:1e3,bufferIconHangWatcherInterval:5e3,spriteUrl:"",spriteWidth:50,spriteHeight:50,spriteTiles:25,spriteOffset:1,spriteCountUp:!1},initialize:function(){this.display=this.applyToPlayer(i("<div/>")),this.startButton=this.applyToPlayer(i("<div/>").addClass("start"),"startbtn"),this.buffIcn=this.applyToPlayer(i('<div><div class="dots"><div class="dot1"></div><div class="dot2"></div><div class="dot3"></div></div></div>').addClass("buffering"),"buffericn"),this.setActive(),""!==this.config.spriteUrl&&(this.buffIcnSprite=i("<div/>").appendTo(this.buffIcn).css({width:this.config.spriteWidth,height:this.config.spriteHeight,marginLeft:(this.buffIcn.width()-this.config.spriteWidth)/2+"px",marginTop:(this.buffIcn.height()-this.config.spriteHeight)/2+"px",backgroundColor:"transparent",backgroundImage:"url("+this.config.spriteUrl+")",backgroundRepeat:"no-repeat",backgroundPosition:"0 0"}).addClass("inactive")),this.pp.getMediaContainer(),this.pluginReady=!0},displayReadyHandler:function(){this.pp.playerModel.getBufferState("FULL")&&this.hideBufferIcon()},synchronizingHandler:function(){var e=this;this.hideStartButton(),this.showBufferIcon(),this.startButton.off().on("touchend click",function(){e.pp.setPlay()})},synchronizedHandler:function(){this.readyHandler()},readyHandler:function(){this.hideBufferIcon(),this.pp.getState("IDLE")&&this.showStartButton()},bufferHandler:function(e){this.pp.playerModel.getBufferState("EMPTY")&&!this.pp.getState("PAUSED")?this.showBufferIcon():this.hideBufferIcon()},stateHandler:function(e){var t=this.pp.playerModel.getBufferState();switch(e){case"IDLE":clearTimeout(this._cursorTimer),this.display.css("cursor","pointer"),this.showStartButton(),this.hideBufferIcon();break;case"PLAYING":this.hideStartButton(),this.bufferHandler(t);break;case"PAUSED":this.showStartButton(),this.hideBufferIcon();break;case"STARTING":case"AWAKENING":this.showBufferIcon(),this.hideStartButton();break;case"COMPLETED":this.hideBufferIcon();break;default:this.hideStartButton()}},errorHandler:function(e){this.hideBufferIcon(),this.hideStartButton(),this.getConfig("skipTestcard")||this.testCard(e)},startHandler:function(){this.mousemoveHandler()},stoppedHandler:function(){this.hideBufferIcon()},scheduleLoadingHandler:function(){this.hideStartButton(),this.showBufferIcon()},scheduledHandler:function(){this.getConfig("autoplay")||this.showStartButton(),this.hideBufferIcon()},plugineventHandler:function(e){var e;"controlbar"==e.PLUGIN&&"show"==e.EVENT&&this.getConfig("staticControls")&&(e=100*e.height/this.pp.getDC().height(),this.display.height(100-e+"%").data("sc",!0))},qualityChangeHandler:function(){var e=this.pp.playerModel.getBufferState();this.bufferHandler(e)},mousemoveHandler:function(e){var t=this.display;this.pp.getState("IDLE")?t.css("cursor","pointer"):(t.css("cursor","auto"),clearTimeout(this._cursorTimer),-1=="AWAKENING|ERROR|PAUSED".indexOf(this.pp.getState())&&(this._cursorTimer=setTimeout(function(){t.css("cursor","none")},3e3)))},mousedownHandler:function(e){var t=this;if((-1!=(i(e.target).attr("id")||"").indexOf("_media")||i(e.target).hasClass(this.pp.getNS()+"testcard"))&&(clearTimeout(this._cursorTimer),this.display.css("cursor","auto"),1==e.which)){switch(this.pp.getState()){case"ERROR":return this.pp.setConfig({disallowSkip:!1}),this.pp.setActiveItem("next"),void this.display.html("").removeClass(this.pp.getNS()+"testcard");case"IDLE":return void this.pp.setPlay()}!0!==this.pp.getHasGUI()&&(this.displayClicks++,this.pp._promote("displayClick"),0<this.displayClicks)&&setTimeout(function(){1==t.displayClicks?"PLAYING"==t.pp.getState()?t.clickHandler("displayPlaying"):t.clickHandler("display"):2==t.displayClicks&&t.clickHandler("displayDbl"),t.displayClicks=0},150)}},showStartButton:function(){this.startButton.removeClass("inactive").addClass("active")},hideStartButton:function(){this.startButton.removeClass("active").addClass("inactive")},hideBufferIcon:function(){clearTimeout(this.bufferDelayTimer),clearInterval(this.buffIcnHangWatcher),this.buffIcn.addClass("inactive").removeClass("active")},showBufferIcon:function(e){var t=this;var i,s;clearTimeout(this.bufferDelayTimer),clearInterval(this.buffIcnHangWatcher),this.getConfig("bufferIconHangWatcherInterval")&&(this.buffIcnHangWatcher=setInterval(function(){t.pp.playerModel.getBufferState("FULL")&&t.hideBufferIcon()},this.getConfig("bufferIconHangWatcherInterval"))),this.pp.getHasGUI()||this.pp.getState("IDLE")||(!0!==(e="YTAUDIO"!==this.pp.getModel()&&"YTVIDEO"!==this.pp.getModel()||this.pp.getState("IDLE")?e:!0)&&0<this.getConfig("bufferIconDelay")?this.bufferDelayTimer=setTimeout(function(){t.showBufferIcon(!0)},this.getConfig("bufferIconDelay")):this.buffIcn.hasClass("active")||(this.buffIcn.addClass("active").removeClass("inactive"),null!==t.buffIcnSprite&&(i=!0===t.config.spriteCountUp?0:(t.config.spriteHeight+t.config.spriteOffset)*(t.config.spriteTiles-1),s=i,t.buffIcnSprite.addClass("active").removeClass("inactive"),function e(){t.buffIcn.is(":visible")&&(t.buffIcnSprite.css("backgroundPosition","0px -"+s+"px"),!0===t.config.spriteCountUp?s+=t.config.spriteHeight+t.config.spriteOffset:s-=t.config.spriteHeight+t.config.spriteOffset,(s>(i+t.config.spriteHeight)*t.config.spriteTiles||s<t.config.spriteOffset)&&(s=i),setTimeout(e,60))}())))},testCard:function(e){var t=s.utils.errorMessage(e,this.pp);1<this.pp.getItemCount()&&(t+=" "+s.utils.errorMessage(99,this.pp)),t.length<3&&(t="ERROR #"+e),this.display.html("").addClass(this.pp.getNS()+"testcard").html("<p>"+t+"</p>")}},s.plugins.projekktorDisplay=n}(window,document,jQuery,projekktor),function(d,c,h,u){if(void 0===u||!u.hasOwnProperty("plugins"))throw new Error("Projekktor player not found. Please initialize Projekktor before adding any plugins.");function e(){}e.prototype={version:"1.2.2",reqVer:"1.8.0",_cTimer:null,_lastPos:-1,_isDVR:!1,_noHide:!1,_sSliderAct:!1,_vSliderAct:!1,cb:null,controlElements:{},controlElementsConfig:{timeleft:null,sec_dur:null,min_dur:null,sec_abs_dur:null,min_abs_dur:null,hr_dur:null,sec_elp:null,min_elp:null,sec_abs_elp:null,min_abs_elp:null,hr_elp:null,sec_rem:null,min_rem:null,sec_abs_rem:null,min_abs_rem:null,hr_rem:null,sec_tip:null,min_tip:null,sec_abs_tip:null,min_abs_tip:null,hr_tip:null,cb:null,playhead:{on:null,call:null},loaded:null,golive:[{on:["touchstart","click"],call:"goliveClk"},{on:["touchend"],call:"touchEnd"}],scrubber:null,scrubbertip:null,scrubberknob:null,scrubberdrag:[{on:["mouseenter","touchstart"],call:"scrubberShowTooltip"},{on:["mouseout","touchend"],call:"scrubberHideTooltip"},{on:["mousemove","touchmove"],call:"scrubberdragTooltip"},{on:["mousedown","touchstart"],call:"scrubberdragStartDragListener"}],play:[{on:["touchend","click"],call:"playClk"},{on:["touchend"],call:"touchEnd"}],pause:[{on:["touchstart","click"],call:"pauseClk"},{on:["touchend"],call:"touchEnd"}],stop:[{on:["touchstart","click"],call:"stopClk"},{on:["touchend"],call:"touchEnd"}],prev:[{on:["touchstart","click"],call:"prevClk"},{on:["touchend"],call:"touchEnd"}],prevC:[{on:["touchstart","click"],call:"prevCClk"},{on:["touchend"],call:"touchEnd"}],next:[{on:["touchstart","click"],call:"nextClk"},{on:["touchend"],call:"touchEnd"}],nextC:[{on:["touchstart","click"],call:"nextCClk"},{on:["touchend"],call:"touchEnd"}],rewind:[{on:["touchstart","click"],call:"rewindClk"},{on:["touchend"],call:"touchEnd"}],forward:[{on:["touchstart","click"],call:"forwardClk"},{on:["touchend"],call:"touchEnd"}],fsexit:[{on:["touchstart","click"],call:"exitFullscreenClk"},{on:["touchend"],call:"touchEnd"}],fsenter:[{on:["touchend","click"],call:"enterFullscreenClk"},{on:["touchend"],call:"touchEnd"}],loquality:[{on:["touchstart","click"],call:"setQualityClk"},{on:["touchend"],call:"touchEnd"}],hiquality:[{on:["touchstart","click"],call:"setQualityClk"},{on:["touchend"],call:"touchEnd"}],vslider:[{on:["touchstart","click"],call:"vsliderClk"},{on:["touchend"],call:"touchEnd"}],vmarker:[{on:["touchstart","click"],call:"vsliderClk"},{on:["touchend"],call:"touchEnd"}],vknob:{on:["mousedown"],call:"vknobStartDragListener"},volumePanel:[{on:["mousemove"],call:"volumeBtnHover"},{on:["mouseout"],call:"volumeBtnOut"}],volume:null,mute:[{on:["touchstart","click"],call:"muteClk"},{on:["mouseout"],call:"volumeBtnOut"},{on:["mousemove"],call:"volumeBtnHover"},{on:["touchend"],call:"touchEnd"}],unmute:[{on:["touchstart","click"],call:"unmuteClk"},{on:["mouseout"],call:"volumeBtnOut"},{on:["mousemove"],call:"volumeBtnHover"},{on:["touchend"],call:"touchEnd"}],vmax:[{on:["touchstart","click"],call:"vmaxClk"},{on:["mouseout"],call:"volumeBtnOut"},{on:["mousemove"],call:"volumeBtnHover"},{on:["touchend"],call:"touchEnd"}],open:[{on:["touchstart","click"],call:"openCloseClk"},{on:["touchend"],call:"touchEnd"}],close:[{on:["touchstart","click"],call:"openCloseClk"},{on:["touchend"],call:"touchEnd"}],loop:[{on:["touchstart","click"],call:"loopClk"},{on:["touchend"],call:"touchEnd"}],controls:null,title:null,logo:{on:["touchstart","click"],call:"logoClk"}},config:{toggleMute:!0,fadeDelay:2500,showOnStart:!1,showOnIdle:!1,hideWhenPaused:!1,showCuePoints:!0,showCuePointsImmediately:!0,showCuePointGroups:[],minCuePointSize:"2px",cuePointEvents:[],logo:{},onPrevClick:null,onNextClick:null,controlsTemplate:'<ul class="left"><li><div %{play}></div><div %{pause}></div></li></ul><ul class="right"><li><div %{logo}></div></li><li><div %{fsexit}></div><div %{fsenter}></div></li><li><div %{settingsbtn}></div></li><li><div %{tracksbtn}></div></li><li><div %{vmax}></div></li><li><div %{vslider}><div %{vmarker}></div><div %{vknob}></div></div></li><li><div %{mute}></div><div %{unmute}></div></li><li><div %{timeleft}>%{hr_elp}:%{min_elp}:%{sec_elp} | %{hr_dur}:%{min_dur}:%{sec_dur}</div></li><li><div %{nextC}></div></li><li><div %{prevC}></div></li></ul><ul class="bottom"><li><div %{scrubber}><div %{loaded}></div><div %{playhead}></div><div %{scrubberknob}></div><div %{scrubberdrag}></div></div></li></ul><div %{scrubbertip}>%{hr_tip}:%{min_tip}:%{sec_tip}</div>'},initialize:function(){var t=this,i=this.playerDom.html(),s=!0,n=this.pp.getNS();Object.keys(this.controlElementsConfig).some(function(e){if(i.match(new RegExp(n+e,"gi")))return!(s=!1)}),s?(this.cb=this.applyToPlayer(h("<div/>").addClass("controls")),this.applyTemplate(this.cb,this.getConfig("controlsTemplate"))):this.cb=this.playerDom.find("."+n+"controls"),Object.keys(this.controlElementsConfig).forEach(function(e){t.controlElements[e]=h(t.playerDom).find("."+n+e),u.utils.blockSelection(h(t.controlElements[e]))}),this.addGuiListeners(),this.showcb(),this.pluginReady=!0},applyTemplate:function(e,s){var n=this.pp.getNS();var t;s&&(null!=(t=s.match(/\%{[a-zA-Z_]*\}/gi))&&h.each(t,function(e,t){var i=t.replace(/\%{|}/gi,"");s=t.match(/\_/gi)?s.replace(t,'<span class="'+n+i+'"></span>'):s.replace(t,'class="'+n+i+'"'+u.utils.i18n(' aria-label="%{'+i+'}" title="%{'+i+'}" '))}),e.html(s))},updateDisplay:function(){var e=this.pp.getState();!1===this.getConfig("controls")?this.hidecb():(this.getConfig("disallowSkip")?(this._active("prev",!1),this._active("prevC",!1),this._active("next",!1),this._active("nextC",!1)):(this._active("prev",!1!==this.pp.getPreviousItem()),this._active("prevC","function"==typeof this.config.onPrevClick),this._active("next",!1!==this.pp.getNextItem()),this._active("nextC","function"==typeof this.config.onNextClick)),this.getConfig("disablePause")?(this._active("play",!1),this._active("pause",!1)):("PLAYING"===e&&this.drawPauseButton(),"PAUSED"===e&&this.drawPlayButton(),"IDLE"===e&&this.drawPlayButton()),this._active("stop","IDLE"!==e),this._active("forward","IDLE"!==e),this._active("rewind","IDLE"!==e),!0===this.pp.getIsFullscreen()?this.drawExitFullscreenButton():this.drawEnterFullscreenButton(),this.pp.getFullscreenEnabled()||(this._active("fsexit",!1),this._active("fsenter",!1)),this._active("loop",!0),this.controlElements.loop.addClass(this.pp.getConfig("loop")?"on":"off").removeClass(this.pp.getConfig("loop")?"off":"on"),this.displayQualityToggle(),this.displayTime(),this.displayProgress(),this.displayVolume(this.pp.getVolume()))},deconstruct:function(){this.pluginReady=!1,h.each(this.controlElements,function(){h(this).off()}),h.each(this._appliedDOMObj,function(){h(this).off()})},addGuiListeners:function(){var l=this;h.each(this.controlElementsConfig,function(r,a){if(null!=a){a instanceof Array||(a=[a]);for(var o=0;o<a.length;o++)null!=a[o].on&&h.each(a[o].on,function(e,t){var i="on"+t in d.document,s=a[o].call;var n;i||((n=c.createElement("div")).setAttribute("on"+t,"return;"),i="function"==typeof n["on"+t]),i&&l.controlElements[r].on(t,function(e){l.clickCatcher(e,s,l.controlElements[r])})})}return!0}),this.cb.mousemove(function(e){l.controlsFocus(e)}),this.cb.mouseout(function(e){l.controlsBlur(e)})},clickCatcher:function(e,t,i){return e.preventDefault(),this[t](e,i),!1},touchEnd:function(){var e=this;this._cTimer=setTimeout(function(){e.hidecb()},this.getConfig("fadeDelay")),this._noHide=!1},drawTitle:function(){this.controlElements.title.html(this.getConfig("title",""))},displayLogo:function(){var e=this.pp.getConfig("logo")||this.getConfig("logo"),t=this.controlElements.logo,i;t&&e&&e.src?(i=h("<img>").attr({src:e.src,alt:e.title,title:e.title}),(e.link&&e.link.url||"function"==typeof e.callback)&&i.css({cursor:"pointer"}),t.empty().append(i),this._active("logo",!0)):this._active("logo",!1)},canHide:function(){var e=this.pp.getState(),t;return!(null===this.cb||this._noHide||"IDLE"===e&&this.getConfig("showOnIdle")||"PAUSED"===e&&!this.getConfig("hideWhenPaused"))},canShow:function(){var e=this.pp.getState(),t;return!(null===this.cb||!this.getConfig("controls")||this.pp.getHasGUI()||-1<"ERROR|COMPLETED|DESTROYING".indexOf(e)||-1<"AWAKENING|STARTING".indexOf(e)&&!this.getConfig("showOnStart")||"IDLE"===e&&!this.getConfig("showOnIdle")||!1)},hidecb:function(){var e=this.cb.hasClass("active");clearTimeout(this._cTimer),this.canHide()&&(this.cb.removeClass("active").addClass("inactive"),e)&&this.sendEvent("hide",this.cb)},showcb:function(){var e=this,t=this.cb.hasClass("active");clearTimeout(this._cTimer),this._cTimer=setTimeout(function(){e.hidecb()},this.getConfig("fadeDelay")),this.canShow()&&(t||(this.cb.removeClass("inactive").addClass("active"),this.sendEvent("show",this.cb)),this.updateDisplay())},displayTime:function(e,t,i){if(!this.pp.getHasGUI()){var e=10*(e||this.pp.getLoadPlaybackProgress()||0)/10,t=t||this.pp.getDuration()||0,i=i||this.pp.getPosition()||0,s;if(1<=Math.abs(this._lastPos-i))for(var n in 0===t?(this._active("scrubber",!1),this._active("timeleft",!1)):(this._active("scrubber",!0),this._active("timeleft",!0)),s=h.extend({},this._clockDigits(t,"dur"),this._clockDigits(i,"elp"),this._clockDigits(t-i,"rem")),this.controlElements.playhead.css({width:e+"%"}),this.controlElements.scrubberknob.css({left:e+"%"}),this._lastPos=i,this.controlElements)if(this.controlElements.hasOwnProperty(n)){if("cb"==n)break;s[n]&&h.each(this.controlElements[n],function(){h(this).html(s[n])})}}},displayProgress:function(){var e=Math.round(10*this.pp.getLoadProgress())/10,t=this.controlElements.loaded.data("pct")||void 0;void 0!==t&&t===e||this.controlElements.loaded.data("pct",e).css("width",e+"%")},displayVolume:function(e){if(1!=this._vSliderAct&&null!=e){var t=this.getConfig("fixedVolume")||this.pp.playerModel&&this.pp.playerModel._fixedVolume,i=this.controlElements.mute.hasClass("toggle")||this.controlElements.unmute.hasClass("toggle")||this.getConfig("toggleMute"),e,e=(e=1<e?1:e)<0?0:e;if(this._active("mute",!t),this._active("unmute",!t),this._active("vmax",!t),this._active("vknob",!t),this._active("vmarker",!t),this._active("vslider",!t),!t){var s=this.controlElements.vslider,n=this.controlElements.vmarker,r=this.controlElements.vknob,a;switch(s.width()>s.height()?"horizontal":"vertical"){case"horizontal":n.css("width",100*e+"%"),r.css("left",Math.round(s.width()*e-r.width()*e)+"px");break;case"vertical":n.css("height",100*e+"%"),r.css("bottom",Math.round(s.height()*e-r.height()*e)+"px")}var o=this.controlElements.volume.find("li"),l=o.length-Math.ceil(100*e/o.length);for(var c=0;c<=o.length;c++)l<=c?h(o[c]).addClass("active"):h(o[c]).removeClass("active");i&&(0===parseFloat(e)?(this._active("mute",!1),this._active("unmute",!0)):(this._active("mute",!0),this._active("unmute",!1)))}}},displayCuePoints:function(n){var r,a,o;this.getConfig("showCuePoints")&&(a=(r=this).pp.getNS(),o=this.pp.getDuration(),r.controlElements.scrubber.children().remove("."+a+"cuepoint"),h.each(this.pp.getCuePoints(this.pp.getItemId(),!0)||[],function(){var e,t,i,s;r.getConfig("showCuePointGroups").length&&-1==r.getConfig("showCuePointGroups").indexOf(this.group)||(e=this.on!=this.off?(this.off-this.on)/o*100+"%":r.getConfig("minCuePointSize"),t=this.on/o*100,i=h(c.createElement("div")).addClass(a+"cuepoint").addClass(a+"cuepoint_group_"+this.group).addClass(a+"cuepoint_"+this.id).addClass(n?"active":"inactive").css("left",t+"%").css("width",e),s=r.config.cuePointEvents.concat(this.blipEvents),""!=this.title&&i.attr("title",this.title),n?r._bindCuePointBlipEvents(i,s,{pp:r.pp,cuepoint:this}):this.addListener("unlock",function(){h(i).removeClass("inactive").addClass("active"),r._bindCuePointBlipEvents(i,s,{pp:r.pp,cuepoint:this})}),r.controlElements.scrubber.append(i))}))},drawPauseButton:function(e){this._active("pause",!0),this._active("play",!1)},drawPlayButton:function(e){this._active("pause",!1),this._active("play",!0)},drawEnterFullscreenButton:function(e){this._active("fsexit",!1),this._active("fsenter",!0)},drawExitFullscreenButton:function(e){this._active("fsexit",!0),this._active("fsenter",!1)},displayQualityToggle:function(e){var t=this.getConfig("playbackQualities"),i=this.pp.getPlaybackQualities(),s=this.pp.getNS(),n=[];if(i.length<2||t.length<2)this.controlElements.loquality.removeClass().addClass("inactive").addClass(s+"loquality").data("qual",""),this.controlElements.hiquality.removeClass().addClass("inactive").addClass(s+"hiquality").data("qual","");else{t.sort(function(e,t){return e.minHeight-t.minHeight});for(var r=t.length;r--;0<r)if(-1<h.inArray(t[r].key,i)&&n.push(t[r].key),1<n.length)break;this.cb.addClass("qualities"),(n[0]==this.pp.getPlaybackQuality()?(this._active("loquality",!0).addClass("qual"+n[1]).data("qual",n[1]),this._active("hiquality",!1)):(this._active("loquality",!1).addClass("qual"+n[1]).data("qual",n[1]),this._active("hiquality",!0))).addClass("qual"+n[0]).data("qual",n[0])}},itemHandler:function(e){h(this.cb).find("."+this.pp.getNS()+"cuepoint").remove(),this._lastPos=-1,this.updateDisplay(),this.drawTitle(),this.displayLogo(),this.pluginReady=!0},startHandler:function(){!0===this.getConfig("showOnStart")?this.showcb():this.hidecb()},readyHandler:function(e){this.showcb(),this.pluginReady=!0},stateHandler:function(e){this.updateDisplay(),-1<"STOPPED|AWAKENING|IDLE|COMPLETED".indexOf(e)&&(this.displayTime(0,0,0),this.displayProgress(0)),-1<"PLAYING|STOPPED|COMPLETED|DESTROYING".indexOf(e)||(-1<"ERROR".indexOf(e)&&(this._noHide=!1),this.showcb(),this.displayProgress())},scheduleModifiedHandler:function(){"IDLE"!==this.pp.getState()&&(this.updateDisplay(),this.displayTime(),this.displayProgress())},volumeHandler:function(e){this.displayVolume(e)},progressHandler:function(e){this.displayProgress()},timeHandler:function(e){this.displayTime(),this.displayProgress()},qualityChangeHandler:function(e){this.displayQualityToggle(e)},streamTypeChangeHandler:function(e){"dvr"===e||"live"===e?(this._isDVR=!0,this.setActive(this.controlElements.golive,!0)):(this._isDVR=!1,this.setActive(this.controlElements.golive,!1))},isLiveHandler:function(e){e?this.controlElements.golive.addClass("on").removeClass("off"):this.controlElements.golive.addClass("off").removeClass("on")},fullscreenHandler:function(e){this._noHide=!1,this._vSliderAct=!1,this.getConfig("controls")&&this.pp.getFullscreenEnabled()&&(e?(this.cb.addClass("fullscreen"),this.drawExitFullscreenButton()):(this.cb.removeClass("fullscreen"),this.drawEnterFullscreenButton()))},durationChangeHandler:function(){0!=this.pp.getDuration()&&this.displayCuePoints(this.getConfig("showCuePointsImmediately"))},cuepointsSyncHandler:function(e){0!=this.pp.getDuration()&&this.displayCuePoints(this.getConfig("showCuePointsImmediately"))},errorHandler:function(e){this._noHide=!1,this.hidecb()},leftclickHandler:function(){this.mouseleaveHandler()},focusHandler:function(e){this.showcb()},mouseenterHandler:function(e){this.showcb()},mousemoveHandler:function(e){this.pp.getState("STARTING")||this.showcb()},mouseleaveHandler:function(){},mousedownHandler:function(e){this.showcb()},controlsFocus:function(e){this._noHide=!0},controlsBlur:function(e){this._noHide=!1},setQualityClk:function(e){this.pp.setPlaybackQuality(h(e.currentTarget).data("qual"))},goliveClk:function(e){this.pp.setSeek(-1)},playClk:function(e){this.pp.setPlay()},pauseClk:function(e){this.pp.setPause()},stopClk:function(e){this.pp.setStop()},startClk:function(e){this.pp.setPlay()},controlsClk:function(e){},prevClk:function(e){this.pp.setActiveItem("previous")},nextClk:function(e){this.pp.setActiveItem("next")},prevCClk:function(e){this.config.onPrevClick()},nextCClk:function(e){this.config.onNextClick()},forwardClk:function(e){this.pp.setPlayhead("+10")},rewindClk:function(e){this.pp.setPlayhead("-10")},muteClk:function(e){this.pp.setMuted(!0)},unmuteClk:function(e){this.pp.setMuted(!1)},vmaxClk:function(e){this.pp.setVolume(1)},enterFullscreenClk:function(e){this.pp.setFullscreen(!0)},exitFullscreenClk:function(e){this.pp.setFullscreen(!1)},loopClk:function(e){this.pp.setLoop(h(e.currentTarget).hasClass("inactive")||!1),this.updateDisplay()},vmarkerClk:function(e){this.vsliderClk(e)},openCloseClk:function(e){var i=this;h(h(e.currentTarget).attr("class").split(/\s+/)).each(function(e,t){-1!==t.indexOf("toggle")&&(i.playerDom.find("."+t.substring(6)).slideToggle("slow",function(){i.pp.setSize()}),i.controlElements.open.toggle(),i.controlElements.close.toggle())})},logoClk:function(e){var t=this.pp.getConfig("logo")||this.getConfig("logo");t&&(t.link&&t.link.url?d.open(t.link.url,t.link.target):"function"==typeof t.callback&&t.callback(this.pp,e))},volumeBtnHover:function(e){clearTimeout(this._outDelay),this.setActive(this.controlElements.volumePanel,!0)},volumeBtnOut:function(e,t){var i=this;e.currentTarget==t.get(0)&&e.relatedTarget!=t.get(0)&&(this._outDelay=setTimeout(function(){i.setActive(i.controlElements.volumePanel,!1)},100))},vsliderClk:function(e){var t,i,s,n,e,n,e;1!=this._vSliderAct&&(s="hor"==(i=(t=h(this.controlElements.vslider)).width()>t.height()?"hor":"vert")?t.width():t.height(),n=(e.originalEvent.touches?e.originalEvent.touches[0]:e).pageX,e=(e.originalEvent.touches?e.originalEvent.touches[0]:e).pageY,e=(n="hor"==i?n-t.offset().left:e-t.offset().top)<(e=0)||isNaN(n)||null==n?0:"hor"==i?n/s:1-n/s,this.pp.setVolume(e))},scrubberShowTooltip:function(e){var e=this._getPointerPosition(e);0!==this.pp.getDuration()&&(clearTimeout(this._cTimer),this.updateScrubberTooltip(e))},scrubberHideTooltip:function(e){this.setActive(this.controlElements.scrubbertip,!1)},scrubberdragTooltip:function(e){var e=this._getPointerPosition(e);0!==this.pp.getDuration()&&this.updateScrubberTooltip(e)},updateScrubberTooltip:function(e){var t=this,i=h(this.controlElements.scrubberdrag[0]),s=h(this.controlElements.scrubbertip),n=e.clientX-i.offset().left-s.outerWidth()/2,e=this.pp.getDuration()/100*(100*(e.clientX-i.offset().left)/i.width()),r=this._clockDigits(e,"tip",0,this.pp.getDuration());this.setActive(this.controlElements.scrubbertip,!0),Object.keys(r).forEach(function(e){t.controlElements.hasOwnProperty(e)&&h(t.controlElements[e]).html(r[e])}),n=(n=n<0?0:n)>i.width()-s.outerWidth()?i.width()-s.outerWidth():n,s.css({left:n+"px"})},updateScrubberKnobAndPlayhead:function(e){var t=h(this.controlElements.scrubberdrag[0]),i=h(this.controlElements.scrubberknob),s=h(this.controlElements.playhead),e=e.clientX-t.offset().left;e=(e=e<0?0:e)/t.width()*100,i.css({left:(e=100<e?100:e)+"%"}),s.css({width:e+"%"})},scrubberdragStartDragListener:function(e){var i,t,s,n,r,a,o,e,l;!0!==this.getConfig("disallowSkip")&&(this._sSliderAct=!0,t="."+(i=this).pp.getNS()+"scrubberdrag",s=i.controlElements.scrubberdrag,n=i.controlElements.loaded,r=this._getPointerPosition(e),o=function(e){var t=Math.abs(s.offset().left-e.clientX);t=(t=t>s.width()?s.width():t)>n.width()?n.width():t,0<(t=Math.abs((t=t<0?0:t)/s.width())*i.pp.getDuration())&&(i.updateScrubberKnobAndPlayhead(e),clearInterval(a),a=setTimeout(function(){i.pp.setPlayhead(t)},100))},e=function(e){return h(d).off(t),o(r),i._sSliderAct=!1},l=function(e){return r=i._getPointerPosition(e),clearTimeout(i._cTimer),o(r),!1},u.features.touch?(h(d).on("touchmove"+t,l),h(d).on("touchend"+t,e)):(h(d).on("mousemove"+t,l),h(d).on("mouseup"+t,e)),o(r))},vknobStartDragListener:function(e,t){this._vSliderAct=!0;var s=this,i="."+this.pp.getNS()+"vknob",n=s.controlElements.vslider,r=s.controlElements.vmarker,a=s.controlElements.vknob,o=n.width()>n.height()?"horizontal":"vertical",l=0,c=function(e){return h(d).off(i),s._vSliderAct=!1},u=function(e){clearTimeout(s._cTimer);var t,t,t=(t=(t=e.clientX-n.offset().left)>n.width()?n.width():t)<0?0:t,i,i,i=(i=(i=e.clientY-n.offset().top)>n.height()?n.height():i)<0?0:i;switch(o){case"horizontal":l=Math.abs(t/n.width()),r.css("width",100*l+"%"),a.css("left",Math.round(n.width()*l-a.width()*l)+"px");break;case"vertical":l=1-Math.abs(i/n.height()),r.css("height",100*l+"%"),a.css("bottom",Math.round(n.height()*l-a.height()*l)+"px")}return s.pp.setVolume(l),!1};h(d).on("mousemove"+i,u),h(d).on("mouseup"+i,c)},_active:function(e,t){var e=this.controlElements[e];return 1==t?e.addClass("active").removeClass("inactive"):e.addClass("inactive").removeClass("active"),e},_clockDigits:function(e,t,i,s){!isNaN(e)&&void 0!==e||(e=0),void 0!==i&&(e=e<i?i:e),void 0!==s&&(e=s<e?s:e);var i=Math.floor(e/3600),s=e%3600,n=Math.floor(s/60),r=60*i+n,a,s=Math.floor(s%60),e=e,o={};return o["min_"+t]=n<10?"0"+n:n,o["min_abs_"+t]=r<10?"0"+r:r,o["sec_"+t]=s<10?"0"+s:s,o["sec_abs_"+t]=e<10?"0"+e:e,o["hr_"+t]=i<10?"0"+i:i,o},_bindCuePointBlipEvents:function(e,t,i){if(t.length)for(var s=0;s<t.length;s++){var n=t[s].events.join(" "),r=h.extend({},t[s].data,i)||{},a="function"==typeof t[s].handler?t[s].handler:function(e){};e.on(n,r,a)}else e.css("pointer-events","none")},_getPointerPosition:function(e){var t={};if(e)return{clientX:(t="touches"in e.originalEvent&&0<e.originalEvent.touches.length?e.originalEvent.touches[0]:e).clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}},u.plugins.projekktorControlbar=e}(window,document,jQuery,projekktor),function(o,e,l,c){if(void 0===c||!c.hasOwnProperty("plugins"))throw new Error("Projekktor player not found. Please initialize Projekktor before adding any plugins.");function t(){}t.prototype={version:"1.0.2",reqVer:"1.8.0",_qualities:[],config:{contextTitle:"Settings",feedbackUrl:!1,settingsMenu:'<ul data-id="tool" class="ppsettingslist active"><li class="first label">%{help}</li><li data-pp-settings-func="tool_help" class="inactive">%{keyboard controls}</li><li data-pp-settings-func="tool_debug" class="inactive">%{debug}</li><li data-pp-settings-func="tool_version" class="inactive">%{player info}</li><li></li></ul><ul data-id="quality" class="ppsettingslist active"><li class="first label">%{quality}</li></ul><div class="ppclear"></div>',versionTpl:'<div data-pp-settings-func="toolwindow_version"><p>Projekktor V%{version}</p><p><a class="btn cancel" href="#">%{ok}</a></p></div>',debugTpl:'<div data-pp-settings-func="toolwindow_debug"><div class="wizzard inactive" data-id="debug_1"><p><b>%{report}</b></p><p><textarea data-id="message">%{please}</textarea></p><p><a class="btn cancel" href="#">%{cancel}</a><a class="btn next" data-step="2" href="#">%{continue}</a></p></div><div class="wizzard inactive" data-id="debug_2"><p><b>%{sendto}</b></p><p><textarea data-id="result">%{please}</textarea></p><p><a class="btn next" href="#" data-step="3">%{ok}</a></p></div><div class="wizzard inactive" data-id="debug_3"><p>%{thanks}</p><p><a class="btn cancel" href="#">%{ok}</a></p></div></div><div data-pp-settings-func="toolwindow_error"><div class="wizzard inactive" data-id="error_1"><p><b>%{error}<br/> %{sendto}</b></p><p><textarea data-id="errortxt"></textarea></p><p><a class="btn next" href="#" data-step="3">%{ok}</a></p></div><div class="wizzard inactive" data-id="error_2"><p>%{thanks}</p><p><a class="btn cancel" href="#">%{ok}</a></p></div></div>',helpTpl:'<div data-pp-settings-func="toolwindow_help"><p><b>%{keyboard assignments}</b></p><p class="key">%{help1}</p><p class="key">%{help2}</p><p class="key">%{help3}</p><p>%{help4}</p><p><a class="btn cancel" href="#">%{ok}</a></p></div>'},initialize:function(){var t=this,e=0;this.dest=this.applyToPlayer(l("<div/>").addClass("settingsmenu").html(c.utils.i18n(this.getConfig("settingsMenu")))),this.btn=this.applyToPlayer(l("<div/>").addClass("settingsbtn"),"btn"),this.tool=this.applyToPlayer(l("<div/>").addClass("tool"),"toolwindow"),this.setActive(this.btn,!0),this.setInactive(),c.utils.blockSelection(this.dest),this.dest.on("mouseleave",function(){clearTimeout(e),e=setTimeout(function(){t.setInactive()},200)}),this.dest.on("mouseenter",function(){clearTimeout(e)}),this.btn.click(function(e){return t.dest.hasClass("active")?t.setInactive():t.setActive(),e.stopPropagation(),e.preventDefault(),!1}),this.btn.on("mouseleave",function(){l(this).blur(),clearTimeout(e),e=setTimeout(function(){t.setInactive()},200)}),this.btn.on("mouseenter",function(){clearTimeout(e)}),this.pluginReady=!0},optionSelect:function(e,t,i){!0===this[t+"Set"](i)&&(e.parent().find("li").each(function(){l(this).hasClass("first")||l(this).addClass("off").removeClass("on")}),e.addClass("on").removeClass("off"))},itemHandler:function(){this._qualities=[],this.setupSettingsMenu()},plugin_controlbarHideHandler:function(e){this.setInactive(),this.btn.addClass("off").removeClass("on")},availableQualitiesChangeHandler:function(e){this._qualities=e.slice().reverse(),this.setupSettingsMenu()},qualityChangeHandler:function(e){this.qualitySet(e),this.setupSettingsMenu()},errorHandler:function(e){var e=c.utils.i18n("%{error"+e+"}");this.toolSet("error",1,e)},toolCheck:function(e){return!0},qualityCheck:function(e){return-1!=l.inArray(e,this.pp.getPlaybackQualities())},toolSet:function(e,t,i){var s=this.applyToPlayer(l("<div/>"),"toolwindow_"+e),t=t||1,n=this,r=this.pp.getState("PLAYING");var s,a;if("debug"!=e||!this.getConfig("feedbackUrl"))return s.html(c.utils.i18n(this.getConfig(e+"Tpl"))),this.tool.html(c.utils.parseTemplate(s.html(),this.pp.config)),this.tool.find(".wizzard").addClass("inactive").removeClass("active"),this.tool.find('[data-id="'+e+"_"+t+'"]').addClass("active").removeClass("inactive"),this.setActive(this.tool),null==i?(this.tool.find('[data-id="message"]').focus(function(){l(this).html("").off("focus").css({color:"#000"})}),this.tool.find('[data-id="message"]').css({color:"#aaa"})):(s=this.pp.getIframe()&&o.top.location.href,a={version:this.pp.getVersion(),message:i,timestamp:(new Date).getTime(),userAgent:c.userAgent,features:c.features,iframeHref:o.location.href,topHref:s,referrer:o.document.referrer,modelstate:this.pp.getState(),duration:this.pp.getDuration(),position:this.pp.getPosition(),maxposition:this.pp.getMaxPosition(),platform:this.pp.getPlatform(),platformscfg:this.pp.config._platforms,plugins:this.pp.config._plugins,media:this.pp.media,compTable:this.pp.getSupportedPlatforms(),rnd:c.utils.randomId(22)},l.each(this.pp.config._platforms,function(e,t){a[t+"ver"]=c.platforms[t]()}),this.tool.find("debug"==e?'[data-id="result"]':'[data-id="errortxt"]').attr({readonly:"readonly"}).val(c.utils.stringify(a)).off().on("focus",function(){l(this).select()})),l(this.pp.getDC().find(".next")).click(function(){return l(this).off(),n.toolSet("debug",parseInt(l(this).attr("data-step"),10),n.tool.find('[data-id="message"]').val()),!1}),l(this.pp.getDC().find(".cancel")).click(function(){return l(this).off(),n.setActive(n.tool,!1),r&&n.pp.setPlay(),!1}),this.tool.css({margin:"-"+this.tool.outerHeight()/2+"px 0 0 -"+this.tool.outerWidth()/2+"px"}),-1==this.pp.getConfig("streamType").toUpperCase().indexOf("LIVE")&&null!=e&&this.pp.setPause(),this.setInactive(),!1;o.location.href=this.getConfig("feedbackUrl")},qualitySet:function(e){var e=e||this.pp.storage.restore("quality")||null;return"auto"!==e&&this.qualityCheck(e)||(this.pp.storage.remove("quality"),e=this.pp.getAppropriateQuality()),null!==e&&this.pp.storage.save("quality",e),this.pp.getPlaybackQuality()!==e&&this.pp.setPlaybackQuality(e),!0},_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="";var i,i,s,n,r,a,o;var l=0;e=this._utf8_encode(e);while(l<e.length)n=(i=e.charCodeAt(l++))>>2,r=(3&i)<<4|(i=e.charCodeAt(l++))>>4,a=(15&i)<<2|(s=e.charCodeAt(l++))>>6,o=63&s,isNaN(i)?a=o=64:isNaN(s)&&(o=64),t=t+this._keyStr.charAt(n)+this._keyStr.charAt(r)+this._keyStr.charAt(a)+this._keyStr.charAt(o);return t},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");var t="";for(var i=0;i<e.length;i++){var s=e.charCodeAt(i);s<128?t+=String.fromCharCode(s):t=127<s&&s<2048?(t+=String.fromCharCode(s>>6|192))+String.fromCharCode(63&s|128):(t=(t+=String.fromCharCode(s>>12|224))+String.fromCharCode(s>>6&63|128))+String.fromCharCode(63&s|128)}return t},setupSettingsMenu:function(){var n=this,e=0,r=[];for(var t in this.setupQualityMenu(),l.each(this.dest.find("["+this.getDA("func")+"]"),function(){var t=l(this),e=t.attr(n.getDA("func")).split("_"),i=e[0],s=e[1],e=n.pp.storage.restore(i);return r.hasOwnProperty(i)||(r[i]=[]),n[i+"Check"](s)||"auto"===s?(t.addClass("active").removeClass("inactive"),r[i].push(s),e===s||null===e&&"auto"===s?t.addClass("on").removeClass("off"):t.addClass("off").removeClass("on"),t.click(function(e){return n.optionSelect(t,i,s),e.stopPropagation(),e.preventDefault(),!1})):t.addClass("inactive").removeClass("active"),!0}),r)r[t].length<3?this.dest.find('[data-id="'+t+'"]').addClass("inactive").removeClass("active"):(this.dest.find('[data-id="'+t+'"]').addClass("active").removeClass("inactive"),this[t+"Set"](),e++);var i=this.dest.attr("class").split(" ").filter(function(e){return 0!==e.lastIndexOf("column",0)});e?this.setActive(this.btn,!0):this.setActive(this.btn,!1),this.dest.attr("class",i.join(" ")),this.dest.addClass("column"+e)},setupQualityMenu:function(){var e=this._qualities.length?this._qualities:this.pp.getPlaybackQualities(),e=this.createQualityList(e);this.removeMenuItems("quality"),this.addMenuItems("quality",e)},createQualityList:function(e){var t=e||this.pp.getPlaybackQualities(),i="",s="";for(var n=0;n<t.length;n++)"auto"!=(s=t[n])&&"default"!=s&&(i+="<li data-"+this.pp.getNS()+'-settings-func="quality_'+s+'"  class="inactive">%{'+s+"}</li>");return i+="<li data-"+this.pp.getNS()+'-settings-func="quality_auto"  class="auto inactive">%{auto}</li>',c.utils.i18n(i)},addMenuItems:function(e,t,i){var e=e||!1,s,i=i||!1;var n;return!(!e||!t)&&(n=this.dest.find('[data-id="'+e+'"]'),i?n.children(".label").after(t):n.append(t),this.dest.find('[data-id="'+e+'"]'))},removeMenuItems:function(e){var e=e||!1;return!!e&&this.dest.find('[data-id="'+e+'"]').children().not(".label").remove()}},c.plugins.projekktorSettings=t}(window,document,jQuery,projekktor),function(n,e,r,a){a.newModel({modelId:"VPAID",iLove:[{ext:"js",type:"application/javascript",platform:["videojs"],streamType:["http"]}],_vpaid:null,_vpaidEventMap:{"vast.firstPlay":"vpaidFirstPlayListener","vast.adStart":"vpaidAdStartListener","vast.adEnd":"vpaidAdEndListener","vast.adSkip":"vpaidAdEndListener","vast.adError":"vpaidAdErrorListener","vast.adsCancel":"vpaidAdEndListener","vast.contentStart":"vpaidEventListener","vast.contentEnd":"vpaidEventListener","vast.reset":"vpaidEventListener"},_vpaidAdStarted:!1,applyMedia:function(e){var s=this,t=function(){0===r("#"+s.getMediaElementId()).length&&(s.wasPersistent=!1,e.html("").append(r("<video/>").attr({id:s.getMediaElementId(),poster:a.utils.imageDummy(),src:a.utils.videoDummy("mp4"),loop:!1,autoplay:!1,preload:"none","x-webkit-airplay":"allow",playsinline:""}).prop({controls:!1,volume:s.getVolume()}).css({width:"100%",height:"100%",position:"absolute",top:0,left:0}))),s.mediaElement=r("#"+s.getMediaElementId()),s.initVideoJs()},i=function(e,t,i){s.sendUpdate("error",2)};n.videojs&&"function"==typeof n.videojs?t():(a.utils.getCss(s.pp.getConfig("platformsConfig").videojs.css),a.utils.getScript(s.pp.getConfig("platformsConfig").videojs.src,{cache:!0}).done(t).fail(i))},detachMedia:function(){},initVideoJs:function(){var s=this,e=s.getState("AWAKENING"),t=r.extend({},s.pp.getConfig("platformsConfig").videojs.initVars,{plugins:{vpaid:{adCancelTimeout:2e4,adsEnabled:!0}}});n.videojs.plugin("vpaid",function(e){a.utils.log("VPAID adsSetup");var i=this;var t;s.addVPAIDEventListeners(i),s._vpaid=i.vastClient({adTagXML:function(e){s.getVastXML(e,s)},playAdAlways:!0,timeout:1e3,adCancelTimeout:15e3,preferredTech:"html5",adsEnabled:!0,verbosity:0,autoResize:!1}),s.pp.addListener("scaled.vpaid",function(e,t){i.trigger("vast.resize")})}),s._videojs=n.videojs(s.mediaElement[0],t,function(){a.utils.log("VPAID videojs ready"),s.mediaElement=r(this.contentEl()),s.addVideoJsEventListeners(),e?s.displayReady():s.getSeekState("SEEKING")?(s._isPlaying&&s.setPlay(),s.seekedListener()):s._isPlaying&&s.setPlay()})},getVastXML:function(e,t){var i,t=t.pp.getItem().config.vast.adSourceXML;e(null,'<VAST version="3.0"><Ad>'+r(t).html()+"</Ad></VAST>")},addVPAIDEventListeners:function(i){var s=this;r.each(s._vpaidEventMap,function(e,t){var t=s[t];i.on(e,t)})},removeVPAIDEventListeners:function(i){var e=this;e.pp.removeListener("*.vpaid"),r.each(e._vpaidEventMap,function(e,t){i.off(e)})},vpaidEventListener:function(e){var t=this._ppModel;a.utils.log("VPAID",e)},vpaidAdErrorListener:function(e){a.utils.log("VPAID",e);var t=this._ppModel;t.removeVPAIDEventListeners(t._videojs),t.removeVideoJsEventListeners(),t.vjsErrorListener(e,this)},vpaidFirstPlayListener:function(e){var t,i=this._ppModel;a.utils.log("VPAID",e)},vpaidAdStartListener:function(e){var t,i=this._ppModel;a.utils.log("VPAID",e),i._vpaidAdStarted||(i.playingListener(),i._vpaidAdStarted=!0)},vpaidAdEndListener:function(e){var t=this,i=t._ppModel;a.utils.log("VPAID",e),t.trigger("ended"),i.removeVPAIDEventListeners(i._videojs),i.removeVideoJsEventListeners(),i._setState("completed")},vjsPlayingListener:function(e){var t,i=this._ppModel;i._vpaidAdStarted&&i.playingListener()},vjsPauseListener:function(e){var t,i=this._ppModel;i._vpaidAdStarted&&i.pauseListener()},vjsEndedListener:function(e){a.utils.log("VIDEOJS ENDED")}},"VIDEOJS")}(window,document,jQuery,projekktor),function(l,a,v,y){if(void 0===y||!y.hasOwnProperty("plugins"))throw new Error("Projekktor player not found. Please initialize Projekktor before adding any plugins.");var e=function(){};e.prototype={version:"2.3.2",reqVer:"1.8.1",pluginReady:!1,data:{},_enableTracking:!1,_compContainers:[],_adBlocked:!1,_adId:null,_adsSessionOwnerId:"",_isSlave:!1,_hasWrappers:!1,_wrappers:[],_icons:{},_defaultAdPlaylistItem:{config:{id:"",cat:"",adType:"",isAd:!0,disallowSkip:!0,skipTestcard:!0,className:"ad",duration:0,vast:{owner:"",adId:"",impressions:{},impressionsNonLinear:{},tracking:{},isWrapper:!1,wrapperURL:"",isVPAID:!1,adSourceXML:""},plugin_controlbar:{disableFade:!1,showOnStart:!1},plugin_display:{staticControls:!1,displayClick:{callback:null,value:null},displayPlayingClick:{callback:null,value:null},displayDblClick:{callback:null,value:null}}}},_schedulingMethod:"vastAdIdKey",VMAPNS:"http://www.iab.net/videosuite/vmap",config:{url:"",type:"application/xml",withCredentials:!0,urlPreprocessor:function(e,t){return t},vastProxy:"",vastNoCache:!1,requestTimeout:2e3,wrapperLevelMax:5,schedulingMethod:"auto",resourcePriority:["javascript","html","iframe","image"],selectByDimensions:!0,pauseOnClick:!1,cappingLimit:0,cappingPeriod:1,cappingMethod:"none",disableWhenOwnerVideoUnplayable:!0,abDetectedCallback:function(e){},abAfterDisabledByUserCallback:function(e){},adsValidationFunc:function(e,t){return!0},adsValidationFailCallback:function(e){},ownerId:null,masterId:null,masterData:null,slaveMode:!1,defaultAdCat:"prerolls",vpaidOnMobile:!1,adTypes:{preroll:{enabled:!0,showOnMobile:!0,key:"preroll",cat:"prerolls",messages:"advertisement end in %{secs}s",skip:!1,skipHtml:"Skip this ad in %{secs}",skipUnlockedHtml:"Click here to skip this ad.",cappingIndependent:!1,icons:!0,vpaid:!0,pauseAfter:!1},postroll:{enabled:!0,showOnMobile:!0,key:"postroll",cat:"postrolls",messages:"advertisement end in %{secs}s",skip:!1,skipHtml:"Skip this ad in %{secs}",skipUnlockedHtml:"Click here to skip this ad.",cappingIndependent:!1,icons:!0,vpaid:!0,pauseAfter:!1},midroll:{enabled:!0,showOnMobile:!1,key:["midroll_1","midroll_2","midroll_3"],cat:["midrolls_1","midrolls_2","midrolls_3"],messages:"advertisement end in %{secs}s",skip:!1,skipHtml:"Skip this ad in %{secs}",skipUnlockedHtml:"Click here to skip this ad.",cappingIndependent:!1,icons:!0,vpaid:!0},companion:{enabled:!0,showOnMobile:!0,key:"companion",cat:"companions",destinationContainerIds:["companiona","companionb","companionc"],cappingIndependent:!1},overlay:{enabled:!0,showOnMobile:!1,key:"overlay",cat:"overlays",overlayDelay:1,duration:20,size:{height:50,width:300},cappingIndependent:!1}}},initialize:function(){this.config.slaveMode&&this._setSlaveMode(),this.pluginReady=!0},_setSlaveMode:function(){null!==this.config.masterData&&(this.data=this.config.masterData,this._enableTracking=!0,this._adsSessionOwnerId=this.config.ownerId,this._isSlave=!0)},initVASTLoad:function(){var e=this.pp.getItem(),e=this.getConfig("ownerId")||e.id,t=this.getConfig("url")||!1,i=this.config.disableWhenOwnerVideoUnplayable,s=this._isVideoPlayable(e);try{this.data.hasOwnProperty(e)||!t||!1===s&&!0===i?(y.utils.log("Plugin Ads: ads loading interrupted",{url:t,ownerVideoPlayable:s,disableWhenOwnerVideoUnplayable:i}),this.pluginReady=!0):(this.pluginReady=!1,this.loadVAST(e))}catch(e){y.utils.log("Plugin Ads: Error in initVASTLoad()",e)}},loadVAST:function(e){var t=this.getConfig("url"),i=this.getConfig("type");if(this._enableTracking=!0,this._wrappedData=[],v(".imatrackingpixel").remove(),this._adsSessionOwnerId=e,t&&!this.data.hasOwnProperty(this._adsSessionOwnerId))try{this.requestAds(t,i)}catch(e){y.utils.log("Plugin Ads: requestAds() can't load ads",e)}},requestAds:function(e,t){var n=this,i=-1<t.indexOf("/")?t.split("/")[1]:t,r=this.getConfig("urlPreprocessor")(this,e);var t={url:r=""!==this.getConfig("vastProxy")?this.getConfig("vastProxy")+escape(r):r,success:function(e,t,i){y.utils.log("Plugin Ads: requestAds() successfully loaded data from URL: "+r,arguments),n.adsScheduler(e)},error:function(e,t,i){var s;y.utils.log("Plugin Ads: requestAds() failed loading data from URL: "+r,arguments),n.pp.storage.save("abdetected",!0),n.getConfig("abDetectedCallback")(n),n.adsScheduler(!1)},cache:!0,timeout:n.getConfig("requestTimeout"),dataType:"xml",xhrFields:{withCredentials:this.getConfig("withCredentials")}};return v.support.cors=!0,v.ajax(t),!0},requestWrapper:function(e,a,o,l){var c=this,u=c.getConfig("wrapperLevelMax"),d=0,h=function(n){var e=n.linear.config.vast.wrapperURL,r=c.getConfig("urlPreprocessor")(c,e),e;e={url:r=""!==c.getConfig("vastProxy")?c.getConfig("vastProxy")+escape(r):r,success:function(e,t,i){var e,s;y.utils.log("Plugin Ads: getWrapper() successfully loaded data from wrapper #"+a+" on level: "+d+", at URL: "+r,arguments),v.extend(!0,n,c.VASTAdParser(e,n.linear)),e=n.linear.config.vast.isWrapper,s=n.linear.config.vast.followAdditionalWrappers,e&&d<u&&s?(d+=1,h(n)):u<=d?l(n,a,302):o(n,a)},error:function(e,t,i){y.utils.log("Plugin Ads: getWrapper() failed loading data from wrapper #"+a+" on level: "+d+", at URL: "+r,arguments),l(n,a,301)},cache:!0,timeout:c.getConfig("requestTimeout"),dataType:"xml",xhrFields:{withCredentials:c.getConfig("withCredentials")}},v.support.cors=!0,v.ajax(e)};return h(e),!0},adsScheduler:function(e){var t,i=this.getConfig("adsValidationFunc"),s=this.getConfig("adsValidationFailCallback"),n=this.getConfig("abAfterDisabledByUserCallback"),r=this;if(!1===e)this._itemReady(!1);else{switch(this.pp.storage.restore("abdetected")&&(this.pp.storage.remove("abdetected"),n(this)),this._schedulingMethod=r._selectSchedulingMethod(e),y.utils.log("Plugin Ads: adsScheduler() current scheduling method is: '"+this._schedulingMethod+"'",arguments),this._schedulingMethod){case"vmap":this.VMAPScheduler(e);break;case"vastAdIdKey":t=this.VASTAdIdKeyScheduler(e);break;default:t=this.VASTDefaultScheduler(e,this.getConfig("defaultAdCat"),!0)}i(e,this)?(y.utils.log("Plugin Ads: adsScheduler() validation passed.",arguments),this._hasWrappers?this.getWrappers(t):this._itemReady(t)):(y.utils.log("Plugin Ads: adsScheduler() validation failed.",arguments),s(this),this._itemReady())}},getWrappers:function(e){var t=this,i=t._wrappers,n=i.length,s,r=function(){n<=0&&(y.utils.log("Plugin Ads: onAllWrappersComplete(), all wrappers processed."),t._itemReady(e),t._wrappers=[],t._hasWrappers=!1)},a;for(y.utils.log("Plugin Ads: getWrappers(), wrappers to process: ",n,i),a=0;a<n;a++)s=i[a],t.requestWrapper(s,a,function e(t,i){--n,y.utils.log("Plugin Ads: onWrapperSuccessCallback(), wrapper #"+i+" processed. Wrappers left: "+n,t),r()},function e(t,i,s){--n,y.utils.log("Plugin Ads: onWrapperErrorCallback(), wrapper #"+i+" error #"+s+". Wrappers left: "+n,t),r()})},VMAPScheduler:function(e){var t=e.getElementsByTagNameNS(this.VMAPNS,"AdBreak")},VASTAdIdKeyScheduler:function(e){var i={},s=this,t=this.getConfig("adTypes"),n,r,a,o,l,c,u,d;for(r in t)if(t.hasOwnProperty(r)&&t[r].hasOwnProperty("key")&&t[r].hasOwnProperty("cat")&&!1!==(n=t[r]).enabled)for(a=v.isArray(n.key)?n.key:[n.key],l=v.isArray(n.cat)?n.cat:[n.cat],u=0,d=a.length;u<d;u++)o=a[u],c=l[u],"string"==typeof o&&"string"==typeof c&&(i.hasOwnProperty(c)||(i[c]={}),i[c].hasOwnProperty("vastAds")||(i[c].vastAds=[]),i[c].hasOwnProperty("data")||(i[c].data={}),v(e).find('Ad[id|="'+o+'"]').each(function(e,t){var e={config:{id:c+e+"_"+y.utils.randomId(8),cat:c,adType:r,vast:{owner:s._adsSessionOwnerId}}},t=s.VASTAdParser(t,e);t.linear.config.vast.isWrapper&&s._wrappers.push(t),i[c].vastAds.push(t)}));return i},VASTDefaultScheduler:function(e,t,i){var s={},n=this,r=t||this.getConfig("defaultAdCat"),a=this.getConfig("adTypes");return s.hasOwnProperty(r)||(s[r]={}),s[r].hasOwnProperty("vastAds")||(s[r].vastAds=[]),s[r].hasOwnProperty("data")||(s[r].data={}),v(e).find("Ad").each(function(e,t){var e={config:{id:r+e+"_"+y.utils.randomId(8),cat:r,adType:n._getAdTypeForAdCat(r),vast:{owner:n._adsSessionOwnerId}}},t=n.VASTAdParser(t,e);t.linear.config.vast.isWrapper&&n._wrappers.push(t),s[r].vastAds.push(t)}),s},VASTAdParser:function(e,t){var s=v.extend(!0,{},this._defaultAdPlaylistItem,t),i={id:s.config.id,linear:s,nonlinear:{},companion:[]},t=v(e).is("Ad")?e:v(e).find("Ad").first(),n=this;return v(t).has("Wrapper").length?v(t).find("Wrapper").each(function(){v(this).find("VASTAdTagURI").each(function(){n._hasWrappers=!0,s.config.vast.isWrapper=!0,s.config.vast.wrapperURL=v.trim(v(this).text())}),s.config.vast.followAdditionalWrappers=!("false"===v(this).attr("followAdditionalWrappers")),s.config.vast.allowMultipleAds="true"===v(this).attr("allowMultipleAds"),s.config.vast.fallbackOnNoAd=!("false"===v(this).attr("fallbackOnNoAd"))}):(s.config.vast.isWrapper=!1,s.config.vast.wrapperURL=""),v(t).find("Creative").each(function(e,t){v.extend(!0,i,n.VASTCreativeParser(t,s))}),v(t).find("Impression").each(function(){var e=v.trim(v(this).text()),t=y.utils.randomId(8),i=s.config.vast.impressions;""!==e&&(i[t]=e)}),i},VASTCreativeParser:function(e,t){var i={id:t.config.id,linear:{},nonlinear:{},companion:[]},s=t.config.cat,n=this.getConfig("adTypes"),r=this;try{i.linear=r._grabLinearAds(v(e),t)}catch(e){y.utils.log("Plugin Ads: Error in VASTBodyParser() when grabbing linear ads for "+s,e)}return i},_grabLinearAds:function(e,u){var d=this;return e.find("Linear").each(function(){var c=0;if(v(this).find("MediaFiles").find("MediaFile").each(function(){v(this).each(function(){var e=v(this),t=e.attr("delivery").toUpperCase(),i=e.attr("type").toLowerCase(),s=!!d.pp.getCanPlay(i),n=!!e.attr("apiFramework")&&"VPAID"===e.attr("apiFramework").toUpperCase(),r=d.getConfig("vpaidOnMobile"),a=y.userAgent.isMobile,o="IE"===y.userAgent.browser.name,l=v.trim(e.text());return"PROGRESSIVE"!==t&&"STREAMING"!==t||!s||n&&o||n&&a&&!r||n&&-1===i.indexOf("javascript")||0<l.length&&(u[c]={type:i,src:l},"STREAMING"===t&&(u[c].streamType="httpVideo"),n&&(u.config.vast.isVPAID=n,u.config.vast.adSourceXML=e.parents("Ad")[0]),c+=1),!0})}),!u.config.vast.isWrapper&&!u.hasOwnProperty(0))return!0;u.config.duration=y.utils.toSeconds(v.trim(v(this).find("Duration").text())),v(this).find("Tracking").each(function(){var e=v(this).attr("event").toLowerCase(),t=v.trim(v(this).text());u.config.vast.tracking.hasOwnProperty(e)||(u.config.vast.tracking[e]={}),""!==t&&(u.config.vast.tracking[e][y.utils.randomId(8)]=t)});try{u.config.vast.clickthrough={},u.config.vast.isWrapper||v(this).find("ClickThrough").each(function(){u.config.vast.clickthrough[y.utils.randomId(8)]=v.trim(v(this).text())})}catch(e){y.utils.log("Plugin Ads: Error in _grabLinearAds() when trying to set clickthrough.",e)}try{u.config.vast.tracking.clickthrough={},v(this).find("ClickTracking").each(function(){u.config.vast.tracking.clickthrough[y.utils.randomId(8)]=v.trim(v(this).text())})}catch(e){y.utils.log("Plugin Ads: Error in _grabLinearAds() when trying to set clickthrough tracking.",e)}v(this).find("Icons").find("Icon").each(function(){var i={attributes:{program:"",width:null,height:null,xPosition:null,yPosition:null,apiFramework:null,offset:null,duration:null},resources:{},iconClicks:{iconClickThrough:null,iconClickTracking:null},iconViewTracking:null},e=this,t,e,s;if("attributes"in e&&null!==e.attributes)for(s in t=e.attributes,i.attributes)i.attributes.hasOwnProperty(s)&&(i.attributes[s]=t[s]?t[s].nodeValue:null);v(this).find("StaticResource").each(function(){var e=null,t=v(this).attr("creativeType"),t;if(-1<t.indexOf("image")){if(!1===d._adTypes("image"))return;e="image"}if(-1<t.indexOf("javascript")){if(!1===d._adTypes("javascript"))return;e="javascript"}null!==e&&(t={src:v.trim(v(this).text()),mimeType:t},i.resources.hasOwnProperty(e)||(i.resources[e]=[]),i.resources[e].push(t))}),v(this).find("HTMLResource").each(function(){var e="html",t;!1!==d._adTypes(e)&&(t={src:v(this).text(),type:e},i.resources.hasOwnProperty(e)||(i.resources[e]=[]),i.resources[e].push(t))}),v(this).find("IFrameResource").each(function(){var e="iframe",t;!1!==d._adTypes(e)&&(t={src:v(this).text(),type:e},i.resources.hasOwnProperty(e)||(i.resources[e]=[]),i.resources[e].push(t))}),(e=v(this).find("IconClicks")).length&&(e.find("IconClickThrough").each(function(){null===i.iconClicks.iconClickThrough&&(i.iconClicks.iconClickThrough=[]),i.iconClicks.iconClickThrough.push(v.trim(v(this).text()))}),e.find("IconClickTracking").each(function(){null===i.iconClicks.iconClickTracking&&(i.iconClicks.iconClickTracking={}),i.iconClicks.iconClickTracking[y.utils.randomId(8)]=v.trim(v(this).text())})),v(this).find("IconViewTracking").each(function(){null===i.iconViewTracking&&(i.iconViewTracking={}),i.iconViewTracking[y.utils.randomId(8)]=v.trim(v(this).text())}),v.isEmptyObject(i.resources)?y.utils.log("Plugin Ads: Icon '"+i.attributes.program+"' has no usable resources to display.",i):(u.config.vast.hasOwnProperty("icons")||(u.config.vast.icons={}),u.config.vast.icons[i.attributes.program]=i)})}),u},_grabNonLinear:function(e,i,t){var s=this,n,r={config:{vast:{tracking:{}}}},a={},o=[],l={};e.find(i+"Ads").each(function(){n=v(this).parents("Ad"),v(n).find("Impression").each(function(){var e=v.trim(v(this).text());""!=e&&(s.pp.getConfig().vast.impressionsNonLinear[y.utils.randomId(8)]=e)}),v(this).find(i).each(function(){var t=v(this);v(this).each(function(){v(this).find("StaticResource").each(function(){var e=null;if(-1<v(this).attr("creativeType").indexOf("image")){if(!1===s._adTypes("image"))return;e="image"}if(-1<v(this).attr("creativeType").indexOf("javascript")){if(!1===s._adTypes("javascript"))return;e="javascript"}if(null!==e){a={src:v(this).text(),type:e,width:t.attr("width"),height:t.attr("height"),level:s._getLevel(e),tracking:{}};try{a.hasOwnProperty("clickthrough")||(a.clickthrough={}),a.clickthrough[y.utils.randomId(8)]=v.trim(t.find(i+"ClickThrough").text())}catch(e){y.utils.log("Plugin Ads: Error in _grabNonLinear() when trying to set clickthrough for javascript",e)}o.push(a)}}),v(this).find("HTMLResource").each(function(){if(!1!==s._adTypes("html")){a={src:v(this).text(),type:"html",width:t.attr("width"),height:t.attr("height"),level:s._getLevel("html"),tracking:{}};try{a.hasOwnProperty("clickthrough")||(a.clickthrough={}),a.clickthrough[y.utils.randomId(8)]=v.trim(t.find(i+"ClickThrough").text())}catch(e){y.utils.log("Plugin Ads: Error in _grabNonLinear() when trying to set clickthrough for HTMLResource",e)}o.push(a)}}),v(this).find("IFrameResource").each(function(){if(!1!==s._adTypes("iframe")){a={src:v(this).text(),type:"iframe",width:t.attr("width"),height:t.attr("height"),level:s._getLevel("iframe"),tracking:{}};try{a.hasOwnProperty("clickthrough")||(a.clickthrough={}),a.clickthrough[y.utils.randomId(8)]=v.trim(t.find(i+"ClickThrough").text())}catch(e){y.utils.log("Plugin Ads: Error in _grabNonLinear() when trying to set clickthrough for IFrameResource",e)}o.push(a)}})}),v(this).find("Tracking").each(function(){a.tracking.hasOwnProperty(v(this).attr("event"))||(a.tracking[v(this).attr("event")]={});var e=v.trim(v(this).text());""!==e&&(a.tracking[v(this).attr("event")][y.utils.randomId(8)]=e)})})});var c=null,e={config:{vast:{tracking:{}}}};if(o.sort(function(e,t){return e.level-t.level}),"NonLinear"===i)c=0;else if(!0===this.getConfig("selectByDimensions"))for(var u=0;u<o.length;u++)o[u].width===t.width&&o[u].height===t.height&&(c=u);return e.config.vast=o[c]||null,e},timeHandler:function(e){this._handleOverlay(e)},mutedHandler:function(e){e?this._VASTTrack("mute"):this._VASTTrack("unmute")},resumeHandler:function(){this._VASTTrack("resume")},startHandler:function(){this._impressionTracker(),this._VASTTrack("start"),this._VASTTrack("creativeview"),this.pp.getMuted()&&this._VASTTrack("mute")},firstquartileHandler:function(){this._VASTTrack("firstquartile")},midpointHandler:function(){this._VASTTrack("midpoint")},thirdquartileHandler:function(){this._VASTTrack("thirdquartile")},durationChangeHandler:function(){this._addClick()},playlistLoadedHandler:function(){this._isSlave||this.initVASTLoad()},itemHandler:function(e){this.getElement("adskip").remove(),this.getElement("admessage").remove(),this.getElement("clickthrough").remove(),this._removeIconsOverlay(),v(".imatrackingpixel").remove()},errorHandler:function(){},stateHandler:function(e){var t=this.pp.getItem()||{},i=t.config||{},s,n=(this.pp.getItem("next")||{}).config||{},r,t,a,o;if(i.isAd||!1)switch(t=t.config.adType||"",o=(a=this.getConfig("adTypes"))[t],e){case"AWAKENING":break;case"PAUSED":this._VASTTrack("pause");break;case"COMPLETED":this._VASTTrack("complete"),n.isAd||o.pauseAfter&&(n.continuous=!1);break;case"STARTING":o&&o.enabled&&(o.skip&&this._handleSkipOption(),o.hasOwnProperty("messages")&&o.messages.length&&this._handleMessages(),o.icons)&&i.vast.hasOwnProperty("icons")&&this._handleIcons()}},fullscreenHandler:function(e){e&&this._VASTTrack("fullscreen")},doneHandler:function(){this._isSlave||this._removeAds("*")},leftclickHandler:function(e){},_initCompanionsContainers:function(){var i=this,e=this.getConfig("adTypes").companion;e.enabled&&v.each(e.destinationContainerIds,function(e,t){var t=v("#"+t);i._compContainers.push({obj:t,width:t.width(),height:t.height(),initHtml:t.html()})})},_setCompanions:function(e){var i=this,e=this.pp.getItem(e).id,t=this.data[e],s=!1,n,r,a;if(null!=t&&null!=t.companion){v.each(this._compContainers,function(){this.obj.html(this.initHtml),this.obj.click(function(){return!1})});for(var o=0;o<t.companion.length;o++)try{if(null!=(n=t.companion[o].data.config.vast)){switch(r=t.companion[o].dest,a=null,v.each(n.clickthrough,function(e,t){return""==t||null==t||(a=t,!1)}),n.type){case"image":r.obj.html(""),v("<img/>").attr("src",n.src).attr("width",n.width).attr("height",n.height).appendTo(r.obj);break;case"iframe":r.obj.html(""),v("<iframe/>").attr("src",n.src).attr("width",n.width).attr("height",n.height).attr("frameborder",0).attr("allowtransparency","true").attr("scrolling","no").attr("marginwidth",0).attr("marginheight",0).attr("vspace",0).attr("hspace",0).appendTo(r.obj);break;case"html":n.code&&r.obj.html(n.code);break;default:r.obj.html(n.src)}null!=a&&r.obj.data("url",a).click(function(){l.open(v(this).data("url"))}),n.tracking&&v.each(n.tracking.creativeView||[],function(e,t){i._addPixel(t,"creativeView")}),s=!0}}catch(e){y.utils.log("Plugin Ads: Error in _setCompanions()",e)}return s}},_setOverlay:function(e){var e=this.pp.getItem(e).id,t=this.data[e].nonlinear.config.vast,i=this;try{this.overlay.remove()}catch(e){y.utils.log("Plugin Ads: Error in _setOverlay() when trying to remove overlay",e)}if(this.overlay=null,t){this.overlay=this.applyToPlayer(v("<div/>").addClass("adoverlay"),"overlay");var e=v("<div/>").appendTo(this.overlay).addClass(this.getCN("adoverlaywrapper"));e.css({width:t.width+"px",height:t.height+"px"}),v("<div/>").addClass(this.getCN("adclose")).appendTo(e).click(function(){i._handleOverlayClose()});var s=v("<div/>").addClass(this.getCN("adcontent")).css({width:t.width+"px",height:t.height+"px"}).appendTo(e).click(function(){i.pp.setPause(),i._handleOverlayClick()});switch(t.type){case"image":s.css({background:"url('"+t.src+"') transparent center center no-repeat"});break;case"javascript":s.append(v("<iframe/>").attr({frameborder:0,marginwidth:0,marginheight:0,allowtransparency:!0,hspace:0,vspace:0,scrolling:"no",width:t.width+"px",height:t.height+"px",src:""}).on("load",function(){var e;this.contentWindow&&((e=a.createElement("script")).type="text/javascript",e.innerHTML='document.writeln("<span/>");var script = document.createElement("script");script.src = "'+t.src+'";document.getElementsByTagName("body")[0].appendChild(script);',this.contentWindow.document.getElementsByTagName("body")[0].appendChild(e))}));break;default:s.html(t.src)}}},_handleOverlay:function(e){var t,i,s;null!=this.overlay&&(t=this.overlay,i=this.getConfig("overlayDelay"),s=this.getConfig("overlayDuration"),i<=e&&t.hasClass("inactive")&&!this._isAd()&&(t.addClass("active").removeClass("inactive"),this._impressionTracker("NonLinear")),t.hasClass("active"))&&i+s<=e&&this._handleOverlayClose()},_handleOverlayClick:function(){var e=this.pp.getItem(),e=this.data[e.id].nonlinear.config.vast,i=null;if(v.each(e.clickthrough,function(e,t){return""===t||null===t||(i=t,!1)}),null!==i)try{l.open(i)}catch(e){y.utils.log("Plugin Ads: Error in _handleOverlayClick() when trying to call window.open()",e)}},_handleOverlayClose:function(){this.overlay.remove(),this.overlay=null},_itemReady:function(e){if("object"==typeof e){var t=this.getConfig("adTypes"),i=y.userAgent.isMobile;this.data[this._adsSessionOwnerId]=e;try{!t.hasOwnProperty("overlay")||!t.overlay.enabled||i&&t.overlay.showOnMobile!==i?y.utils.log("Plugin Ads: overlays disabled."):this._setOverlay(this.pp.getItemIdx())}catch(e){y.utils.log("Plugin Ads: Error in _itemReady() when trying to set overlays with _setOverlay()",e)}try{!t.hasOwnProperty("companion")||!t.companion.enabled||i&&t.companion.showOnMobile!==i?y.utils.log("Plugin Ads: companions disabled."):this._setCompanions(this.pp.getItemIdx())&&this._impressionTracker()}catch(e){y.utils.log("Plugin Ads: Error in _itemReady() when trying to set companions with _setCompanions()",e)}try{!t.hasOwnProperty("preroll")||!t.preroll.enabled||i&&t.preroll.showOnMobile!==i?y.utils.log("Plugin Ads: prerolls disabled."):this._setLinears("preroll",this._adsSessionOwnerId)}catch(e){y.utils.log("Plugin Ads: Error in _itemReady() when trying to set prerolls with _setLinears()",e)}try{!t.hasOwnProperty("postroll")||!t.postroll.enabled||i&&t.postroll.showOnMobile!==i?y.utils.log("Plugin Ads: postrolls disabled."):this._setLinears("postroll",this._adsSessionOwnerId)}catch(e){y.utils.log("Plugin Ads: Error in _itemReady() when trying to set postrolls with _setLinears()",e)}try{!t.hasOwnProperty("midroll")||!t.midroll.enabled||i&&t.midroll.showOnMobile!==i?y.utils.log("Plugin Ads: midrolls disabled."):this._setMidrolls(this._adsSessionOwnerId)}catch(e){y.utils.log("Plugin Ads: Error in _itemReady() when trying to set midrolls with _setMidrolls()",e)}}this.pluginReady=!0},_setLinears:function(e,t){var t=t||this._adsSessionOwnerId,i=this.pp.getItemIdx({id:t}),s=0,n=this.getConfig("adTypes")[e],r=n.cat||"",a,o,l,c;if((a=this.data.hasOwnProperty(t)&&this.data[t].hasOwnProperty(r)?this.data[t][r]:a)&&a.hasOwnProperty("vastAds")&&0!==a.vastAds.length){for(a.data.podDuration=0,a.data.podPlaylist=[],l=0,c=a.vastAds.length;l<c;l++)(o=a.vastAds[l].linear).hasOwnProperty(0)&&(n.icons&&o.config.vast.hasOwnProperty("icons")&&(o.cuepoints=this._getIconsCuepoints(o.config.vast.icons)),a.data.podDuration+=o.config.duration,a.data.podPlaylist.push(o));switch(e){case"preroll":s=i;break;case"postroll":s=i+1}a.data.podPlaylist=this.pp.addItems(a.data.podPlaylist,s).added,"preroll"===e&&this.pp.setActiveItem(i),y.utils.log("Plugin Ads: "+a.data.podPlaylist.length+" "+e+" successfuly added.")}else y.utils.log("Plugin Ads: No "+e+" to set.")},_setMidrolls:function(e){this._addMidrollCuepoints(e)},_addMidrollCuepoints:function(e){var a=this,o=e||this._adsSessionOwnerId,t=this.pp.getItemById(o),e=t.config.duration||0,i=this.getConfig("adTypes").midroll,s=i.cat||[],n,r,l=[],t,c,u,d,h,p;if(v.isArray(s)){for(u=0,d=s.length;u<d;u++)if(n=s[u],(r=this.data.hasOwnProperty(o)&&this.data[o].hasOwnProperty(n)?this.data[o][n]:r)&&r.hasOwnProperty("vastAds")&&0!==r.vastAds.length){for(r.data.podDuration=0,r.data.podPlaylist=[],h=0,p=r.vastAds.length;h<p;h++)(t=r.vastAds[h].linear).hasOwnProperty(0)&&(i.icons&&t.config.vast.hasOwnProperty("icons")&&(t.cuepoints=this._getIconsCuepoints(t.config.vast.icons)),r.data.podDuration+=t.config.duration,r.data.podPlaylist.push(t));l.push({id:n,on:0,off:0,once:!0,group:"midroll",value:this}),y.utils.log("Plugin Ads: "+r.data.podPlaylist.length+" "+n+" successfully added.")}else y.utils.log("Plugin Ads: No "+n+" to set.");0<l.length&&(c=function(e,t,i){var i=i||a.pp.getItemId(),s,n=l.length,r=e/(n+1);if(i===o){for(a.pp.removeListener("durationChange.midrolls"),s=0;s<n;s++)l[s].on=(s+1)*r,l[s].off=l[s].on+r;a.pp.addListener("cuepoint",a._midrollCuePointHandler),a.pp.setCuePoints(l,o)}},0<e?c(e,null,o):this.pp.addListener("durationChange.midrolls",c))}},_midrollCuePointHandler:function(e){var t;if("midroll"===e.group)try{(t=e.value)._playMidroll(e.value,e.id)}catch(e){y.utils.log("Plugin Ads: Error in _midrollCuePointHandler() when trying to run _playMidroll()",e)}},_playMidroll:function(e,t){var e=e,i=e._adsSessionOwnerId,s,n=e.pp,r,a={thereCanBeOnlyOne:!1,autoplay:!0,fullscreen:n.getFullscreenEnabled()?["viewport"]:[],iframe:!1},o={slaveMode:!0,ownerId:i,masterId:n._id,masterData:e.data,adTypes:e.getConfig("adTypes")},l=function(e,t){var i=t.getDC();t.selfDestruct(),t=null,i.remove(),n.removeListener("fullscreen",u),n.setPlay()},c=function(e,t){n.setVolume(e)},u=function(e,t){r.setFullscreen(e)},d=function(e,t){n.setFullscreen(e),e?n.addListener("fullscreen",u):n.removeListener("fullscreen",u)};(s=e.data.hasOwnProperty(i)&&e.data[i].hasOwnProperty(t)?e.data[i][t]:s).hasOwnProperty("data")&&s.data.hasOwnProperty("podPlaylist")&&0!==s.data.podPlaylist.length?(n.setPause(),n.getDC().append('<div id="midrollplayer"/>'),(r=y("#midrollplayer",v.extend({},n.config,a,{playlist:s.data.podPlaylist},{plugin_ads:o}),function(e){r.getDC().css({position:"absolute",top:0,left:0,"z-index":999999999,width:"100%",height:"100%"}),r.setVolume(n.getVolume()),n.getIsFullscreen()&&r.setFullscreen(!0)})).addListener("volume",c),r.addListener("fullscreen",d),r.addListener("error",l),r.addListener("done",l)):y.utils.log("Plugin Ads: _playMidroll(). No midrolls to set for "+t+".")},_addClick:function(){var t=this,i="",e,s=this.pp.getItem().config||[],n=this.getConfig("adTypes"),r;if(this.pp.getDC().find("."+this.getCN("clickthrough")).remove(),s.isAd&&s.hasOwnProperty("vast")&&s.vast.hasOwnProperty("clickthrough")&&!s.vast.isVPAID&&(r=s.vast.clickthrough,!v.isEmptyObject(r))){try{v.each(r,function(e,t){return""==t||null==t||(i=t,!1)})}catch(e){return void y.utils.log("Plugin Ads: Error in _addClick() when trying to set clickthrough",e)}try{this.applyToPlayer(v(a.createElement("a")).addClass("clickthrough").attr({href:i,target:"_blank"}).css({border:"1px solid red",position:"absolute",backgroundColor:"#fff",opacity:0,filter:"alpha(opacity=1)",top:0,left:0,width:"100%",height:"100%",display:"block",zIndex:"1000"}).click(function(e){return t.pp.getState("PLAYING")?(t.getConfig("pauseOnClick")&&t.pp.setPause(),t._VASTTrack("clickthrough"),!0):(e.preventDefault(),t.pp.setPlay(),!1)}).mousemove(function(e){t.pp._playerFocusListener(e)}).mouseenter(function(e){t.pp._playerFocusListener(e)}).mouseleave(function(e){t.pp._playerFocusListener(e)}),"clickthrough")}catch(e){y.utils.log("Plugin Ads: Error in _addClick() when trying to add clickthrough to the DOM",e)}}},_cappingActive:function(){switch(this.getConfig("cappingMethod")){case"id":if(this.pp.storage.restore(this._adId)>=this.getConfig("cappingLimit"))return!0;break;case"hard":if(this.getConfig("cappingLimit")<=0)return!1;if(this.pp.storage.restore("capping")>=this.getConfig("cappingLimit"))return!0}return!1},_cappingCount:function(){switch(this.getConfig("cappingMethod")){case"id":("number"!=typeof this.pp.storage.restore(this._adId)||this.pp.storage.restore(this._adId)<this.getConfig("cappingLimit"))&&this.pp.storage.save(this._adId,(this.pp.storage.restore(this._adId)||0)+1,this.getConfig("cappingPeriod"));break;case"hard":0<this.getConfig("cappingLimit")&&this.pp.storage.restore("capping")<this.getConfig("cappingLimit")&&this.pp.storage.save("capping",(this.pp.storage.restore("capping")||0)+1,this.getConfig("cappingPeriod"))}},_handleSkipOption:function(){var i=this.getConfig("prerollSkip")||0,s=this;var n,r;0!=i&&(n=this.applyToPlayer(v("<div/>").addClass("adskip").addClass("locked").css("zIndex",1e3).click(function(){s.pp.setActiveItem("next")}),"skip"),r=function(){var e=s.pp.getMaxPosition(),t=i-Math.ceil(e)+1;n.html(y.utils.parseTemplate(s.getConfig("prerollSkipHtml"),{secs:t})),t<=i/2&&n.addClass("active").removeClass("inactive"),e<i&&0<i||(s.pp.setConfig({disallowSkip:!1},0),s.pp.removeListener("time",r),n.removeClass("locked").addClass("unlocked").html(s.getConfig("prerollUnlockedHtml")))},this.pp.addListener("time",r))},_handleMessages:function(){var r=this,e=this.getConfig("adTypes"),t,i,s=this.pp.getItem(),a=0,n,o,l,c,i,u=0,d=[],h=[],p={title:"",h:0,m:0,s:0,secs:0},f,g=-1,m,A;if(s.config.isAd){try{c=s.config.vast.owner,i=s.config.cat,t=s.config.adType,this.data.hasOwnProperty(c)&&(n=this.data[c]).hasOwnProperty(i)&&(n=n[i],l=n.data,o=l.podPlaylist)}catch(e){y.utils.log("Plugin Ads: Error in _handleMessages() when trying to get config values from adItem.",e)}for(h=e[t].hasOwnProperty("messages")&&!v.isArray(e[t].messages)?[e[t].messages]:e[t].messages,m=0,A=h.length;m<A;m++)d.push(this.applyToPlayer(v("<div/>").addClass("admessage admessage"+m),"admessage"+m,!0));l.podTimeRemaining=l.podTimeRemaining||l.podDuration,u=o.length,a=v.inArray(v.grep(o,function(e,t){return e.config.id===s.id})[0],o,a),this.config.slaveMode?(i=y(this.config.masterId),p.title=i.getItemById(c).config.title||""):p.title=this.pp.getItemById(c).config.title||"",f=function(){var e=r.pp.getPosition()||0,t,i,s;if(1<=Math.abs(g-e)){t=Math.floor(r.pp.getTimeLeft()),l.podTimeRemaining=0;for(var n=a+1;n<u;n++)l.podTimeRemaining+=o[n].config.duration;for(l.podTimeRemaining+=t,l.podTimeRemaining=Math.floor(l.podTimeRemaining),i=y.utils.toTimeObject(l.podTimeRemaining),p.secs=l.podTimeRemaining,p.h=i.h<10?"0"+i.h:i.h,p.m=i.m<10?"0"+i.m:i.m,p.s=i.s<10?"0"+i.s:i.s,n=0;n<A;n++)s=y.utils.parseTemplate(h[n],p),d[n].html("<span>"+s+"</span>");g=e}t<=0&&r.pp.removeListener("time",f)},this.pp.removeListener("*.adcountdown"),this.pp.addListener("time.adcountdown",f)}},_handleIcons:function(){var i=this,e=this.getConfig("adTypes"),t,s,n=this.pp.getItem(),r=n.config.vast.owner,s=n.config.cat,t=n.config.adType,a=n.config.vast.icons,n=function(e){var t;"vasticons"===e.group&&(t=e.value,e.enabled?i._addIcon(t):i._removeIcon(t))};this._createIconsOverlay(),this.pp.removeListener("*.vasticons"),this.pp.addListener("cuepoint.vasticons",n)},_getIconsCuepoints:function(e){var t=[];return v.each(e,function(){var e=this;t.push({id:e.attributes.program,on:e.attributes.offset||0,off:y.utils.toSeconds(e.attributes.duration||0)+y.utils.toSeconds(e.attributes.offset||0),group:"vasticons",value:e})}),t},_createIconsOverlay:function(){var e,i;return i=this.applyToPlayer(v("<div>").addClass("vasticonsoverlay").css({position:"absolute",display:"block",zIndex:"1001",pointerEvents:"none"}),"vasticonsoverlay"),(e=function(e,t){var t=t.playerModel.getMediaElement();i.css(t.css(["width","height","left","top"]))})(null,this.pp),this.pp.removeListener("*.vasticons"),this.pp.addListener("scaled.vasticons",e),i},_removeIconsOverlay:function(){this.pp.removeListener("*.vasticons"),this.getElement("vasticonsoverlay").remove(),this._cleanupIcons()},_addIcon:function(t){var i=this,e=this.getElement("vasticonsoverlay"),s,n=t.resources,r,a,o=this.getConfig("resourcePriority");switch((s=v("<div>").attr({id:"vasticon_"+t.attributes.program,name:t.attributes.program}).css({width:t.attributes.width,height:t.attributes.height,position:"absolute",overflow:"hidden",pointerEvents:"auto"})).css(i._iconPositioning().getIconPosition(t)),v.each(o,function(e,t){if(n.hasOwnProperty(t))return a=n[r=t][0],!1}),r){case"image":v("<div/>").css({backgroundImage:"url("+a.src+")",backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"100%",height:"100%"}).appendTo(s);break;case"iframe":v("<iframe/>").attr("src",a.src).attr("width","100%").attr("height","100%").attr("frameborder",0).attr("allowtransparency","true").attr("scrolling","no").attr("marginwidth",0).attr("marginheight",0).attr("vspace",0).attr("hspace",0).appendTo(s);break;case"html":s.html(a.src)}null!==t.iconClicks.iconClickThrough&&(s.css({cursor:"pointer"}).on("mousedown",function(e){i.pp.getState("PLAYING")?(i.getConfig("pauseOnClick")&&i.pp.setPause(),null!==t.iconClicks.iconClickTracking&&v.each(t.iconClicks.iconClickTracking,function(e,t){i._addPixel(t,"IconClick")})):i.pp.setPlay()}),s.click(function(e){l.open(t.iconClicks.iconClickThrough,"_blank")})),e.append(s),null!==t.iconViewTracking&&v.each(t.iconViewTracking,function(e,t){i._addPixel(t,"IconView")}),this._iconPositioning().addIcon(t),y.utils.log("Plugin Ads: Icon '"+t.attributes.program+"' added. Current video position: "+this.pp.getPosition()+"s. Icon offset: "+(t.attributes.offset||"0")+"s",t)},_removeIcon:function(e){this.getElement("vasticonsoverlay").find("#vasticon_"+e.attributes.program).remove(),this._iconPositioning().removeIcon(e)},_cleanupIcons:function(){this._iconPositioning().clearIcons()},_iconPositioning:function(){var l=this;return{addIcon:function(e){var t=this.getIconPositionType(e);l._icons.hasOwnProperty(t)||(l._icons[t]=[]),l._icons[t].push(e)},removeIcon:function(e){var t=this.getIconPositionType(e),i=l._icons,e;return!!(i.hasOwnProperty(t)&&-1<(e=i[t].indexOf(e)))&&(i[t].splice(e,1),!0)},clearIcons:function(){l._icons={}},getIconPosition:function(e){var t={},i=this.getIconPositionType(e),s=e.attributes.xPosition,e=e.attributes.yPosition,n=0,r=l._icons,a,o;if("numeric"===i)parseInt(s)<0?t.right=Math.abs(parseInt(s))+"px":t.left=parseInt(s)+"px",parseInt(e)<0?t.bottom=Math.abs(parseInt(e))+"px":t.top=parseInt(e)+"px";else if("percentage"===i)parseInt(s)<0?t.right=Math.abs(parseFloat(s))+"%":t.left=parseFloat(s)+"%",parseInt(e)<0?t.bottom=Math.abs(parseFloat(e))+"%":t.top=parseFloat(e)+"%";else{if(r.hasOwnProperty(i))for(a=0,o=r[i].length;a<o;a++)n+=parseInt(r[i][a].attributes.height);t[s]="0px",t[e]=n+"px"}return t},getIconPositionType:function(e){var t="numeric",i=e.attributes.xPosition,e=e.attributes.yPosition;return-1<i.indexOf("%")&&e.indexOf("%")&&(t="percentage"),t=-1<["left","right"].indexOf(i)&&-1<["top","bottom"].indexOf(e)?i+e:t}}},_impressionTracker:function(e){var t=this,i=this.pp.getItem(),s=i.config,n=i.config.vast||{},r={},a={};if(!1!==this._enableTracking){for(a in r="NonLinear"===e?n.impressionsNonLinear:n.impressions||{})r.hasOwnProperty(a)&&(s.isAd||"NonLinear"===e&&i.id===this._adsSessionOwnerId)&&this._addPixel(r[a],"impression");"NonLinear"===e?n.impressionsNonLinear={}:n.impressions={}}},_VASTTrack:function(e){if(!1!==this._enableTracking){var t=this.pp.getItem(),i={},s={},n;try{if((i=t.config).isAd&&i.vast.tracking.hasOwnProperty(e))for(n in s=i.vast.tracking[e])s.hasOwnProperty(n)&&this._addPixel(s[n],e)}catch(e){y.utils.log("Plugin Ads: Error in _VASTTrack() when trying to get config.",e)}}},_addPixel:function(e,t){var e,i;e&&(e=this.getConfig("urlPreprocessor")(this,e),i="",y.utils.log("VAST Tracking",t,e),!0===this.getConfig("vastNoCache")&&(i="ver="+(new Date).getTime(),e=-1<e.indexOf("?")?e+"&"+i:e+"?"+i),v("body").append(v("<img/>").attr("src",e).attr("alt",t).addClass("imatrackingpixel").hide()))},_adPodCleanup:function(e){var t=e.config.vast.owner,i=e.config.cat,s=e.config.adType,e,n,r;e===(r=this.data.hasOwnProperty(t)&&(e=this.data[t]).hasOwnProperty(i)?(n=(e=e[i]).data).podPlaylist:r)[r.length-1]&&this._removeAds(i)},_removeAds:function(e){var t;"*"===(e||"*")?(this.pp.removeItems(function(e,t){return!0===e.config.isAd}),this.data={}):(this.pp.removeItemsCategory(e),delete this.data[this._adsSessionOwnerId][e])},_isVideoPlayable:function(e){var e=this.pp.getItemById(e)||{};return!(!e.hasOwnProperty("model")||"NA"===e.model)},_getLevel:function(e){return this._adTypes(e)},_adTypes:function(e){var t=this.getConfig("resourcePriority");for(var i in t)if(t[i]===e)return i;return!1},_isAd:function(){return this.pp.getDC().hasClass("ad")||!1},_selectSchedulingMethod:function(e){var t,i;switch(this.getConfig("schedulingMethod")){case"auto":i=this._detectSchedulingMethod(e);break;case"vmap":i="vmap";break;case"vastAdIdKey":i="vastAdIdKey";default:i="none"}return i},_detectSchedulingMethod:function(e){var t="none";return this._isVMAPDocument(e)?t="vmap":this._hasVASTAdIdKey(e)&&(t="vastAdIdKey"),t},_hasVASTAdIdKey:function(e){var t=this.getConfig("adTypes"),i,s,n,r,a,o,l,c;for(s in t)if(t.hasOwnProperty(s)&&t[s].hasOwnProperty("key")&&t[s].hasOwnProperty("cat"))for(i=t[s],n=v.isArray(i.key)?i.key:[i.key],a=v.isArray(i.cat)?i.cat:[i.cat],l=0,c=n.length;l<c;l++)if(r=n[l],o=a[l],"string"==typeof r&&"string"==typeof o&&v(e).find('Ad[id*="'+r+'"]').length)return!0;return!1},_isVMAPDocument:function(e){return e.documentElement===e.getElementsByTagNameNS(this.VMAPNS,"VMAP")[0]},_isVASTDocument:function(e){return e.documentElement===e.getElementsByTagName("VAST")[0]},_getVMAPVersion:function(e){return!!this._isVMAPDocument(e)&&e.documentElement.getAttribute("version")},_getVASTVersion:function(e){return!!this._isVASTDocument(e)&&e.documentElement.getAttribute("version")},_getAdTypeForAdCat:function(e){var t=this.getConfig("adTypes"),i,s,n,r;for(s in t)if(t.hasOwnProperty(s)&&t[s].hasOwnProperty("cat")){i=t[s],n=v.isArray(i.cat)?i.cat:[i.cat];for(var r=0;r<n.length;r++)if(n[r]===e)return s}return!1},_createFriendlyIframe:function(e,t){var i=v("<iframe>").attr("src","javascript:false"),s;switch(t){case"javascript":s='<div><script>window.inDapIF = true;<\/script><script src="'+e+'" type="application/javascript"><\/script></div>';break;case"html":s="<div><script>window.inDapIF = true;<\/script>"+e+"</div>"}return i.on("load",function(){var e;this.contentWindow&&v(this.contentWindow.document).find("body").html(s)}),i}},y.plugins.projekktorAds=e}(window,document,jQuery,projekktor),function(s,o,l,n){if(void 0===n||!n.hasOwnProperty("plugins"))throw new Error("Projekktor player not found. Please initialize Projekktor before adding any plugins.");var e=function(){};e.prototype={version:"1.1.2",reqVer:"1.8.1",_showOnReady:!1,_myContent:null,pluginReady:!1,relatedTimeout:null,relatedSVG:null,_items:[],config:{enabled:!0,showOnStart:!1,replay:{enabled:!0,title:"Replay"},embed:{enabled:!0,code:'<iframe id="%{embedid}" src="%{playerurl}?vidid=%{ID}" width="640" height="385" frameborder="0"></iframe>',title:"Embed this"},share:{enabled:!0,code:"http://%{playerurl}?vidid=%{ID}",title:"Share me"},related:{enabled:!0,title:"Related Videos",itemTemplate:'<a href="%{url}" target="%{target}"><span class="title">%{title}</span><span class="image"><img src="%{poster}"/></span></a>',items:[],autoContinue:{enabled:!0,timeout:5}}},initialize:function(){this._myContent=l("<div/>").addClass("wrapper"),this._myPanel=this.applyToPlayer(l(o.createElement("div")).addClass("related").append(this._myContent)),this.setInactive(),this.pluginReady=!0},_buildShare:function(){var e=this.getConfig("ns"),t=l("<div>").addClass(e+"relatedone"),i=this,s="",n=this.getConfig("related").autoContinue.enabled,r=this.getConfig("related").autoContinue.timeout,a=l('<svg class="csvg inactive" viewBox="0 0 36 36"><path class="cpath" d="M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831"/></svg>'),o=l("<style>.projekktor .pprelated .cpath{animation-duration:"+r+"s !important;-webkit-animation-duration:"+r+"s !important;}</style>");(this.getConfig("replay").enabled||this.getConfig("embed").enabled||this.getConfig("share").enabled)&&(this.getConfig("replay").enabled&&(s=this.getConfig("replay").title,t.append(l("<div>").addClass(e+"relatedreplay").append(!!s&&l("<h2>").html(s)).append(l("<div>").addClass("container").append(l("<a>").addClass("replay").attr({href:"#",title:this.getConfig("replay").title}).click(function(e){return e.stopPropagation(),i.pp.setActiveItem(0).setPlay(),i.relatedTimeout&&clearTimeout(i.relatedTimeout),!1})).append(!!n&&a))),this.getConfig("related").enabled)&&n&&0<r&&(l("head").append(o),a.removeClass("inactive").addClass("active"),this.relatedSVG=a,this.relatedTimeout&&clearTimeout(this.relatedTimeout),this.relatedTimeout=setTimeout(this._startFirstRelated.bind(this),1e3*r)),this.getConfig("embed").enabled&&(s=this.getConfig("embed").title,t.append(l("<div>").addClass(e+"relatedembed").append(!!s&&l("<h2/>").html(s)).append(l("<textarea>").val(this._getEmbedCode()).click(function(e){e.stopPropagation(),this.select()}).focus(function(){this.select()}).attr("rows",4).addClass("context")))),this.getConfig("share").enabled&&(s=this.getConfig("share").title,t.append(l("<div>").addClass(e+"relatedshare").append(!!s&&l("<h2/>").html(s)).append(l("<textarea>").val(this._getShareUrl()).click(function(e){e.stopPropagation(),this.select()}).focus(function(){this.select()}).attr("rows",4).addClass("context")))),this._myContent.append(t))},_buildRelated:function(){var s=this.getConfig("ns"),e=l("<div>").addClass(s+"relatedtwo"),n=l("<div>").addClass(s+"relateditems"),t=this.getConfig("related").title,r=this.getConfig("related").itemTemplate,i=[],a=this;this._items=i=this._getItems(),l.each(i,function(e,t){var i;(t.url||t.clickHandler)&&(i=r,Object.keys(t).forEach(function(e){i=i.replace("%{"+e+"}",t[e])}),i=l(i).addClass(s+"relateditem").off().on("mouseenter",function(){l(this).addClass("active")}).on("mouseleave",function(){l(this).removeClass("active")}).addClass("ontouchstart"in o.documentElement?"active":""),t.clickHandler&&"function"==typeof t.clickHandler&&i.on("click",function(){a.relatedTimeout&&(a.relatedSVG.removeClass("active").addClass("inactive"),clearTimeout(a.relatedTimeout)),a.setInactive(),t.clickHandler()}),n.append(i))}),e.append(!!t&&l("<h2>").html(t)).append(n),this._myContent.append(e)},_startFirstRelated:function(){var i=null,s=null;l.each(this._items,function(e,t){null===s&&null===i&&("function"==typeof t.clickHandler&&(i=t.clickHandler),"string"==typeof t.url)&&(s=t.url)}),this.setInactive(),"function"==typeof i?i.call():"string"==typeof s&&(o.location.href=s)},_getEmbedCode:function(){var e=this.getConfig("embed").code;var t={};for(var i in t.embedid=n.utils.randomId(8),t.playerurl=s.location.href+s.location.hash,t.ID=this.pp.getItem().ID,t)t.hasOwnProperty(i)&&(e=n.utils.parseTemplate(e,t));return e},_getShareUrl:function(){var e=this.getConfig("share").code;var t={};for(var i in t.embedid=n.utils.randomId(8),t.playerurl=s.location.href+s.location.hash,t.ID=this.pp.getItem().ID,t)t.hasOwnProperty(i)&&(e=n.utils.parseTemplate(e,t));return jQuery("<div />").text(e).html()},_buildPanel:function(){this._myContent.html(""),!0===this.getConfig("enabled")&&(this.getConfig("replay").enabled||this.getConfig("embed").enabled||this.getConfig("share").enabled||this.getConfig("related").enabled)&&(this.getConfig("share")&&this._buildShare(),this.getConfig("related")&&this._buildRelated(),this._items.length)&&this.setActive()},_getItems:function(){var e=[];return e="function"==typeof this.getConfig("related").items?this.getConfig("related").items(this.pp):this.getConfig("related").items},displayReadyHandler:function(){this.getConfig("showOnStart")&&this.pp.getState("IDLE")&&this._buildPanel()},doneHandler:function(){this._buildPanel()},stateHandler:function(e){switch(e){case"ERROR":case"STARTING":this.setInactive()}}},n.plugins.projekktorRelated=e}(window,document,jQuery,projekktor),function(o,e,c,u){if(void 0===u||!u.hasOwnProperty("plugins"))throw new Error("Projekktor player not found. Please initialize Projekktor before adding any plugins.");var t=function(){};t.prototype={version:"1.1.9",reqVer:"1.8.1",sessionId:null,pixelSeqCount:0,sessionStartTime:0,userStartTime:new Date,continuousDurations:[],totalPlaybackDuration:0,error:{code:0,message:"unknown error"},_trackThis:{},_data:{},_usageDuration:0,_usageDurationOffset:0,_lastPos:-1,config:{permanentUuid:!1,respectDNT:!1,track:[]},_getConstants:function(){var e=this.pp.getSupportedPlatformsGlobal(),t=this.pp.getPlatform();return{uid:this.getTrackingId(),sid:this.sessionId,sst:this.sessionStartTime.getTime(),plyid:this.pp.getId(),r:String(Math.random()).slice(2,8),url:this.cleanUrl(o.location.href),ref:this.cleanUrl(o.location.href),pltfrms:e,pltfrm:t,res:screen.width+"x"+screen.height,ua:u.userAgent.string}},_getVariables:function(e){var t=new Date,i=-1<this.pp.getConfig("streamType").indexOf("dvr")||-1<this.pp.getConfig("streamType").indexOf("live");return{cat:this.pp.getItem().cat,dur:this.pp.getDuration(),durms:1e3*this.pp.getDuration(),err:e?1:0,errcode:this.error.code,errmsg:this.error.message,fs:this.pp.getIsFullscreen(),h:t.getHours(),m:t.getMinutes(),mpos:this.pp.getMaxPosition(),mposms:1e3*this.pp.getMaxPosition(),mf:this.pp.getMediaType().split("/")[1],mt:this.pp.getMediaType().split("/")[0],mid:this.pp.getItemId(),midx:this.pp.getItemIdx(),mod:this.pp.getModel(),murl:this.pp.getSource()||"",mcontdur:Math.max.apply(Math,this.continuousDurations.concat(this._usageDuration)||[]),mlive:i,pstate:this.pp.getState(),pver:this.pp.getVersion(),pos:this.pp.getPosition(),posms:1e3*this.pp.getPosition(),rnd:u.utils.randomId(8),seq:this.pixelSeqCount,s:t.getSeconds(),sdur:t.getTime()-this.sessionStartTime.getTime(),udur:t.getTime()-this.userStartTime.getTime(),udurnet:t.getTime()-this.userStartTime.getTime(),title:this.pp.getConfig("title"),tpdur:this.totalPlaybackDuration,ts:t.getTime()}},initialize:function(){this.pluginReady=!0,this.sessionId=this._uuid(),this.pixelSeqCount=0,this.sessionStartTime=new Date},itemHandler:function(){var a=this,e=navigator.doNotTrack||navigator.msDoNotTrack;this.removeTrackingPixels(),this._trackThis={},this.continuousDurations=[],this._usageDuration=0,this._usageDurationOffset=0,(!(this.totalPlaybackDuration=0)!==this.getConfig("respectDNT")||"yes"!==e&&"1"!==e)&&(this.pluginReady=!1,c.each(this.getConfig("track"),function(){var i=this.url||null,s=this.post||null,n=this.cat||"*",r=this.callback||null;return null==a._trackThis[n]&&(a._trackThis[n]={}),c.each(this.events,function(e,t){null==a._trackThis[n][t]&&(a._trackThis[n][t]=[]),a._trackThis[n][t].push({url:i,post:s,callback:r})}),!0}),this.pluginReady=!0)},eventHandler:function(e,t,i){if(!c.isEmptyObject(this._trackThis)){var s=e,n=[],r=[],a=this,o=this.pp.getItem().cat;switch(e){case"state":switch(s=e+"."+t.toLowerCase(),t){case"AWAKENING":this.userStartTime=new Date;break;case"COMPLETED":this.continuousDurations.push(this._usageDuration),this.totalPlaybackDuration+=this._usageDuration}break;case"buffering":s=e+"."+t.toLowerCase();break;case"seek":isNaN(t)&&(s=e+"."+t.toLowerCase(),"SEEKED"==t)&&(this.continuousDurations.push(this._usageDuration),this._usageDurationOffset=null);break;case"time":if(Math.abs(this._lastPos-t)<1)return;this._lastPos=Math.floor(t),null===this._usageDurationOffset&&(this._usageDuration=0,this._usageDurationOffset=t),s=e+"."+this._lastPos,this._usageDuration=t-this._usageDurationOffset,this.totalPlaybackDuration=this.continuousDurations.reduce(function(e,t){return e+t},0)+this._usageDuration;break;case"error":this.error.code=t,this.error.message=u.utils.errorMessage(t,this.pp);break;default:t=""}try{n=s.split(".");for(var l=0;l<n.length;l++)r.push(n[l]),s=r.join("."),this._trackThis[o]&&c.each(this._trackThis[o][s]||[],function(){a._trackCall(e,this.url,this.post,this.callback)}),this._trackThis.hasOwnProperty("*")&&c.each(this._trackThis["*"][s]||[],function(){a._trackCall(e,this.url,this.post,this.callback)})}catch(e){}}},_trackCall:function(e,t,i,s){var n={},r=this._getVariables("error"===e),a=this._getConstants();var e,s;this.pixelSeqCount++,null!=s&&s(a,r,this.pp),null!=t&&(t=u.utils.parseTemplate(t,c.extend({},a,r),!0),null==i?this.addTrackingPixel(t):(c.each(i,function(t,i){try{n[t]=u.utils.parseTemplate(i,c.extend({},a,r),!0)}catch(e){n[t]=i}}),o.XDomainRequest?((e=new XDomainRequest).open("POST",t,!0),e.onprogress=function(){},e.onerror=function(){},e.send(c.param(n))):((s={url:t,type:"POST",data:n,error:function(){},success:function(){},cache:!1,async:!0,crossDomain:!0}).xhrFields={withCredentials:!0},s.beforeSend=function(e){e.withCredentials=!0},c.support.cors=!0,c.ajax(s))))},cleanUrl:function(e){return o.encodeURIComponent(e.replace(new RegExp("#.*"),""))},addTrackingPixel:function(e){c("body").append(c("<img/>").attr("src",c("<p/>").html(e).text()).addClass(this.pp.getId()+"_tracking").hide())},removeTrackingPixels:function(){c("."+this.pp.getId()+"_tracking").remove()},getTrackingId:function(){var e="prkusruuid",t=null;return!1===this.getConfig("permanentUuid")?(this.pp.storage.save(e,"anonymous"),this._uuid()):(null!=(t=this.pp.storage.restore(e))&&"anonymous"!=t||(t=this._uuid(),this.pp.storage.save(e,t)),t)},_uuid:function(){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");var t=new Array(36),i=0,s;for(var n=0;n<36;n++)8==n||13==n||18==n||23==n?t[n]="-":14==n?t[n]="4":(s=15&(i=i<=2?33554432+16777216*Math.random()|0:i),i>>=4,t[n]=e[19==n?3&s|8:s]);return t.join("")}},u.plugins.projekktorTracking=t}(window,document,jQuery,projekktor),function(r,e,o,l){if(void 0===l||!l.hasOwnProperty("plugins"))throw new Error("Projekktor player not found. Please initialize Projekktor before adding any plugins.");var t=function(){};t.prototype={version:"1.1.3",reqVer:"1.8.1",containers:{main:null,viewport:null,media:null},config:{schedule:[{id:"overlay",on:0,off:0,once:!1,alignTo:"media",width:"default",height:"default",position:{top:"0px",left:"0px"},styles:{},cssClasses:"",type:"",src:"",title:"",interactive:!1,link:{url:"http://www.projekktor.com",target:"_blank"},callback:function(e,t,i){}}]},defaults:{overlay:{id:null,on:0,off:0,once:!1,alignTo:"media",width:"default",height:"default",position:{top:"0px",left:"0px",bottom:null,right:null},styles:{},cssClasses:"",src:null,type:null,title:"",interactive:!1,link:{url:null,target:"_blank"},callback:null}},_endRelativeOverlays:[],initialize:function(){this.createMainContainer(),this.pluginReady=!0},itemHandler:function(){},stateHandler:function(e){switch(e){case"STARTING":this.handleOverlays();break;case"COMPLETED":this.removeOverlayContainers()}},durationChangeHandler:function(e){this.updateEndRelativeOverlaysCuepoints(e)},errorHandler:function(e){this.removeOverlayContainers()},handleOverlays:function(){var i=this,e=this.getConfig("schedule")||[],e;this.removeOverlayContainers(),e.length?(this.addOverlayContainers(),this.pp.removeCuePoints(this.pp.getItemId(),!0,["overlayplugin"]),this.pp.setCuePoints(this.getOverlaysCuepoints(e)),e=function(e){var t;e.group==="plugin"+i.name&&(t=e.value,e.enabled?i.addOverlay(t):i.removeOverlay(t))},this.pp.removeListener("cuepoint.plugin"+this.name),this.pp.addListener("cuepoint.plugin"+this.name,e)):l.utils.log("Plugin Overlay: no overlays defined for the current item.")},createMainContainer:function(){this.containers.main=this.applyToPlayer(o("<div>").css({position:"absolute",width:"100%",height:"100%",display:"block",pointerEvents:"none"}))},addOverlayContainers:function(){var e,t=this.containers.main,i,t;i=o("<div>").addClass(this.getCN("overlay_media")).css({position:"absolute",display:"block",pointerEvents:"none"}).appendTo(t),t=o("<div>").addClass(this.getCN("overlay_viewport")).css({position:"absolute",width:"100%",height:"100%",display:"block",pointerEvents:"none"}).appendTo(t),(e=function(e,t){var t=t.playerModel.getMediaElement();i.css(t.css(["width","height","left","top"]))})(null,this.pp),this.pp.addListener("scaled.plugin"+this.name,e),this.containers.media=i,this.containers.viewport=t},removeOverlayContainers:function(){this.containers.main&&(this._endRelativeOverlays=[],this.containers.main.html(""),this.pp.removeListener("*.plugin"+this.name),this.containers.viewport=null,this.containers.media=null)},addOverlay:function(t){var e=o("<div>"),i=t.alignTo,i=this._getDestinationContainer(i),s=this.getCN("overlay_"+t.id),n=this;e.addClass(this.getCN("overlay_element")).attr("id",s).append(this._getElementType(t.src,t.type,t.id,t.title).addClass(t.cssClasses).css(t.styles).css(this._getElementPositionCss({top:t.position.top,right:t.position.right,bottom:t.position.bottom,left:t.position.left,width:t.width,height:t.height})).css({width:"default"===t.width?void 0:t.width,height:"default"===t.height?void 0:t.height,position:"absolute",display:"block",pointerEvents:t.interactive?"auto":"none"})),t.interactive&&(t.link&&t.link.url&&e.css({cursor:"pointer"}).click(function(e){r.open(t.link.url,t.link.target)}),t.link||"function"!=typeof t.callback||e.css({cursor:"pointer"}).click(function(e){t.callback(n.pp,n,e)})),i.append(e)},removeOverlay:function(e){var t=e.alignTo,t=this._getDestinationContainer(t),e=this.getCN("overlay_"+e.id);t.find("#"+e).remove()},getOverlaysCuepoints:function(e){var s=this,n=[],r=this.pp.getDuration()||0,a=this.pp.getIsLiveOrDvr();return o.each(e,function(){var e=o.extend(!0,{},s.defaults.overlay,this),t=s._getRelativeTime(e.on,r),i=a?Number.POSITIVE_INFINITY:s._getRelativeTime(e.off||r,r);!a&&(-1<(e.on+""+e.off).indexOf("-")||0===e.off)&&s._endRelativeOverlays.push(e),"string"==typeof e.src&&e.src.length&&n.push({id:e.id||l.utils.randomId(8),on:t,off:i,once:e.once||!1,group:"plugin"+s.name,value:e})}),n},updateEndRelativeOverlaysCuepoints:function(e){var t,i,s,n;for(s=0,n=this._endRelativeOverlays.length;s<n;s++)t=this._endRelativeOverlays[s],(i=this.pp.getCuePointById(t.id))&&i.group==="plugin"+this.name&&(i.on=this._getRelativeTime(t.on,e),i.off=this._getRelativeTime(t.off,e)||e)},_getRelativeTime:function(e,t){return-1<String(e).indexOf("-")&&t&&(e=t-Math.abs(l.utils.toSeconds(e))),l.utils.toSeconds(e)},_getElementType:function(e,t,i,s,n){var r;return-1<t.indexOf("image")&&(r=o("<img>").attr("src",e).attr("type",t).attr("id",this.getCN("overlay_"+i+"_image")).attr("alt",escape(s))),"iframe"===t&&(r=o("<iframe>").attr("src",e).attr("frameborder",0).attr("allowtransparency","true").attr("scrolling","auto").attr("marginwidth",0).attr("marginheight",0).attr("vspace",0).attr("hspace",0)),r="html"===t?o("<div>").html(e):r},_getElementPositionCss:function(e){var t={};return-1<String(e.top+e.bottom).indexOf("center")?t.top="calc(50% - ("+e.height+"/2))":e.bottom?t.bottom=e.bottom:t.top=e.top||"0px",-1<String(e.left+e.right).indexOf("center")?t.left="calc(50% - ("+e.width+"/2))":e.right?t.right=e.right:t.left=e.left||"0px",t},_getDestinationContainer:function(e){var t;return t="viewport"===e?this.containers.viewport:this.containers.media}},l.plugins.projekktorOverlay=t}(window,document,jQuery,projekktor)),"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window&&(module.exports=window.projekktor);